/*! For license information please see react.min.js.LICENSE.txt */
(this.webpackChunkBetterMessages=this.webpackChunkBetterMessages||[]).push([["node_modules_uppy_react_lib_index_js"],{78029:(e,t,n)=>{"use strict";var r=n(89990);n(16280),n(76918),n(28706),n(2892),n(40150),n(9868),e.exports=function(e){if("number"!=typeof e||Number.isNaN(e))throw new TypeError("Expected a number, got ".concat(r(e)));var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return"".concat((t?"-":"")+e," B");var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var a=n[i];return e>=10||e%1==0?"".concat((t?"-":"")+e.toFixed(0)," ").concat(a):"".concat((t?"-":"")+e.toFixed(1)," ").concat(a)}},85661:(e,t,n)=>{"use strict";n(52675),n(16280),n(76918),n(28706),n(44114),n(34782),n(59904),n(63548);var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},u.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,a),!0;case 6:return c.fn.call(c.context,t,n,r,a,o),!0}for(u=1,l=new Array(p-1);u<p;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),p){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(d=1,l=new Array(p-1);d<p;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||l(this,a);else{for(var s=0,u=[],c=o.length;s<c;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&u.push(o[s]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},61643:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(28706),n(2892),n(9868),e.exports=function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got ".concat(r(e)));var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return"".concat((t?"-":"")+e," B");var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var a=n[i];return e>=10||e%1==0?"".concat((t?"-":"")+e.toFixed(0)," ").concat(a):"".concat((t?"-":"")+e.toFixed(1)," ").concat(a)}},3517:e=>{e.exports=function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(e[n]!==t[n])return!1;return!0}},33758:(e,t,n)=>{var r=n(89990);n(16280),n(76918),n(34782),n(23288),n(26099),n(58940),n(27495),n(90906),n(38781),n(25440),n(13611),n(76031);var i="Expected a function",a=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,p=parseInt,d="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,h="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),g=Object.prototype.toString,v=Math.max,y=Math.min,m=function(){return f.Date.now()};function b(e,t,n){var r,a,o,s,l,u,c=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(i);function f(t){var n=r,i=a;return r=a=void 0,c=t,s=e.apply(i,n)}function g(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-c>=o}function b(){var e=m();if(g(e))return P(e);l=setTimeout(b,function(e){var n=t-(e-u);return d?y(n,o-(e-c)):n}(e))}function P(e){return l=void 0,h&&r?f(e):(r=a=void 0,s)}function S(){var e=m(),n=g(e);if(r=arguments,a=this,u=e,n){if(void 0===l)return function(e){return c=e,l=setTimeout(b,t),p?f(e):s}(u);if(d)return l=setTimeout(b,t),f(u)}return void 0===l&&(l=setTimeout(b,t)),s}return t=O(t)||0,w(n)&&(p=!!n.leading,o=(d="maxWait"in n)?v(O(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),S.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=u=a=l=void 0},S.flush=function(){return void 0===l?s:P(m())},S}function w(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function P(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&g.call(e)==o}function O(e){if("number"==typeof e)return e;if(P(e))return a;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=u.test(e);return n||c.test(e)?p(e.slice(2),n?2:8):l.test(e)?a:+e}e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(i);return w(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),b(e,t,{leading:r,maxWait:t,trailing:a})}},35252:(e,t,n)=>{n(34782),n(27495),n(25440);var r=n(79876),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},79876:(e,t,n)=>{n(27495),n(90906);var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},59209:(e,t,n)=>{n(16280),n(76918),n(76031);var r=n(67873),i=n(93224),a=n(43146),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,p,d,h,f=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=l,r=u;return l=u=void 0,f=t,p=e.apply(r,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-f>=c}function w(){var e=i();if(b(e))return P(e);d=setTimeout(w,function(e){var n=t-(e-h);return v?s(n,c-(e-f)):n}(e))}function P(e){return d=void 0,y&&l?m(e):(l=u=void 0,p)}function O(){var e=i(),n=b(e);if(l=arguments,u=this,h=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(w,t),g?m(e):p}(h);if(v)return clearTimeout(d),d=setTimeout(w,t),m(h)}return void 0===d&&(d=setTimeout(w,t)),p}return t=a(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?o(a(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),O.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=h=u=d=void 0},O.flush=function(){return void 0===d?p:P(i())},O}},93224:(e,t,n)=>{var r=n(42785);e.exports=function(){return r.Date.now()}},34034:(e,t,n)=>{n(16280),n(76918);var r=n(59209),i=n(67873);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},43146:(e,t,n)=>{n(34782),n(58940),n(27495),n(90906);var r=n(35252),i=n(67873),a=n(78766),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}},21397:(e,t,n)=>{var r=n(29119),i=/[\/\+\.]/;e.exports=function(e,t){function n(t){var n=r(t,e,i);return n&&n.length>=2}return t?n(t.split(";")[0]):n}},70647:(e,t,n)=>{n(28706),n(25276),n(44114),n(79432),e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,i,a,o,s){var l=function(e){var n=t[e]?t[e]:[],r=e.indexOf(":"),i=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],a=Object.keys(t),o=0,s=a.length;for(;o<s;o++){var l=a[o];if("*"===l&&(n=n.concat(t[l])),2===i.length&&i[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){var r=0,i=t.length;for(;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,l,[n,r,i,a,o,s])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,(function r(){n.apply(this,arguments),e.off(t,r)}))},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,a=r?r.length:0;i<a;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},e}},36480:(e,t,n)=>{"use strict";n.d(t,{FK:()=>O,Ob:()=>q,XX:()=>H,_3:()=>P,fF:()=>i,h:()=>b,uA:()=>S,v2:()=>E});n(51629),n(25276),n(64346),n(44114),n(34782),n(15086),n(26910),n(54554),n(94170),n(62010),n(26099),n(3362),n(27495),n(90906),n(25440),n(48718),n(23500),n(76031);var r,i,a,o,s,l,u,c,p,d,h={},f=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function y(e,t){for(var n in t)e[n]=t[n];return e}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n){var i,a,o,s={};for(o in t)"key"==o?i=t[o]:"ref"==o?a=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return w(e,s,i,a,null)}function w(e,t,n,r,o){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++a:o,__i:-1,__u:0};return null==o&&null!=i.vnode&&i.vnode(s),s}function P(){return{current:null}}function O(e){return e.children}function S(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function A(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return A(e)}}function _(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!F.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||l)(F)}function F(){var e,t,n,r,a,s,l,c;for(o.sort(u);e=o.shift();)e.__d&&(t=o.length,r=void 0,s=(a=(n=e).__v).__e,l=[],c=[],n.__P&&((r=y({},a)).__v=a.__v+1,i.vnode&&i.vnode(r),U(n.__P,r,a,n.__n,n.__P.namespaceURI,32&a.__u?[s]:null,l,null==s?k(a):s,!!(32&a.__u),c),r.__v=a.__v,r.__.__k[r.__i]=r,j(l,r,c),r.__e!=s&&A(r)),o.length>t&&o.sort(u));F.__r=0}function C(e,t,n,r,i,a,o,s,l,u,c){var p,d,g,v,y,m=r&&r.__k||f,b=t.length;for(n.__d=l,T(n,t,m),l=n.__d,p=0;p<b;p++)null!=(g=n.__k[p])&&"boolean"!=typeof g&&"function"!=typeof g&&(d=-1===g.__i?h:m[g.__i]||h,g.__i=p,U(e,g,d,i,a,o,s,l,u,c),v=g.__e,g.ref&&d.ref!=g.ref&&(d.ref&&M(d.ref,null,g),c.push(g.ref,g.__c||v,g)),null==y&&null!=v&&(y=v),65536&g.__u||d.__k===g.__k?l=D(g,l,e):"function"==typeof g.type&&void 0!==g.__d?l=g.__d:v&&(l=v.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=l,n.__e=y}function T(e,t,n){var r,i,a,o,s,l=t.length,u=n.length,c=u,p=0;for(e.__k=[],r=0;r<l;r++)o=r+p,null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?w(null,i,null,null,null):v(i)?w(O,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?w(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,s=x(i,n,o,c),i.__i=s,a=null,-1!==s&&(c--,(a=n[s])&&(a.__u|=131072)),null==a||null===a.__v?(-1==s&&p--,"function"!=typeof i.type&&(i.__u|=65536)):s!==o&&(s==o-1?p=s-o:s==o+1?p++:s>o?c>l-o?p+=s-o:p--:s<o&&p++,s!==r+p&&(i.__u|=65536))):(a=n[o])&&null==a.key&&a.__e&&!(131072&a.__u)&&(a.__e==e.__d&&(e.__d=k(a)),L(a,a,!1),n[o]=null,c--);if(c)for(r=0;r<u;r++)null!=(a=n[r])&&!(131072&a.__u)&&(a.__e==e.__d&&(e.__d=k(a)),L(a,a))}function D(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=D(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=k(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(v(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function x(e,t,n,r){var i=e.key,a=e.type,o=n-1,s=n+1,l=t[n];if(null===l||l&&i==l.key&&a===l.type&&!(131072&l.__u))return n;if(r>(null==l||131072&l.__u?0:1))for(;o>=0||s<t.length;){if(o>=0){if((l=t[o])&&!(131072&l.__u)&&i==l.key&&a===l.type)return o;o--}if(s<t.length){if((l=t[s])&&!(131072&l.__u)&&i==l.key&&a===l.type)return s;s++}}return-1}function B(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||g.test(t)?n:n+"px"}function I(e,t,n,r,i){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||B(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||B(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=c,e.addEventListener(t,a?d:p,a)):e.removeEventListener(t,a?d:p,a);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function N(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=c++;else if(t.t<n.u)return;return n(i.event?i.event(t):t)}}}function U(e,t,n,r,a,o,s,l,u,c){var p,d,h,f,g,m,b,w,P,k,A,_,F,T,D,E,x=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),o=[l=t.__e=n.__e]),(p=i.__b)&&p(t);e:if("function"==typeof x)try{if(w=t.props,P="prototype"in x&&x.prototype.render,k=(p=x.contextType)&&r[p.__c],A=p?k?k.props.value:p.__:r,n.__c?b=(d=t.__c=n.__c).__=d.__E:(P?t.__c=d=new x(w,A):(t.__c=d=new S(w,A),d.constructor=x,d.render=z),k&&k.sub(d),d.props=w,d.state||(d.state={}),d.context=A,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),P&&null==d.__s&&(d.__s=d.state),P&&null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=y({},d.__s)),y(d.__s,x.getDerivedStateFromProps(w,d.__s))),f=d.props,g=d.state,d.__v=t,h)P&&null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),P&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(P&&null==x.getDerivedStateFromProps&&w!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(w,A),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(w,d.__s,A)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=w,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(w,d.__s,A),P&&null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(f,g,m)}))}if(d.context=A,d.props=w,d.__P=e,d.__e=!1,F=i.__r,T=0,P){for(d.state=d.__s,d.__d=!1,F&&F(t),p=d.render(d.props,d.state,d.context),D=0;D<d._sb.length;D++)d.__h.push(d._sb[D]);d._sb=[]}else do{d.__d=!1,F&&F(t),p=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++T<25);d.state=d.__s,null!=d.getChildContext&&(r=y(y({},r),d.getChildContext())),P&&!h&&null!=d.getSnapshotBeforeUpdate&&(m=d.getSnapshotBeforeUpdate(f,g)),C(e,v(E=null!=p&&p.type===O&&null==p.key?p.props.children:p)?E:[E],t,n,r,a,o,s,l,u,c),d.base=t.__e,t.__u&=-161,d.__h.length&&s.push(d),b&&(d.__E=d.__=null)}catch(e){if(t.__v=null,u||null!=o){for(t.__u|=u?160:32;l&&8===l.nodeType&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,t.__e=l}else t.__e=n.__e,t.__k=n.__k;i.__e(e,t,n)}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=R(n.__e,t,n,r,a,o,s,u,c);(p=i.diffed)&&p(t)}function j(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)M(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function R(e,t,n,i,a,o,s,l,u){var c,p,d,f,g,y,b,w=n.props,P=t.props,O=t.type;if("svg"===O?a="http://www.w3.org/2000/svg":"math"===O?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),null!=o)for(c=0;c<o.length;c++)if((g=o[c])&&"setAttribute"in g==!!O&&(O?g.localName===O:3===g.nodeType)){e=g,o[c]=null;break}if(null==e){if(null===O)return document.createTextNode(P);e=document.createElementNS(a,O,P.is&&P),o=null,l=!1}if(null===O)w===P||l&&e.data===P||(e.data=P);else{if(o=o&&r.call(e.childNodes),w=n.props||h,!l&&null!=o)for(w={},c=0;c<e.attributes.length;c++)w[(g=e.attributes[c]).name]=g.value;for(c in w)if(g=w[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=g;else if("key"!==c&&!(c in P)){if("value"==c&&"defaultValue"in P||"checked"==c&&"defaultChecked"in P)continue;I(e,c,null,g,a)}for(c in P)g=P[c],"children"==c?f=g:"dangerouslySetInnerHTML"==c?p=g:"value"==c?y=g:"checked"==c?b=g:"key"===c||l&&"function"!=typeof g||w[c]===g||I(e,c,g,w[c],a);if(p)l||d&&(p.__html===d.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(d&&(e.innerHTML=""),C(e,v(f)?f:[f],t,n,i,"foreignObject"===O?"http://www.w3.org/1999/xhtml":a,o,s,o?o[0]:n.__k&&k(n,0),l,u),null!=o)for(c=o.length;c--;)null!=o[c]&&m(o[c]);l||(c="value",void 0!==y&&(y!==e[c]||"progress"===O&&!y||"option"===O&&y!==w[c])&&I(e,c,y,w[c],a),c="checked",void 0!==b&&b!==e[c]&&I(e,c,b,w[c],a))}return e}function M(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,n)}}function L(e,t,n){var r,a;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||M(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&L(r[a],t,n||"function"!=typeof e.type);n||null==e.__e||m(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function z(e,t,n){return this.constructor(e,n)}function H(e,t,n){var a,o,s,l;i.__&&i.__(e,t),o=(a="function"==typeof n)?null:n&&n.__k||t.__k,s=[],l=[],U(t,e=(!a&&n||t).__k=b(O,null,[e]),o||h,h,t.namespaceURI,!a&&n?[n]:o?null:t.firstChild?r.call(t.childNodes):null,s,!a&&n?n:o?o.__e:t.firstChild,a,l),j(s,e,l)}function q(e,t,n){var i,a,o,s,l=y({},e.props);for(o in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==o?i=t[o]:"ref"==o?a=t[o]:l[o]=void 0===t[o]&&void 0!==s?s[o]:t[o];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),w(e.type,l,i||e.key,a||e.ref,null)}r=f.slice,i={__e:function(e,t,n,r){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},a=0,S.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof e&&(e=e(y({},n),this.props)),e&&y(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),_(this))},S.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_(this))},S.prototype.render=O,o=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},F.__r=0,c=0,p=N(!1),d=N(!0)},29119:(e,t,n)=>{"use strict";var r=n(89990);function i(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}n(25276),n(54554),n(27495),n(71761),n(90744),i.prototype.match=function(e){var t,n,i=!0,a=this.parts,o=a.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;i&&t<o;t++)"*"!==a[t]&&(i=t<n.length&&a[t]===n[t]);i=i&&n}else i=!1;else if("function"==typeof e.splice)for(i=[],t=e.length;t--;)this.match(e[t])&&(i[i.length]=e[t]);else if("object"==r(e))for(var s in i={},e)this.match(s)&&(i[s]=e[s]);return i},e.exports=function(e,t,n){var r=new i(e,n||/[\/\.]/);return void 0!==t?r.match(t):r}},23546:(e,t,n)=>{var r,i=n(89990);n(76918),n(74423),n(64346),n(23288),n(26099),n(38781),n(21699),function(){"use strict";var a={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==i(e))return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):"object"===i(n.amdO)&&n.amdO?void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r):window.classNames=o}()},4294:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),a=n(18745),o=n(79039),s=n(14601),l="AggregateError",u=i(l),c=!o((function(){return 1!==u([1]).errors[0]}))&&o((function(){return 7!==u([1],l,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:c},{AggregateError:s(l,(function(e){return function(t,n){return a(e,this,arguments)}}),c,!0)})},17145:(e,t,n)=>{"use strict";var r=n(46518),i=n(1625),a=n(42787),o=n(52967),s=n(77740),l=n(2360),u=n(66699),c=n(6980),p=n(77584),d=n(80747),h=n(72652),f=n(32603),g=n(78227)("toStringTag"),v=Error,y=[].push,m=function(e,t){var n,r=i(b,this);o?n=o(new v,r?a(this):b):(n=r?this:l(b),u(n,g,"Error")),void 0!==t&&u(n,"message",f(t)),d(n,m,n.stack,1),arguments.length>2&&p(n,arguments[2]);var s=[];return h(e,y,{that:s}),u(n,"errors",s),n};o?o(m,v):s(m,v,{name:!0});var b=m.prototype=l(v.prototype,{constructor:c(1,m),message:c(1,""),name:c(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:m})},30067:(e,t,n)=>{"use strict";n(17145)},78350:(e,t,n)=>{"use strict";var r=n(46518),i=n(70259),a=n(79306),o=n(48981),s=n(26198),l=n(1469);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=s(n);return a(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},30237:(e,t,n)=>{"use strict";n(6469)("flatMap")},33748:(e,t,n)=>{"use strict";var r=n(46518),i=Math.log,a=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/a}})},78347:(e,t,n)=>{"use strict";n(46518)({target:"Object",stat:!0},{hasOwn:n(39297)})},83237:(e,t,n)=>{"use strict";n(70511)("replace")},31073:(e,t,n)=>{"use strict";n(70511)("split")},32744:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(23500);var r=n(51531),i=n(58237),a=n(84285),o=(n(16280),n(76918),n(94170),n(13656));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){return(0,a.A)((function e(t,n){(0,i.A)(this,e),this.uppy=t,this.opts=null!=n?n:{}}),[{key:"getPluginState",value:function(){var e=this.uppy.getState().plugins;return(null==e?void 0:e[this.id])||{}}},{key:"setPluginState",value:function(e){if(e){var t=this.uppy.getState().plugins;this.uppy.setState({plugins:l(l({},t),{},(0,r.A)({},this.id,l(l({},t[this.id]),e)))})}}},{key:"setOptions",value:function(e){this.opts=l(l({},this.opts),e),this.setPluginState(void 0),this.i18nInit()}},{key:"i18nInit",value:function(){var e=new o.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}},{key:"addTarget",value:function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"update",value:function(e){}},{key:"afterUpdate",value:function(){}}])}()},73848:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(58237),i=n(84285),a=n(68119),o=n(36858),s=n(31061),l=n(46983),u=(n(16280),n(76918),n(28706),n(84185),n(26099),n(3362),n(60825),n(36480)),c=n(10826);const p=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):(0,c.A)(e)?e:null};var d=n(36118),h=n(32744);function f(e,t,n){return t=(0,o.A)(t),(0,a.A)(e,g()?Reflect.construct(t,n||[],(0,o.A)(e).constructor):t.apply(e,n))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function v(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var y=0;function m(e){return"__private_"+y+++"_"+e}var b=m("updateUI");const w=function(e){function t(){var e;return(0,r.A)(this,t),e=f(this,t,arguments),Object.defineProperty(e,b,{writable:!0,value:void 0}),e}return(0,s.A)(t,e),(0,i.A)(t,[{key:"getTargetPlugin",value:function(e){var n;if("function"==typeof(null==e?void 0:e.addTarget))(n=e)instanceof t||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:t}}));else if("function"==typeof e){var r=e;this.uppy.iteratePlugins((function(e){e instanceof r&&(n=e)}))}return n}},{key:"mount",value:function(e,t){var n,r,i,a=this,o=t.id,s=p(e);if(s){this.isTargetDOMEl=!0;var c=document.createElement("div");return c.classList.add("uppy-Root"),v(this,b)[b]=(n=function(e){a.uppy.getPlugin(a.id)&&((0,u.XX)(a.render(e),c),a.afterUpdate())},i=null,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r=t,i||(i=Promise.resolve().then((function(){return i=null,n.apply(void 0,(0,l.A)(r))}))),i}),this.uppy.log("Installing ".concat(o," to a DOM element '").concat(e,"'")),this.opts.replaceTargetContent&&(s.innerHTML=""),(0,u.XX)(this.render(this.uppy.getState()),c),this.el=c,s.appendChild(c),c.dir=this.opts.direction||(0,d.A)(c)||"ltr",this.onMount(),this.el}var h=this.getTargetPlugin(e);if(h)return this.uppy.log("Installing ".concat(o," to ").concat(h.id)),this.parent=h,this.el=h.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing ".concat(o));var f="Invalid target option given to ".concat(o,".");throw f+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(f)}},{key:"render",value:function(e){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(e){var t,n;null!=this.el&&(null==(t=(n=v(this,b))[b])||t.call(n,e))}},{key:"unmount",value:function(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}])}(h.A)},78655:(e,t,n)=>{"use strict";n.d(t,{A:()=>Be});var r=n(18443),i=n(46983),a=n(18180),o=n(80241),s=n(51531),l=n(58237),u=n(84285),c=n(61792),p=(n(16280),n(52675),n(89463),n(2259),n(76918),n(30067),n(4294),n(28706),n(2008),n(50113),n(48980),n(46449),n(78350),n(51629),n(23418),n(25276),n(64346),n(23792),n(48598),n(62062),n(44114),n(72712),n(34782),n(15086),n(54554),n(93514),n(30237),n(59089),n(23288),n(94170),n(62010),n(36033),n(25428),n(59904),n(67945),n(84185),n(5506),n(53921),n(78347),n(79432),n(83851),n(81278),n(26099),n(16034),n(3362),n(27495),n(90906),n(38781),n(31415),n(47764),n(42762),n(23500),n(62953),n(76031),n(13656)),d=n(70647),h=n(51391),f=n(34034);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var m=0;function b(e){return"__private_"+m+++"_"+e}var w=b("callbacks"),P=b("publish"),O=function(){return(0,u.A)((function e(){(0,l.A)(this,e),Object.defineProperty(this,P,{value:S}),this.state={},Object.defineProperty(this,w,{writable:!0,value:new Set})}),[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){var t=v({},this.state),n=v(v({},this.state),e);this.state=n,y(this,P)[P](t,n,e)}},{key:"subscribe",value:function(e){var t=this;return y(this,w)[w].add(e),function(){y(t,w)[w].delete(e)}}}])}();function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];y(this,w)[w].forEach((function(e){e.apply(void 0,t)}))}O.VERSION="3.2.2";const k=O;var A=n(51494),_=n(77943),F=n(21214);n(58940);function C(e){if(null==e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split(".",2),r=parseInt(n[0],10),i=parseInt(n[1],10);return r<15||15===r&&i<15063||(r>18||18===r&&i>=18218)}var T=n(77001),D=(n(60825),n(68119)),E=n(36858),x=n(31061),B=n(81700),I=(n(74423),n(21699),n(25440),n(78029)),N=n(21397);function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n){return t=(0,E.A)(t),(0,D.A)(e,M()?Reflect.construct(t,n||[],(0,E.A)(e).constructor):t.apply(e,n))}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}var L={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},z=function(e){function t(e,n){var r,i;return(0,l.A)(this,t),(r=R(this,t,[e])).isRestriction=!0,r.isUserFacing=null==(i=null==n?void 0:n.isUserFacing)||i,null!=n&&n.file&&(r.file=n.file),r}return(0,x.A)(t,e),(0,u.A)(t)}((0,B.A)(Error)),H=function(){return(0,u.A)((function e(t,n){(0,l.A)(this,e),this.i18n=n,this.getOpts=function(){var e,n=t();if(null!=(null==(e=n.restrictions)?void 0:e.allowedFileTypes)&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}),[{key:"validateAggregateRestrictions",value:function(e,t){var n=this.getOpts().restrictions,r=n.maxTotalFileSize,i=n.maxNumberOfFiles;if(i&&e.filter((function(e){return!e.isGhost})).length+t.length>i)throw new z("".concat(this.i18n("youCanOnlyUploadX",{smart_count:i})));if(r){var a,o=e.reduce((function(e,t){var n;return e+(null!=(n=t.size)?n:0)}),0),s=U(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(null!=l.size&&(o+=l.size)>r)throw new z(this.i18n("exceedsSize",{size:I(r),file:l.name}))}}catch(u){s.e(u)}finally{s.f()}}}},{key:"validateSingleFile",value:function(e){var t=this.getOpts().restrictions,n=t.maxFileSize,r=t.minFileSize,i=t.allowedFileTypes;if(i&&!i.some((function(t){return t.includes("/")?!!e.type&&N(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase()}))){var a=i.join(", ");throw new z(this.i18n("youCanOnlyUploadFileTypes",{types:a}),{file:e})}if(n&&null!=e.size&&e.size>n)throw new z(this.i18n("exceedsSize",{size:I(n),file:e.name}),{file:e});if(r&&null!=e.size&&e.size<r)throw new z(this.i18n("inferiorSize",{size:I(r)}),{file:e})}},{key:"validate",value:function(e,t){var n=this;t.forEach((function(e){n.validateSingleFile(e)})),this.validateAggregateRestrictions(e,t)}},{key:"validateMinNumberOfFiles",value:function(e){var t=this.getOpts().restrictions.minNumberOfFiles;if(t&&Object.keys(e).length<t)throw new z(this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))}},{key:"getMissingRequiredMetaFields",value:function(e){var t,n=new z(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),r=[],i=U(this.getOpts().restrictions.requiredMetaFields);try{for(i.s();!(t=i.n()).done;){var a=t.value;Object.hasOwn(e.meta,a)&&""!==e.meta[a]||r.push(a)}}catch(o){i.e(o)}finally{i.f()}return{missingFields:r,error:n}}}])}();const q={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};function W(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return V(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var X=0;function Y(e){return"__private_"+X+++"_"+e}var Q={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},J=Y("plugins"),Z=Y("restricter"),ee=Y("storeUnsubscribe"),te=Y("emitter"),ne=Y("preProcessors"),re=Y("uploaders"),ie=Y("postProcessors"),ae=Y("informAndEmit"),oe=Y("checkRequiredMetaFieldsOnFile"),se=Y("checkRequiredMetaFields"),le=Y("assertNewUploadAllowed"),ue=Y("transformFile"),ce=Y("startIfAutoProceed"),pe=Y("checkAndUpdateFileState"),de=Y("addListeners"),he=Y("updateOnlineStatus"),fe=Y("requestClientById"),ge=Y("createUpload"),ve=Y("getUpload"),ye=Y("removeUpload"),me=Y("runUpload"),be=function(e,t){return(0,u.A)((function e(t){var n=this;(0,l.A)(this,e),Object.defineProperty(this,me,{value:Ee}),Object.defineProperty(this,ye,{value:De}),Object.defineProperty(this,ve,{value:Te}),Object.defineProperty(this,ge,{value:Ce}),Object.defineProperty(this,de,{value:Fe}),Object.defineProperty(this,pe,{value:_e}),Object.defineProperty(this,ce,{value:Ae}),Object.defineProperty(this,ue,{value:ke}),Object.defineProperty(this,le,{value:Se}),Object.defineProperty(this,se,{value:Oe}),Object.defineProperty(this,oe,{value:Pe}),Object.defineProperty(this,ae,{value:we}),Object.defineProperty(this,J,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:void 0}),Object.defineProperty(this,te,{writable:!0,value:d()}),Object.defineProperty(this,ne,{writable:!0,value:new Set}),Object.defineProperty(this,re,{writable:!0,value:new Set}),Object.defineProperty(this,ie,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=f((function(e,t){var r=n.getFile(null==e?void 0:e.id);if(null!=e&&r)if(100!==r.progress.percentage){var i=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;n.setFileState(e.id,{progress:K(K({},r.progress),{},{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:i?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),n.calculateTotalProgress()}else n.log("Not setting progress for a file that has been already uploaded: ".concat(e.id));else n.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),500,{leading:!0,trailing:!0}),Object.defineProperty(this,he,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,fe,{writable:!0,value:new Map}),this.defaultLocale=q;var r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:L,meta:{},onBeforeFileAdded:function(e,t){return!Object.hasOwn(t,e.id)},onBeforeUpload:function(e){return e},store:new k,logger:T.I,infoTimeout:5e3},i=K(K({},r),t);this.opts=K(K({},i),{},{restrictions:K(K({},r.restrictions),t&&t.restrictions)}),t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=T.w),this.log("Using Core v".concat(e.VERSION)),this.i18nInit(),this.store=this.opts.store,this.setState(K(K({},Q),{},{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:C(),individualCancellation:!0,resumableUploads:!1},meta:K({},this.opts.meta),info:[]})),$(this,Z)[Z]=new H((function(){return n.opts}),this.i18n),$(this,ee)[ee]=this.store.subscribe((function(e,t,r){n.emit("state-update",e,t,r),n.updateAll(t)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),$(this,de)[de]()}),[{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=$(this,te)[te]).emit.apply(t,[e].concat(r))}},{key:"on",value:function(e,t){return $(this,te)[te].on(e,t),this}},{key:"once",value:function(e,t){return $(this,te)[te].once(e,t),this}},{key:"off",value:function(e,t){return $(this,te)[te].off(e,t),this}},{key:"updateAll",value:function(e){this.iteratePlugins((function(t){t.update(e)}))}},{key:"setState",value:function(e){this.store.setState(e)}},{key:"getState",value:function(){return this.store.getState()}},{key:"patchFilesState",value:function(e){var t=this.getState().files;this.setState({files:K(K({},t),Object.fromEntries(Object.entries(e).map((function(e){var n=(0,o.A)(e,2),r=n[0],i=n[1];return[r,K(K({},t[r]),i)]}))))})}},{key:"setFileState",value:function(e,t){if(!this.getState().files[e])throw new Error("Can’t set state for ".concat(e," (the file could have been removed)"));this.patchFilesState((0,s.A)({},e,t))}},{key:"i18nInit",value:function(){var e=this,t=new p.A([this.defaultLocale,this.opts.locale],{onMissingKey:function(t){return e.log("Missing i18n string: ".concat(t),"error")}});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}},{key:"setOptions",value:function(e){this.opts=K(K(K({},this.opts),e),{},{restrictions:K(K({},this.opts.restrictions),null==e?void 0:e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((function(t){t.setOptions(e)})),this.setState(void 0)}},{key:"resetProgress",value:function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=K({},this.getState().files),n={};Object.keys(t).forEach((function(r){n[r]=K(K({},t[r]),{},{progress:K(K({},t[r].progress),e)})})),this.setState(K({files:n},Q)),this.emit("reset-progress")}},{key:"clearUploadedFiles",value:function(){this.setState(K(K({},Q),{},{files:{}}))}},{key:"addPreProcessor",value:function(e){$(this,ne)[ne].add(e)}},{key:"removePreProcessor",value:function(e){return $(this,ne)[ne].delete(e)}},{key:"addPostProcessor",value:function(e){$(this,ie)[ie].add(e)}},{key:"removePostProcessor",value:function(e){return $(this,ie)[ie].delete(e)}},{key:"addUploader",value:function(e){$(this,re)[re].add(e)}},{key:"removeUploader",value:function(e){return $(this,re)[re].delete(e)}},{key:"setMeta",value:function(e){var t=K(K({},this.getState().meta),e),n=K({},this.getState().files);Object.keys(n).forEach((function(t){n[t]=K(K({},n[t]),{},{meta:K(K({},n[t].meta),e)})})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})}},{key:"setFileMeta",value:function(e,t){var n=K({},this.getState().files);if(n[e]){var r=K(K({},n[e].meta),t);n[e]=K(K({},n[e]),{},{meta:r}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",e)}},{key:"getFile",value:function(e){return this.getState().files[e]}},{key:"getFiles",value:function(){var e=this.getState().files;return Object.values(e)}},{key:"getFilesByIds",value:function(e){var t=this;return e.map((function(e){return t.getFile(e)}))}},{key:"getObjectOfFilesPerState",value:function(){var e=this.getState(),t=e.files,n=e.totalProgress,r=e.error,i=Object.values(t),a=i.filter((function(e){var t=e.progress;return!t.uploadComplete&&t.uploadStarted})),o=i.filter((function(e){return!e.progress.uploadStarted})),s=i.filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess})),l=i.filter((function(e){return e.progress.uploadStarted})),u=i.filter((function(e){return e.isPaused})),c=i.filter((function(e){return e.progress.uploadComplete})),p=i.filter((function(e){return e.error})),d=a.filter((function(e){return!e.isPaused})),h=i.filter((function(e){return e.progress.preprocess||e.progress.postprocess}));return{newFiles:o,startedFiles:s,uploadStartedFiles:l,pausedFiles:u,completeFiles:c,erroredFiles:p,inProgressFiles:a,inProgressNotPausedFiles:d,processingFiles:h,isUploadStarted:l.length>0,isAllComplete:100===n&&c.length===i.length&&0===h.length,isAllErrored:!!r&&p.length===i.length,isAllPaused:0!==a.length&&u.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some((function(e){return e.isGhost}))}}},{key:"validateRestrictions",value:function(e,t){void 0===t&&(t=this.getFiles());try{$(this,Z)[Z].validate(t,[e])}catch(n){return n}return null}},{key:"checkIfFileAlreadyExists",value:function(e){var t=this.getState().files;return!(!t[e]||t[e].isGhost)}},{key:"addFile",value:function(e){$(this,le)[le](e);var t=$(this,pe)[pe]([e]),n=t.nextFilesState,r=t.validFilesToAdd,i=t.errors,a=i.filter((function(e){return e.isRestriction}));if($(this,ae)[ae](a),i.length>0)throw i[0];this.setState({files:n});var s=(0,o.A)(r,1)[0];return this.emit("file-added",s),this.emit("files-added",r),this.log("Added file: ".concat(s.name,", ").concat(s.id,", mime type: ").concat(s.type)),$(this,ce)[ce](),s.id}},{key:"addFiles",value:function(e){var t=this;$(this,le)[le]();var n=$(this,pe)[pe](e),r=n.nextFilesState,i=n.validFilesToAdd,a=n.errors,o=a.filter((function(e){return e.isRestriction}));$(this,ae)[ae](o);var s=a.filter((function(e){return!e.isRestriction}));if(s.length>0){var l="Multiple errors occurred while adding files:\n";if(s.forEach((function(e){l+="\n * ".concat(e.message)})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:l},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(s,l);var u=new Error(l);throw u.errors=s,u}this.setState({files:r}),i.forEach((function(e){t.emit("file-added",e)})),this.emit("files-added",i),i.length>5?this.log("Added batch of ".concat(i.length," files")):Object.values(i).forEach((function(e){t.log("Added file: ".concat(e.name,"\n id: ").concat(e.id,"\n type: ").concat(e.type))})),i.length>0&&$(this,ce)[ce]()}},{key:"removeFiles",value:function(e,t){var n=this,r=this.getState(),i=r.files,a=r.currentUploads,o=K({},i),s=K({},a),l=Object.create(null);function u(e){return void 0===l[e]}e.forEach((function(e){i[e]&&(l[e]=i[e],delete o[e])})),Object.keys(s).forEach((function(e){var t=a[e].fileIDs.filter(u);if(0!==t.length){var r=n.getState().capabilities;if(t.length!==a[e].fileIDs.length&&!r.individualCancellation)throw new Error("individualCancellation is disabled");s[e]=K(K({},a[e]),{},{fileIDs:t})}else delete s[e]}));var c={currentUploads:s,files:o};0===Object.keys(o).length&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),this.calculateTotalProgress();var p=Object.keys(l);p.forEach((function(e){n.emit("file-removed",l[e],t)})),p.length>5?this.log("Removed ".concat(p.length," files")):this.log("Removed files: ".concat(p.join(", ")))}},{key:"removeFile",value:function(e,t){this.removeFiles([e],t)}},{key:"pauseResume",value:function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).progress.uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}}},{key:"pauseAll",value:function(){var e=K({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=K(K({},e[t]),{},{isPaused:!0});e[t]=n})),this.setState({files:e}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var e=K({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=K(K({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e}),this.emit("resume-all")}},{key:"retryAll",value:function(){var e=K({},this.getState().files),t=Object.keys(e).filter((function(t){return e[t].error}));if(t.forEach((function(t){var n=K(K({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var n=$(this,ge)[ge](t,{forceAllowNewUpload:!0});return $(this,me)[me](n)}},{key:"cancelAll",value:function(e){var t=(void 0===e?{}:e).reason,n=void 0===t?"user":t;if(this.emit("cancel-all",{reason:n}),"user"===n){var r=this.getState().files,i=Object.keys(r);i.length&&this.removeFiles(i,"cancel-all"),this.setState(Q)}}},{key:"retryUpload",value:function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=$(this,ge)[ge]([e],{forceAllowNewUpload:!0});return $(this,me)[me](t)}},{key:"logout",value:function(){this.iteratePlugins((function(e){var t;null==(t=e.provider)||null==t.logout||t.logout()}))}},{key:"calculateTotalProgress",value:function(){var e=this.getFiles().filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter((function(e){return null!=e.progress.bytesTotal})),n=e.filter((function(e){return null==e.progress.bytesTotal}));if(0!==t.length){var r=t.reduce((function(e,t){var n;return e+(null!=(n=t.progress.bytesTotal)?n:0)}),0),i=r/t.length;r+=i*n.length;var a=0;t.forEach((function(e){a+=e.progress.bytesUploaded})),n.forEach((function(e){a+=i*(e.progress.percentage||0)/100}));var o=0===r?0:Math.round(a/r*100);o>100&&(o=100),this.setState({totalProgress:o}),this.emit("progress",o)}else{var s=100*e.length,l=n.reduce((function(e,t){return e+t.progress.percentage}),0),u=Math.round(l/s*100);this.setState({totalProgress:u})}}},{key:"updateOnlineStatus",value:function(){var e;null==(e=window.navigator.onLine)||e?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(e,t){if("function"!=typeof e){var n="Expected a plugin class, but got ".concat(null===e?"null":(0,a.A)(e),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var r=new e(this,t),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(i);if(o){var s="Already found a plugin named '".concat(o.id,"'. ")+"Tried to use: '".concat(i,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(s)}return e.VERSION&&this.log("Using ".concat(i," v").concat(e.VERSION)),r.type in $(this,J)[J]?$(this,J)[J][r.type].push(r):$(this,J)[J][r.type]=[r],r.install(),this.emit("plugin-added",r),this}},{key:"getPlugin",value:function(e){for(var t=0,n=Object.values($(this,J)[J]);t<n.length;t++){var r=n[t].find((function(t){return t.id===e}));if(null!=r)return r}}},{key:e,value:function(e){return $(this,J)[J][e]}},{key:"iteratePlugins",value:function(e){Object.values($(this,J)[J]).flat(1).forEach(e)}},{key:"removePlugin",value:function(e){this.log("Removing plugin ".concat(e.id)),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=$(this,J)[J][e.type],n=t.findIndex((function(t){return t.id===e.id}));-1!==n&&t.splice(n,1);var r={plugins:K(K({},this.getState().plugins),{},(0,s.A)({},e.id,void 0))};this.setState(r)}},{key:"close",value:function(e){var t=this,n=(void 0===e?{}:e).reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:n}),$(this,ee)[ee](),this.iteratePlugins((function(e){t.removePlugin(e)})),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",$(this,he)[he]),window.removeEventListener("offline",$(this,he)[he]))}},{key:"hideInfo",value:function(){var e=this.getState().info;this.setState({info:e.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(e,t,n){var r=this;void 0===t&&(t="info"),void 0===n&&(n=3e3);var o="object"===(0,a.A)(e);this.setState({info:[].concat((0,i.A)(this.getState().info),[{type:t,message:o?e.message:e,details:o?e.details:null}])}),setTimeout((function(){return r.hideInfo()}),n),this.emit("info-visible")}},{key:"log",value:function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}}},{key:"registerRequestClient",value:function(e,t){$(this,fe)[fe].set(e,t)}},{key:"getRequestClientForFile",value:function(e){if(!e.remote)throw new Error("Tried to get RequestClient for a non-remote file ".concat(e.id));var t=$(this,fe)[fe].get(e.remote.requestClientId);if(null==t)throw new Error('requestClientId "'.concat(e.remote.requestClientId,'" not registered for file "').concat(e.id,'"'));return t}},{key:"restore",value:function(e){return this.log('Core: attempting to restore upload "'.concat(e,'"')),this.getState().currentUploads[e]?$(this,me)[me](e):($(this,ye)[ye](e),Promise.reject(new Error("Nonexistent upload")))}},{key:t,value:function(){var e;return(e=$(this,ge))[ge].apply(e,arguments)}},{key:"addResultData",value:function(e,t){if($(this,ve)[ve](e)){var n=this.getState().currentUploads,r=K(K({},n[e]),{},{result:K(K({},n[e].result),t)});this.setState({currentUploads:K(K({},n),{},(0,s.A)({},e,r))})}else this.log("Not setting result for an upload that has been removed: ".concat(e))}},{key:"upload",value:function(){var e,t=this;null!=(e=$(this,J)[J].uploader)&&e.length||this.log("No uploader type plugins are used","warning");var n=this.getState().files,r=this.opts.onBeforeUpload(n);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"===(0,a.A)(r)&&(n=r,this.setState({files:n})),Promise.resolve().then((function(){return $(t,Z)[Z].validateMinNumberOfFiles(n)})).catch((function(e){throw $(t,ae)[ae]([e]),e})).then((function(){if(!$(t,se)[se](n))throw new z(t.i18n("missingRequiredMetaField"))})).catch((function(e){throw e})).then((function(){var e=t.getState().currentUploads,r=Object.values(e).flatMap((function(e){return e.fileIDs})),i=[];Object.keys(n).forEach((function(e){var n=t.getFile(e);n.progress.uploadStarted||-1!==r.indexOf(e)||i.push(n.id)}));var a=$(t,ge)[ge](i);return $(t,me)[me](a)})).catch((function(e){throw t.emit("error",e),t.log(e,"error"),e})))}}])}(Symbol.for("uppy test: getPlugins"),Symbol.for("uppy test: createUpload"));function we(e){var t,n=this,r=W(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isRestriction?this.emit("restriction-failed",i.file,i):this.emit("error",i,i.file),this.log(i,"warning")}}catch(l){r.e(l)}finally{r.f()}var a=e.filter((function(e){return e.isUserFacing})),o=a.slice(0,4),s=a.slice(4);o.forEach((function(e){var t=e.message,r=e.details,i=void 0===r?"":r;n.info({message:t,details:i},"error",n.opts.infoTimeout)})),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})}function Pe(e){var t=$(this,Z)[Z].getMissingRequiredMetaFields(e),n=t.missingFields,r=t.error;return!(n.length>0)||(this.setFileState(e.id,{missingRequiredMetaFields:n}),this.log(r.message),this.emit("restriction-failed",e,r),!1)}function Oe(e){for(var t=!0,n=0,r=Object.values(e);n<r.length;n++){var i=r[n];$(this,oe)[oe](i)||(t=!1)}return t}function Se(e){if(!1===this.getState().allowNewUpload){var t=new z(this.i18n("noMoreFilesAllowed"),{file:e});throw $(this,ae)[ae]([t]),t}}function ke(e){var t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=(0,A.A)(t),r=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}(n,t),i=(0,_.A)(r).extension,a=(0,F.N)(t),o=t.meta||{};o.name=r,o.type=n;var s=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:a,name:r,extension:i||"",meta:K(K({},this.getState().meta),o),type:n,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:s,uploadComplete:!1,uploadStarted:null},size:s,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote||"",preview:t.preview}}function Ae(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){e.scheduledAutoProceed=null,e.upload().catch((function(t){t.isRestriction||e.log(t.stack||t.message||t)}))}),4))}function _e(e){var t,n=this.getState().files,r=K({},n),i=[],o=[],s=W(e);try{for(s.s();!(t=s.n()).done;){var l=t.value;try{var u,c=$(this,ue)[ue](l),p=null==(u=n[c.id])?void 0:u.isGhost;if(p)c=K(K({},n[c.id]),{},{isGhost:!1,data:l.data}),this.log("Replaced the blob in the restored ghost file: ".concat(c.name,", ").concat(c.id));var d=this.opts.onBeforeFileAdded(c,r);if(!d&&this.checkIfFileAlreadyExists(c.id))throw new z(this.i18n("noDuplicates",{fileName:c.name}),{file:l});if(!1===d&&!p)throw new z("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});"object"===(0,a.A)(d)&&null!==d&&(c=d),$(this,Z)[Z].validateSingleFile(c),r[c.id]=c,i.push(c)}catch(h){o.push(h)}}}catch(h){s.e(h)}finally{s.f()}try{$(this,Z)[Z].validateAggregateRestrictions(Object.values(n),i)}catch(h){return o.push(h),{nextFilesState:n,validFilesToAdd:[],errors:o}}return{nextFilesState:r,validFilesToAdd:i,errors:o}}function Fe(){var e=this,t=function(t,n,r){var i=t.message||"Unknown error";t.details&&(i+=" ".concat(t.details)),e.setState({error:i}),null!=n&&n.id in e.getState().files&&e.setFileState(n.id,{error:i,response:r})};this.on("error",t),this.on("upload-error",(function(n,r,i){if(t(r,n,i),"object"===(0,a.A)(r)&&r.message){var o;e.log(r.message,"error");var s=new Error(e.i18n("failedToUpload",{file:null!=(o=null==n?void 0:n.name)?o:""}));s.isUserFacing=!0,s.details=r.message,r.details&&(s.details+=" ".concat(r.details)),$(e,ae)[ae]([s])}else $(e,ae)[ae]([r])}));var n=null;this.on("upload-stalled",(function(t,r){var i=t.message,a=r.map((function(e){return e.meta.name})).join(", ");n||(e.info({message:i,details:a},"warning",e.opts.infoTimeout),n=setTimeout((function(){n=null}),e.opts.infoTimeout)),e.log("".concat(i," ").concat(a).trim(),"warning")})),this.on("upload",(function(){e.setState({error:null})}));this.on("upload-start",(function(t){t.forEach((function(t){e.emit("upload-started",t)})),function(t){var n=t.filter((function(t){var n=null!=t&&e.getFile(t.id);return n||e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id)),n})),r=Object.fromEntries(n.map((function(e){return[e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}]})));e.patchFilesState(r)}(t)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(function(t,n){if(null!=t&&e.getFile(t.id)){var r=e.getFile(t.id).progress;e.setFileState(t.id,{progress:K(K({},r),{},{postprocess:$(e,ie)[ie].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),null==t.size&&e.setFileState(t.id,{size:n.bytesUploaded||r.bytesTotal}),e.calculateTotalProgress()}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:K(K({},e.getFile(t.id).progress),{},{preprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=K({},e.getState().files);n[t.id]=K(K({},n[t.id]),{},{progress:K({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:K(K({},e.getState().files[t.id].progress),{},{postprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=K({},e.getState().files);n[t.id]=K(K({},n[t.id]),{},{progress:K({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("restored",(function(){e.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(function(t){t&&$(e,oe)[oe](t)})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",$(this,he)[he]),window.addEventListener("offline",$(this,he)[he]),setTimeout($(this,he)[he],3e3))}function Ce(e,t){void 0===t&&(t={});var n=t.forceAllowNewUpload,r=void 0!==n&&n,i=this.getState(),a=i.allowNewUpload,o=i.currentUploads;if(!a&&!r)throw new Error("Cannot create a new upload: already uploading.");var l=(0,h.A)();return this.emit("upload",{id:l,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:K(K({},o),{},(0,s.A)({},l,{fileIDs:e,step:0,result:{}}))}),l}function Te(e){return this.getState().currentUploads[e]}function De(e){var t=K({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})}function Ee(e){return xe.apply(this,arguments)}function xe(){return(xe=(0,r.A)(c.mark((function e(t){var n,r,a,o,l,u,p,d,h,f,g=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=function(){return g.getState().currentUploads[t]})(),a=[].concat((0,i.A)($(this,ne)[ne]),(0,i.A)($(this,re)[re]),(0,i.A)($(this,ie)[ie])),e.prev=3,o=r.step||0;case 5:if(!(o<a.length)){e.next=17;break}if(r){e.next=8;break}return e.abrupt("break",17);case 8:return l=a[o],this.setState({currentUploads:K(K({},this.getState().currentUploads),{},(0,s.A)({},t,K(K({},r),{},{step:o})))}),u=r.fileIDs,e.next=13,l(u,t);case 13:r=n();case 14:o++,e.next=5;break;case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(3),$(this,ye)[ye](t),e.t0;case 23:return r&&(r.fileIDs.forEach((function(e){var t=g.getFile(e);t&&t.progress.postprocess&&g.emit("postprocess-complete",t)})),p=r.fileIDs.map((function(e){return g.getFile(e)})),d=p.filter((function(e){return!e.error})),h=p.filter((function(e){return e.error})),this.addResultData(t,{successful:d,failed:h,uploadID:t}),r=n()),r&&(f=r.result,this.emit("complete",f),$(this,ye)[ye](t)),null==f&&this.log("Not setting result for an upload that has been removed: ".concat(t)),e.abrupt("return",f);case 27:case"end":return e.stop()}}),e,this,[[3,19]])})))).apply(this,arguments)}be.VERSION="3.9.3";const Be=be},77001:(e,t,n)=>{"use strict";n.d(t,{w:()=>o,I:()=>a});n(28706),n(76918),n(23288),n(26099),n(38781);function r(e){return e<10?"0".concat(e):e.toString()}function i(){var e=new Date,t=r(e.getHours()),n=r(e.getMinutes()),i=r(e.getSeconds());return"".concat(t,":").concat(n,":").concat(i)}var a={debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}},o={debug:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).debug.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}}},29967:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Dashboard:()=>Jo,DashboardModal:()=>is,DragDrop:()=>vs,FileInput:()=>Sl,ProgressBar:()=>Cs,StatusBar:()=>dl,useUppy:()=>kl});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(60825),n(23500);var r=n(51531),i=n(58237),a=n(84285),o=n(68119),s=n(36858),l=n(31061),u=n(55384),c=n(18443),p=n(61792),d=(n(16280),n(89463),n(2259),n(76918),n(74423),n(25276),n(23418),n(64346),n(23792),n(62062),n(34782),n(15086),n(23288),n(62010),n(3362),n(27495),n(90906),n(38781),n(47764),n(62953),n(76031),n(73848));n(72712),n(94170),n(16034);function h(e,t,n,r){return 0===n||e===t?e:0===r?t:e+(t-e)*Math.pow(2,-r/n)}var f=n(36118);const g={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var v=n(36480),y=n(23546);function m(e){for(var t,n=[],r="indeterminate",i=0,a=Object.values(e);i<a.length;i++){var o=a[i].progress,s=o.preprocess,l=o.postprocess;if(null==t&&(s||l)){var u=s||l;r=u.mode,t=u.message}"determinate"===(null==s?void 0:s.mode)&&n.push(s.value),"determinate"===(null==l?void 0:l.mode)&&n.push(l.value)}return{mode:r,message:t,value:n.reduce((function(e,t){return e+t/n.length}),0)}}n(28706);var b=n(78029);n(68156);function w(e){var t,n=(t=e,{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}),r=0===n.hours?"":"".concat(n.hours,"h"),i=0===n.minutes?"":"".concat(0===n.hours?n.minutes:" ".concat(n.minutes.toString(10).padStart(2,"0")),"m"),a=0!==n.hours?"":"".concat(0===n.minutes?n.seconds:" ".concat(n.seconds.toString(10).padStart(2,"0")),"s");return"".concat(r).concat(i).concat(a)}var P=function(){return" ".concat("·"," ")};function O(e){var t=e.newFiles,n=e.isUploadStarted,r=e.recoveredState,i=e.i18n,a=e.uploadState,o=e.isSomeGhost,s=e.startUpload,l=y("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===g.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),u=i(t&&n&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return(0,v.h)("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:s,disabled:o,"data-uppy-super-focusable":!0},u)}function S(e){var t=e.i18n,n=e.uppy;return(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:function(){return n.retryAll().catch((function(){}))},"data-uppy-super-focusable":!0,"data-cy":"retry"},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,v.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function k(e){var t=e.i18n,n=e.uppy;return(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:function(){return n.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,v.h)("g",{fill:"none",fillRule:"evenodd"},(0,v.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,v.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function A(e){var t=e.isAllPaused,n=e.i18n,r=e.isAllComplete,i=e.resumableUploads,a=e.uppy,o=n(t?"resume":"pause");return(0,v.h)("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){r||(i?t?a.resumeAll():a.pauseAll():a.cancelAll())},"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,v.h)("g",{fill:"none",fillRule:"evenodd"},(0,v.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,v.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function _(e){var t=e.i18n,n=e.doneButtonHandler;return(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))}function F(){return(0,v.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,v.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function C(e){var t=e.progress,n=t.value,r=t.mode,i=t.message;return(0,v.h)("div",{className:"uppy-StatusBar-content"},(0,v.h)(F,null),"determinate"===r?"".concat(Math.round(100*n),"% ").concat("·"," "):"",i)}function T(e){var t=e.numUploads,n=e.complete,r=e.totalUploadedSize,i=e.totalSize,a=e.totalETA,o=e.i18n,s=t>1;return(0,v.h)("div",{className:"uppy-StatusBar-statusSecondary"},s&&o("filesUploadedOfTotal",{complete:n,smart_count:t}),(0,v.h)("span",{className:"uppy-StatusBar-additionalInfo"},s&&P(),o("dataUploadedOfTotal",{complete:b(r),total:b(i)}),P(),o("xTimeLeft",{time:w(a)})))}function D(e){var t=e.i18n,n=e.complete,r=e.numUploads;return(0,v.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:r}))}function E(e){var t=e.i18n,n=e.newFiles,r=e.startUpload,i=y("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,v.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,v.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),(0,v.h)("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r},t("upload")))}function x(e){var t=e.i18n,n=e.supportsUploadProgress,r=e.totalProgress,i=e.showProgressDetails,a=e.isUploadStarted,o=e.isAllComplete,s=e.isAllPaused,l=e.newFiles,u=e.numUploads,c=e.complete,p=e.totalUploadedSize,d=e.totalSize,h=e.totalETA,f=e.startUpload,g=l&&a;if(!a||o)return null;var y=t(s?"paused":"uploading");return(0,v.h)("div",{className:"uppy-StatusBar-content","aria-label":y,title:y},s?null:(0,v.h)(F,null),(0,v.h)("div",{className:"uppy-StatusBar-status"},(0,v.h)("div",{className:"uppy-StatusBar-statusPrimary"},n?"".concat(y,": ").concat(r,"%"):y),s||g||!i?null:n?(0,v.h)(T,{numUploads:u,complete:c,totalUploadedSize:p,totalSize:d,totalETA:h,i18n:t}):(0,v.h)(D,{i18n:t,complete:c,numUploads:u}),g?(0,v.h)(E,{i18n:t,newFiles:l,startUpload:f}):null))}function B(e){var t=e.i18n;return(0,v.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,v.h)("div",{className:"uppy-StatusBar-status"},(0,v.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,v.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function I(e){var t=e.error,n=e.i18n,r=e.complete,i=e.numUploads;return(0,v.h)("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,v.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,v.h)("div",{className:"uppy-StatusBar-status"},(0,v.h)("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),(0,v.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){var e="".concat(n("uploadFailed")," \n\n ").concat(t);alert(e)},type:"button"},"?")),(0,v.h)(D,{i18n:n,complete:r,numUploads:i})))}var N=g.STATE_ERROR,U=g.STATE_WAITING,j=g.STATE_PREPROCESSING,R=g.STATE_UPLOADING,M=g.STATE_POSTPROCESSING,L=g.STATE_COMPLETE;function z(e){var t=e.newFiles,n=e.allowNewUpload,r=e.isUploadInProgress,i=e.isAllPaused,a=e.resumableUploads,o=e.error,s=e.hideUploadButton,l=e.hidePauseResumeButton,u=e.hideCancelButton,c=e.hideRetryButton,p=e.recoveredState,d=e.uploadState,h=e.totalProgress,f=e.files,g=e.supportsUploadProgress,b=e.hideAfterFinish,w=e.isSomeGhost,P=e.doneButtonHandler,F=e.isUploadStarted,T=e.i18n,D=e.startUpload,E=e.uppy,z=e.isAllComplete,H=e.showProgressDetails,q=e.numUploads,W=e.complete,V=e.totalSize,G=e.totalETA,K=e.totalUploadedSize;var $=function(){switch(d){case M:case j:var e=m(f);return"determinate"===e.mode?100*e.value:h;case N:return null;case R:return g?h:null;default:return h}}(),X=function(){if(p)return!1;switch(d){case U:return s||0===t;case L:return b;default:return!1}}(),Y=null!=$?$:100,Q=!o&&t&&!r&&!i&&n&&!s,J=!u&&d!==U&&d!==L,Z=a&&!l&&d===R,ee=o&&!z&&!c,te=P&&d===L,ne=y("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(d){case M:case j:return"indeterminate"===m(f).mode;case R:return!g;default:return!1}}()}),re=y("uppy-StatusBar","is-".concat(d),{"has-ghosts":w});return(0,v.h)("div",{className:re,"aria-hidden":X},(0,v.h)("div",{className:ne,style:{width:"".concat(Y,"%")},role:"progressbar","aria-label":"".concat(Y,"%"),"aria-valuetext":"".concat(Y,"%"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":$}),function(){switch(d){case j:case M:return(0,v.h)(C,{progress:m(f)});case L:return(0,v.h)(B,{i18n:T});case N:return(0,v.h)(I,{error:o,i18n:T,numUploads:q,complete:W});case R:return(0,v.h)(x,{i18n:T,supportsUploadProgress:g,totalProgress:h,showProgressDetails:H,isUploadStarted:F,isAllComplete:z,isAllPaused:i,newFiles:t,numUploads:q,complete:W,totalUploadedSize:K,totalSize:V,totalETA:G,startUpload:D});default:return null}}(),(0,v.h)("div",{className:"uppy-StatusBar-actions"},p||Q?(0,v.h)(O,{newFiles:t,isUploadStarted:F,recoveredState:p,i18n:T,isSomeGhost:w,startUpload:D,uploadState:d}):null,ee?(0,v.h)(S,{i18n:T,uppy:E}):null,Z?(0,v.h)(A,{isAllPaused:i,i18n:T,isAllComplete:z,resumableUploads:a,uppy:E}):null,J?(0,v.h)(k,{i18n:T,uppy:E}):null,te?(0,v.h)(_,{i18n:T,doneButtonHandler:P}):null))}z.defaultProps={doneButtonHandler:void 0,hideAfterFinish:!1,hideCancelButton:!1,hidePauseResumeButton:!1,hideRetryButton:!1,hideUploadButton:void 0,showProgressDetails:void 0};const H={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,G()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function K(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var $=0;function X(e){return"__private_"+$+++"_"+e}function Y(e,t,n,r){if(e)return g.STATE_ERROR;if(t)return g.STATE_COMPLETE;if(n)return g.STATE_WAITING;for(var i=g.STATE_WAITING,a=Object.keys(r),o=0;o<a.length;o++){var s=r[a[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return g.STATE_UPLOADING;s.preprocess&&(i=g.STATE_PREPROCESSING),s.postprocess&&i!==g.STATE_PREPROCESSING&&(i=g.STATE_POSTPROCESSING)}return i}var Q={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},J=X("lastUpdateTime"),Z=X("previousUploadedBytes"),ee=X("previousSpeed"),te=X("previousETA"),ne=X("computeSmoothETA"),re=X("onUploadStart"),ie=function(e){function t(e,n){var r;return(0,i.A)(this,t),r=V(this,t,[e,W(W({},Q),n)]),Object.defineProperty(r,ne,{value:ae}),Object.defineProperty(r,J,{writable:!0,value:void 0}),Object.defineProperty(r,Z,{writable:!0,value:void 0}),Object.defineProperty(r,ee,{writable:!0,value:void 0}),Object.defineProperty(r,te,{writable:!0,value:void 0}),r.startUpload=function(){return r.uppy.upload().catch((function(){}))},Object.defineProperty(r,re,{writable:!0,value:function(){var e=r.uppy.getState().recoveredState;if(K(r,ee)[ee]=null,K(r,te)[te]=null,e)return K(r,Z)[Z]=Object.values(e.files).reduce((function(e,t){return e+t.progress.bytesUploaded}),0),void r.uppy.emit("restore-confirmed");K(r,J)[J]=performance.now(),K(r,Z)[Z]=0}}),r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator",r.defaultLocale=H,r.i18nInit(),r.render=r.render.bind(r),r.install=r.install.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,a=e.error,o=e.recoveredState,s=this.uppy.getObjectOfFilesPerState(),l=s.newFiles,u=s.startedFiles,c=s.completeFiles,p=s.isUploadStarted,d=s.isAllComplete,h=s.isAllErrored,f=s.isAllPaused,g=s.isUploadInProgress,v=s.isSomeGhost,y=o?Object.values(n):l,m=!!t.resumableUploads,b=!1!==t.uploadProgress,w=0,P=0;u.forEach((function(e){w+=e.progress.bytesTotal||0,P+=e.progress.bytesUploaded||0}));var O=K(this,ne)[ne]({uploaded:P,total:w,remaining:w-P});return z({error:a,uploadState:Y(a,d,o,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:w,totalUploadedSize:P,isAllComplete:!1,isAllPaused:f,isAllErrored:h,isUploadStarted:p,isUploadInProgress:g,isSomeGhost:v,recoveredState:o,complete:c.length,newFiles:y.length,numUploads:u.length,totalETA:O,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:m,supportsUploadProgress:b,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var e=this.el;(0,f.A)(e)||(e.dir="ltr")}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this),this.uppy.on("upload",K(this,re)[re]),K(this,J)[J]=performance.now(),K(this,Z)[Z]=this.uppy.getFiles().reduce((function(e,t){return e+t.progress.bytesUploaded}),0)}},{key:"uninstall",value:function(){this.unmount(),this.uppy.off("upload",K(this,re)[re])}}])}(d.A);function ae(e){var t;if(0===e.total||0===e.remaining)return 0;null!=(t=K(this,J))[J]||(t[J]=performance.now());var n,r=performance.now()-K(this,J)[J];if(0===r)return Math.round((null!=(n=K(this,te)[te])?n:0)/100)/10;var i,a=e.uploaded-K(this,Z)[Z];if(K(this,Z)[Z]=e.uploaded,a<=0)return Math.round((null!=(i=K(this,te)[te])?i:0)/100)/10;var o=a/r,s=null==K(this,ee)[ee]?o:h(o,K(this,ee)[ee],2e3,r);K(this,ee)[ee]=s;var l=e.remaining/s,u=Math.max(K(this,te)[te]-r,0),c=null==K(this,te)[te]?l:h(l,u,2e3,r);return K(this,te)[te]=c,K(this,J)[J]=performance.now(),Math.round(c/100)/10}function oe(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,se()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(se=function(){return!!e})()}ie.VERSION="3.3.3";var le=function(e){function t(){var e;return(0,i.A)(this,t),(e=oe(this,t,arguments)).ref=(0,v._3)(),e}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentWillEnter",value:function(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,300)}},{key:"componentWillLeave",value:function(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,300)}},{key:"render",value:function(){var e=this.props.children;return(0,v.h)("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}])}(v.uA),ue=n(80241),ce=n(35754),pe=(n(54554),n(69085),n(5506),["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"]);function de(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,he()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(he=function(){return!!e})()}function fe(e){for(var t,n,r,i={},a=0;a<e.length;a++){if(null!=e[a])i[(t=e[a],n=a.toString(36),r=void 0,null!=(r=null==t?void 0:t.key)?r:n)]=e[a]}return i}function ge(e,t){e=e||{},t=t||{};var n=function(n){return t.hasOwnProperty(n)?t[n]:e[n]},r={},i=[];for(var a in e)t.hasOwnProperty(a)?i.length&&(r[a]=i,i=[]):i.push(a);var o={};for(var s in t){if(r.hasOwnProperty(s))for(var l=0;l<r[s].length;l++){var u=r[s][l];o[r[s][l]]=n(u)}o[s]=n(s)}for(var c=0;c<i.length;c++)o[i[c]]=n(i[c]);return o}var ve=function(e){function t(e,n){var r;return(0,i.A)(this,t),(r=de(this,t,[e,n])).refs={},r.state={children:fe((0,v.v2)((0,v.v2)(r.props.children))||[])},r.performAppear=r.performAppear.bind(r),r.performEnter=r.performEnter.bind(r),r.performLeave=r.performLeave.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentWillMount",value:function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)}},{key:"componentWillReceiveProps",value:function(e){var t,n=fe((0,v.v2)(e.children)||[]),r=this.state.children;for(t in this.setState((function(e){return{children:ge(e.children,n)}})),n)if(n.hasOwnProperty(t)){var i=r&&r.hasOwnProperty(t);n[t]&&i&&this.currentlyTransitioningKeys[t]?(this.keysToEnter.push(t),this.keysToAbortLeave.push(t)):!n[t]||i||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(t in r)if(r.hasOwnProperty(t)){var a=n&&n.hasOwnProperty(t);!r[t]||a||this.currentlyTransitioningKeys[t]||this.keysToLeave.push(t)}}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"_finishAbort",value:function(e){var t=this.keysToAbortLeave.indexOf(e);-1!==t&&this.keysToAbortLeave.splice(t,1)}},{key:"performAppear",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}},{key:"_handleDoneAppearing",value:function(e){var t=this.refs[e];null!=t&&t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=fe((0,v.v2)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performEnter",value:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}},{key:"_handleDoneEntering",value:function(e){var t=this.refs[e];null!=t&&t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);var n=fe((0,v.v2)(this.props.children)||[]);n&&n.hasOwnProperty(e)||this.performLeave(e)}},{key:"performLeave",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];null!=t&&t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}}},{key:"_handleDoneLeaving",value:function(e){if(-1===this.keysToAbortLeave.indexOf(e)){var t=this.refs[e];null!=t&&t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n,r,i=fe((0,v.v2)(this.props.children)||[]);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{var a=(n={},r=this.state.children,Object.assign(n,r));delete a[e],this.setState({children:a})}}}},{key:"render",value:function(e,t){var n=this,r=e.childFactory,i=(e.transitionLeave,e.transitionName,e.transitionAppear,e.transitionEnter,e.transitionLeaveTimeout,e.transitionEnterTimeout,e.transitionAppearTimeout,e.component),a=(0,ce.A)(e,pe),o=t.children,s=Object.entries(o).map((function(e){var t=(0,ue.A)(e,2),i=t[0],a=t[1];if(a){var o=function(e,t){var n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=function(n){e.refs[t]=n})}(n,i);return(0,v.Ob)(r(a),{ref:o,key:i})}})).filter(Boolean);return(0,v.h)(i,a,s)}}])}(v.uA);ve.defaultProps={component:"span",childFactory:function(e){return e}};const ye=ve;function me(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,be()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(be=function(){return!!e})()}var we=function(e){function t(e,n){var r;return(0,i.A)(this,t),(r=me(this,t,[e,n])).render=function(e){return(0,v.h)("div",{className:"uppy uppy-Informer"},(0,v.h)(ye,null,e.info.map((function(e){return(0,v.h)(le,{key:e.message},(0,v.h)("p",{role:"alert"},e.message," ",e.details&&(0,v.h)("span",{"aria-label":e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function(){return alert("".concat(e.message," \n\n ").concat(e.details))}},"?")))}))))},r.type="progressindicator",r.id=r.opts.id||"Informer",r.title="Informer",r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}}])}(d.A);we.VERSION="3.1.0";n(33748),n(3296),n(27208),n(48408),n(11745),n(38309),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(43250),n(10149),n(24082),n(2945),n(55815),n(64979),n(79739);var Pe=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;const Oe=function(e,t,n){var r,i,a,o=Pe.exec(e),s=null!=(r=null!=(i=t.mimeType)?i:null==o?void 0:o[1])?r:"plain/text";if(null!=(null==o?void 0:o[2])){for(var l=atob(decodeURIComponent(o[3])),u=new Uint8Array(l.length),c=0;c<l.length;c++)u[c]=l.charCodeAt(c);a=[u]}else null!=(null==o?void 0:o[3])&&(a=[decodeURIComponent(o[3])]);return n?new File(a,t.name||"",{type:s}):new Blob(a,{type:s})};n(11392);function Se(e){return e.startsWith("blob:")}function ke(e){return!!e&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e)}var Ae=n(8498);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe="undefined"!=typeof self?self:global;const Ce="undefined"!=typeof navigator,Te=Ce&&"undefined"==typeof HTMLImageElement,De=!("undefined"==typeof global||void 0===Ae||!Ae.versions||!Ae.versions.node),Ee=Fe.Buffer,xe=!!Ee,Be=e=>void 0!==e;function Ie(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(Be).length)}function Ne(e){let t=new Error(e);throw delete t.stack,t}function Ue(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const je=e=>String.fromCharCode.apply(null,e),Re="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;class Me{static from(e,t){return e instanceof this&&e.le===t?e:new Me(e,void 0,void 0,t)}constructor(e,t=0,n,r){if("boolean"==typeof r&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===n&&(n=e.byteLength-t);let r=new DataView(e,t,n);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Me){void 0===n&&(n=e.byteLength-t),(t+=e.byteOffset)+n>e.byteOffset+e.byteLength&&Ne("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,t,n);this._swapDataView(r)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else Ne("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,n=Me){return e instanceof DataView||e instanceof Me?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Ne("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new n(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Me(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return n=this.getUint8Array(e,t),Re?Re.decode(n):xe?Buffer.from(n).toString("utf8"):decodeURIComponent(escape(je(n)));var n}getLatin1String(e=0,t=this.byteLength){let n=this.getUint8Array(e,t);return je(n)}getUnicodeString(e=0,t=this.byteLength){const n=[];for(let r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return je(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Le(e,t){Ne(`${e} '${t}' was not loaded, try using full build of exifr.`)}class ze extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||Le(this.kind,e),t&&(e in t||function(e,t){Ne(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||Le(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var He=new ze("file parser"),qe=new ze("segment parser"),We=new ze("file reader");let Ve=Fe.fetch;function Ge(e,t){return(n=e).startsWith("data:")||n.length>1e4?$e(e,t,"base64"):De&&e.includes("://")?Ke(e,t,"url",Xe):De?$e(e,t,"fs"):Ce?Ke(e,t,"url",Xe):void Ne("Invalid input argument");var n}async function Ke(e,t,n,r){return We.has(n)?$e(e,t,n):r?async function(e,t){let n=await t(e);return new Me(n)}(e,r):void Ne(`Parser ${n} is not loaded`)}async function $e(e,t,n){let r=new(We.get(n))(e,t);return await r.read(),r}const Xe=e=>Ve(e).then((e=>e.arrayBuffer())),Ye=e=>new Promise(((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}));class Qe extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function Je(e,t,n){let r=new Qe;for(let[i,a]of n)r.set(i,a);if(Array.isArray(t))for(let i of t)e.set(i,r);else e.set(t,r);return r}function Ze(e,t,n){let r,i=e.get(t);for(r of n)i.set(r[0],r[1])}const et=new Map,tt=new Map,nt=new Map,rt=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],it=["jfif","xmp","icc","iptc","ihdr"],at=["tiff",...it],ot=["ifd0","ifd1","exif","gps","interop"],st=[...at,...ot],lt=["makerNote","userComment"],ut=["translateKeys","translateValues","reviveValues","multiSegment"],ct=[...ut,"sanitize","mergeOutput","silentErrors"];class pt{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class dt extends pt{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,n,r){if(super(),_e(this,"enabled",!1),_e(this,"skip",new Set),_e(this,"pick",new Set),_e(this,"deps",new Set),_e(this,"translateKeys",!1),_e(this,"translateValues",!1),_e(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=ot.includes(e),this.canBeFiltered&&(this.dict=et.get(e)),void 0!==n)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if("object"==typeof n){if(this.enabled=!0,this.parse=!1!==n.parse,this.canBeFiltered){let{pick:e,skip:t}=n;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(n)}else!0===n||!1===n?this.parse=this.enabled=n:Ne(`Invalid options argument: ${n}`)}applyInheritables(e){let t,n;for(t of ut)n=e[t],void 0!==n&&(this[t]=n)}translateTagSet(e,t){if(this.dict){let n,r,{tagKeys:i,tagValues:a}=this.dict;for(n of e)"string"==typeof n?(r=a.indexOf(n),-1===r&&(r=i.indexOf(Number(n))),-1!==r&&t.add(Number(i[r]))):t.add(n)}else for(let n of e)t.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,mt(this.pick,this.deps)):this.enabled&&this.pick.size>0&&mt(this.pick,this.deps)}}var ht={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},ft=new Map;class gt extends pt{static useCached(e){let t=ft.get(e);return void 0!==t||(t=new this(e),ft.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):Ne(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=Ce?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of rt)this[e]=ht[e];for(e of ct)this[e]=ht[e];for(e of lt)this[e]=ht[e];for(e of st)this[e]=new dt(e,ht[e],void 0,this)}setupFromTrue(){let e;for(e of rt)this[e]=ht[e];for(e of ct)this[e]=ht[e];for(e of lt)this[e]=!0;for(e of st)this[e]=new dt(e,!0,void 0,this)}setupFromArray(e){let t;for(t of rt)this[t]=ht[t];for(t of ct)this[t]=ht[t];for(t of lt)this[t]=ht[t];for(t of st)this[t]=new dt(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,ot)}setupFromObject(e){let t;for(t of(ot.ifd0=ot.ifd0||ot.image,ot.ifd1=ot.ifd1||ot.thumbnail,Object.assign(this,e),rt))this[t]=yt(e[t],ht[t]);for(t of ct)this[t]=yt(e[t],ht[t]);for(t of lt)this[t]=yt(e[t],ht[t]);for(t of at)this[t]=new dt(t,ht[t],e[t],this);for(t of ot)this[t]=new dt(t,ht[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,ot,st),!0===e.tiff?this.batchEnableWithBool(ot,!0):!1===e.tiff?this.batchEnableWithUserValue(ot,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,ot):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,ot)}batchEnableWithBool(e,t){for(let n of e)this[n].enabled=t}batchEnableWithUserValue(e,t){for(let n of e){let e=t[n];this[n].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,n,r=n){if(e&&e.length){for(let e of r)this[e].enabled=!1;let t=vt(e,n);for(let[e,n]of t)mt(this[e].pick,n),this[e].enabled=!0}else if(t&&t.length){let e=vt(t,n);for(let[t,n]of e)mt(this[t].skip,n)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:n,iptc:r,icc:i}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:n,interop:r}=this;r.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=ot.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let i of ot)this[i].finalizeFilters()}get onlyTiff(){return!it.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of at)this[e].enabled&&!qe.has(e)&&Le("segment parser",e)}}function vt(e,t){let n,r,i,a,o=[];for(i of t){for(a of(n=et.get(i),r=[],n))(e.includes(a[0])||e.includes(a[1]))&&r.push(a[0]);r.length&&o.push([i,r])}return o}function yt(e,t){return void 0!==e?e:void 0!==t?t:void 0}function mt(e,t){for(let n of t)e.add(n)}_e(gt,"default",ht);class bt{constructor(e){_e(this,"parsers",{}),_e(this,"output",{}),_e(this,"errors",[]),_e(this,"pushToErrors",(e=>this.errors.push(e))),this.options=gt.useCached(e)}async read(e){this.file=await function(e,t){return"string"==typeof e?Ge(e,t):Ce&&!Te&&e instanceof HTMLImageElement?Ge(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new Me(e):Ce&&e instanceof Blob?Ke(e,t,"blob",Ye):void Ne("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[n,r]of He)if(r.canHandle(e,t))return this.fileParser=new r(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),Ne("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Ie(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let n=await t.parse();t.assignToOutput(e,n)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,n=qe.get("tiff",e);var r;if(t.tiff?r={start:0,type:"tiff"}:t.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),void 0===r)return;let i=await this.fileParser.ensureSegmentChunk(r),a=this.parsers.tiff=new n(i,e,t),o=await a.extractThumbnail();return t.close&&t.close(),o}}async function wt(e,t){let n=new bt(t);return await n.read(e),n.parse()}var Pt=Object.freeze({__proto__:null,parse:wt,Exifr:bt,fileParsers:He,segmentParsers:qe,fileReaders:We,tagKeys:et,tagValues:tt,tagRevivers:nt,createDictionary:Je,extendDictionary:Ze,fetchUrlAsArrayBuffer:Xe,readBlobAsArrayBuffer:Ye,chunkedProps:rt,otherSegments:it,segments:at,tiffBlocks:ot,segmentsAndBlocks:st,tiffExtractables:lt,inheritables:ut,allFormatters:ct,Options:gt});class Ot{static findPosition(e,t){let n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,a=n-r;return{offset:t,length:n,headerLength:r,start:i,size:a,end:i+a}}static parse(e,t={}){return new this(e,new gt({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Me?e:new Me(e)}constructor(e,t={},n){_e(this,"errors",[]),_e(this,"raw",new Map),_e(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let n=nt.get(t),r=tt.get(t),i=et.get(t),a=this.options[t],o=a.reviveValues&&!!n,s=a.translateValues&&!!r,l=a.translateKeys&&!!i,u={};for(let[c,p]of e)o&&n.has(c)?p=n.get(c)(p):s&&r.has(c)&&(p=this.translateValue(p,r.get(c))),l&&i.has(c)&&(c=i.get(c)||c),u[c]=p;return u}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[t]?Object.assign(e[t],n):e[t]=n}}function St(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function kt(e){return e>=224&&e<=239}function At(e,t,n){for(let[r,i]of qe)if(i.canHandle(e,t,n))return r}_e(Ot,"headerLength",4),_e(Ot,"type",void 0),_e(Ot,"multiSegment",!1),_e(Ot,"canHandle",(()=>!1));class _t extends class{constructor(e,t,n){_e(this,"errors",[]),_e(this,"ensureSegmentChunk",(async e=>{let t=e.start,n=e.size||65536;if(this.file.chunked)if(this.file.available(t,n))e.chunk=this.file.subarray(t,n);else try{e.chunk=await this.file.readChunk(t,n)}catch(t){Ne(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+n?e.chunk=this.file.subarray(t,n):void 0===e.size?e.chunk=this.file.subarray(t):Ne("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=n}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let n=new(qe.get(e))(t,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let t of e){let{type:e,chunk:n}=t,r=this.options[e];if(r&&r.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,n)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),_e(this,"appSegments",[]),_e(this,"jpegSegments",[]),_e(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(qe.keyList())):(e=void 0===e?qe.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&qe.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:n,findAll:r,wanted:i,remaining:a}=this;if(!r&&this.file.chunked&&(r=Array.from(i).some((e=>{let t=qe.get(e),n=this.options[e];return t.multiSegment&&n.multiSegment})),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let t=!1;for(;a.size>0&&!t&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:r}=n,i=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>r&&!i?!(await n.readNextChunk(e)):!(await n.readNextChunk(r)),void 0===(e=this.findAppSegmentsInRange(e,n.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let n,r,i,a,o,s,{file:l,findAll:u,wanted:c,remaining:p,options:d}=this;for(;e<t;e++)if(255===l.getUint8(e))if(n=l.getUint8(e+1),kt(n)){if(r=l.getUint16(e+2),i=At(l,e,r),i&&c.has(i)&&(a=qe.get(i),o=a.findPosition(l,e),s=d[i],o.type=i,this.appSegments.push(o),!u&&(a.multiSegment&&s.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||p.delete(i)):p.delete(i),0===p.size)))break;d.recordUnknownSegments&&(o=Ot.findPosition(l,e),o.marker=n,this.unknownSegments.push(o)),e+=r+1}else if(St(n)){if(r=l.getUint16(e+2),218===n&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e){let t,n,r,i=new Map;for(let a=0;a<e.length;a++)t=e[a],n=t.type,i.has(n)?r=i.get(n):i.set(n,r=[]),r.push(t);return Array.from(i)}(this.appSegments);this.mergedAppSegments=e.map((([e,t])=>{let n=qe.get(e,this.options);return n.handleMultiSegments?{type:e,chunk:n.handleMultiSegments(t)}:t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}_e(_t,"type","jpeg"),He.set("jpeg",_t);const Ft=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Ct extends Ot{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,n=new Map){let{pick:r,skip:i}=this.options[t];r=new Set(r);let a=r.size>0,o=0===i.size,s=this.chunk.getUint16(e);e+=2;for(let l=0;l<s;l++){let s=this.chunk.getUint16(e);if(a){if(r.has(s)&&(n.set(s,this.parseTag(e,s,t)),r.delete(s),0===r.size))break}else!o&&i.has(s)||n.set(s,this.parseTag(e,s,t));e+=12}return n}parseTag(e,t,n){let{chunk:r}=this,i=r.getUint16(e+2),a=r.getUint32(e+4),o=Ft[i];if(o*a<=4?e+=8:e=r.getUint32(e+8),(i<1||i>13)&&Ne(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e}`),e>r.byteLength&&Ne(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e} is outside of chunk size ${r.byteLength}`),1===i)return r.getUint8Array(e,a);if(2===i)return""===(s=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(s=r.getString(e,a)).trim())?void 0:s;var s;if(7===i)return r.getUint8Array(e,a);if(1===a)return this.parseTagValue(i,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(i))(a),n=o;for(let r=0;r<a;r++)t[r]=this.parseTagValue(i,e),e+=n;return t}}parseTagValue(e,t){let{chunk:n}=this;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:case 13:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);default:Ne(`Invalid tiff type ${e}`)}}}class Tt extends Ct{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let n=new Map;return this[t]=n,this.parseTags(e,t,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ne("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Ne(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Ue(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Ue(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let n=e.get(t);n&&1===n.length&&e.set(t,n[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Dt(...e.get(2),e.get(1))),e.set("longitude",Dt(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,n,r={};for(t of ot)if(e=this[t],!Ie(e))if(n=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[n,r]of Object.entries(t))this.assignObjectToOutput(e,n,r)}}function Dt(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}_e(Tt,"type","tiff"),_e(Tt,"headerLength",10),qe.set("tiff",Tt);Object.freeze({__proto__:null,default:Pt,Exifr:bt,fileParsers:He,segmentParsers:qe,fileReaders:We,tagKeys:et,tagValues:tt,tagRevivers:nt,createDictionary:Je,extendDictionary:Ze,fetchUrlAsArrayBuffer:Xe,readBlobAsArrayBuffer:Ye,chunkedProps:rt,otherSegments:it,segments:at,tiffBlocks:ot,segmentsAndBlocks:st,tiffExtractables:lt,inheritables:ut,allFormatters:ct,Options:gt,parse:wt});const Et={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Et,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},Et,{tiff:!1,ifd1:!0,mergeOutput:!1});const xt=Object.assign({},Et,{firstChunkSize:4e4,ifd0:[274]});const Bt=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let It=!0,Nt=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,n]=t,r=Number(e)+.1*Number(n);It=r<13.4,Nt=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);It=Nt=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);It=Nt=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);It=Nt=Number(t)<77}}async function Ut(e){let t=await async function(e){let t=new bt(xt);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}(e);return Object.assign({canvas:It,css:Nt},Bt[t])}class jt extends Me{constructor(...e){super(...e),_e(this,"ranges",new Rt),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,n){if(0===e&&0===this.byteLength&&n){let e=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(e)}else{let n=e+t;if(n>this.byteLength){let{dataView:e}=this._extend(n);this._swapDataView(e)}}}_extend(e){let t;t=xe?Ee.allocUnsafe(e):new Uint8Array(e);let n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}subarray(e,t,n=!1){return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,n=!1){n&&this._tryExtend(t,e.byteLength,e);let r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class Rt{constructor(){_e(this,"list",[])}get length(){return this.list.length}add(e,t,n=0){let r=e+t,i=this.list.filter((t=>Mt(e,t.offset,r)||Mt(e,t.end,r)));if(i.length>0){e=Math.min(e,...i.map((e=>e.offset))),r=Math.max(r,...i.map((e=>e.end))),t=r-e;let n=i.shift();n.offset=e,n.length=t,n.end=r,this.list=this.list.filter((e=>!i.includes(e)))}else this.list.push({offset:e,length:t,end:r})}available(e,t){let n=e+t;return this.list.some((t=>t.offset<=e&&n<=t.end))}}function Mt(e,t,n){return e<=t&&t<=n}class Lt extends jt{constructor(e,t){super(0),_e(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,n=await this.readChunk(e,t);return!!n&&n.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}We.set("blob",class extends Lt{async readWhole(){this.chunked=!1;let e=await Ye(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),i=await Ye(r);return this.set(i,e,!0)}});const zt={strings:{generatingThumbnails:"Generating thumbnails..."}};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Vt()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vt=function(){return!!e})()}var Gt={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1},Kt=function(e){function t(e,n){var r;if((0,i.A)(this,t),(r=Wt(this,t,[e,qt(qt({},Gt),n)])).onFileAdded=function(e){!e.preview&&e.data&&ke(e.type)&&!e.isRemote&&r.addToQueue(e.id)},r.onCancelRequest=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1)},r.onFileRemoved=function(e){var t=r.queue.indexOf(e.id);-1!==t&&r.queue.splice(t,1),e.preview&&Se(e.preview)&&URL.revokeObjectURL(e.preview)},r.onRestored=function(){r.uppy.getFiles().filter((function(e){return e.isRestored})).forEach((function(e){e.preview&&!Se(e.preview)||r.addToQueue(e.id)}))},r.onAllFilesRemoved=function(){r.queue=[]},r.waitUntilAllProcessed=function(e){e.forEach((function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:r.i18n("generatingThumbnails")})}));var t=function(){e.forEach((function(e){var t=r.uppy.getFile(e);r.uppy.emit("preprocess-complete",t)}))};return new Promise((function(e){r.queueProcessing?r.uppy.once("thumbnail:all-generated",(function(){t(),e()})):(t(),e())}))},r.type="modifier",r.id=r.opts.id||"ThumbnailGenerator",r.title="Thumbnail Generator",r.queue=[],r.queueProcessing=!1,r.defaultThumbnailDimension=200,r.thumbnailType=r.opts.thumbnailType,r.defaultLocale=zt,r.i18nInit(),r.opts.lazy&&r.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"createThumbnail",value:function(e,t,n){var r=this,i=URL.createObjectURL(e.data),a=new Promise((function(e,t){var n=new Image;n.src=i,n.addEventListener("load",(function(){URL.revokeObjectURL(i),e(n)})),n.addEventListener("error",(function(e){URL.revokeObjectURL(i),t(e.error||new Error("Could not create thumbnail"))}))})),o=Ut(e.data).catch((function(){return 1}));return Promise.all([a,o]).then((function(e){var i=(0,ue.A)(e,2),a=i[0],o=i[1],s=r.getProportionalDimensions(a,t,n,o.deg),l=function(e,t){var n=e.width,r=e.height;90!==t.deg&&270!==t.deg||(n=e.height,r=e.width);var i=document.createElement("canvas");i.width=n,i.height=r;var a=i.getContext("2d");return a.translate(n/2,r/2),t.canvas&&(a.rotate(t.rad),a.scale(t.scaleX,t.scaleY)),a.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}(a,o);return function(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){if(18===r.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise((function(r){e.toBlob(r,t,n)})).then((function(e){if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e})):Promise.resolve().then((function(){return Oe(e.toDataURL(t,n),{})})).then((function(e){if(null===e)throw new Error("could not extract blob, probably an old browser");return e}))}(r.resizeImage(l,s.width,s.height),r.thumbnailType,80)})).then((function(e){return URL.createObjectURL(e)}))}},{key:"getProportionalDimensions",value:function(e,t,n,r){var i=e.width/e.height;return 90!==r&&270!==r||(i=e.height/e.width),null!=t?{width:t,height:Math.round(t/i)}:null!=n?{width:Math.round(n*i),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/i)}}},{key:"resizeImage",value:function(e,t,n){var r=function(e){var t=e.width/e.height,n=5e6,r=4096,i=Math.floor(Math.sqrt(n*t)),a=Math.floor(n/Math.sqrt(n*t));if(i>r&&(i=r,a=Math.round(i/t)),a>r&&(a=r,i=Math.round(t*a)),e.width>i){var o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(e,0,0,i,a),o}return e}(e),i=Math.ceil(Math.log2(r.width/t));i<1&&(i=1);for(var a=t*Math.pow(2,i-1),o=n*Math.pow(2,i-1);i--;){var s=document.createElement("canvas");s.width=a,s.height=o,s.getContext("2d").drawImage(r,0,0,a,o),r=s,a=Math.round(a/2),o=Math.round(o/2)}return r}},{key:"setPreviewURL",value:function(e,t){this.uppy.setFileState(e,{preview:t})}},{key:"addToQueue",value:function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}},{key:"processQueue",value:function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch((function(){})).then((function(){return e.processQueue()})):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}},{key:"requestThumbnail",value:function(e){var t=this;return ke(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then((function(n){t.setPreviewURL(e.id,n),t.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(e.id)),t.uppy.emit("thumbnail:generated",t.uppy.getFile(e.id),n)})).catch((function(n){t.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(e.id,":"),"warning"),t.uppy.log(n,"warning"),t.uppy.emit("thumbnail:error",t.uppy.getFile(e.id),n)})):Promise.resolve()}},{key:"install",value:function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}])}(d.A);Kt.VERSION="3.1.0";var $t=n(18180),Xt=n(10826);const Yt=function(e){if("string"==typeof e){var t=document.querySelectorAll(e);return 0===t.length?null:Array.from(t)}return"object"===(0,$t.A)(e)&&(0,Xt.A)(e)?[e]:null},Qt=Array.from;n(66412);function Jt(e,t){this.v=e,this.k=t}function Zt(e){return function(){return new en(e.apply(this,arguments))}}function en(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof Jt;Promise.resolve(s?o.v:o).then((function(n){if(s){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function tn(e){return new Jt(e,0)}function nn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new Jt(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}en.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},en.prototype.next=function(e){return this._invoke("next",e)},en.prototype.throw=function(e){return this._invoke("throw",e)},en.prototype.return=function(e){return this._invoke("return",e)};var rn=n(46983);n(122);function an(e,t,n,r){var i=r.onSuccess;e.readEntries((function(r){var a=[].concat((0,rn.A)(t),(0,rn.A)(r));r.length?queueMicrotask((function(){an(e,a,n,{onSuccess:i})})):i(a)}),(function(e){n(e),i(t)}))}function on(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return sn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ln(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new un(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function un(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return un=function(e){this.s=e,this.n=e.next},un.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new un(e)}function cn(e,t){return null==e?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile:function(){return new Promise((function(t,n){return e.file(t,n)}))},values:function(){return Zt(p.mark((function n(){var r,i;return p.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.createReader(),n.next=3,tn(new Promise((function(e){an(r,[],t,{onSuccess:function(n){return e(n.map((function(e){return cn(e,t)})))}})})));case 3:return i=n.sent,n.delegateYield(nn(ln(i)),"t0",5);case 5:case"end":return n.stop()}}),n)})))()},isSameEntry:void 0}}function pn(e,t,n){try{return void 0===n&&(n=void 0),Zt(p.mark((function r(){var i,a,o,s,l,u,c,d;return p.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=function(){return"".concat(t,"/").concat(e.name)},"file"!==e.kind){r.next=17;break}return r.next=4,tn(e.getFile());case 4:if(null==(a=r.sent)){r.next=12;break}return a.relativePath=t?i():null,r.next=10,a;case 10:r.next=15;break;case 12:if(null==n){r.next=15;break}return r.next=15,n;case 15:r.next=51;break;case 17:if("directory"!==e.kind){r.next=48;break}o=!1,s=!1,r.prev=20,u=ln(e.values());case 22:return r.next=24,tn(u.next());case 24:if(!(o=!(c=r.sent).done)){r.next=30;break}return d=c.value,r.delegateYield(nn(ln(pn(d,t?i():e.name))),"t0",27);case 27:o=!1,r.next=22;break;case 30:r.next=36;break;case 32:r.prev=32,r.t1=r.catch(20),s=!0,l=r.t1;case 36:if(r.prev=36,r.prev=37,!o||null==u.return){r.next=41;break}return r.next=41,tn(u.return());case 41:if(r.prev=41,!s){r.next=44;break}throw l;case 44:return r.finish(41);case 45:return r.finish(36);case 46:r.next=51;break;case 48:if(null==n){r.next=51;break}return r.next=51,n;case 51:case"end":return r.stop()}}),r,null,[[20,32,36,46],[37,,41,45]])})))()}catch(_e){return Promise.reject(_e)}}function dn(e,t){return hn.apply(this,arguments)}function hn(){return hn=Zt(p.mark((function e(t,n){var r,i,a,o,s,l;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn(Promise.all(Array.from(t.items,function(){var e=(0,c.A)(p.mark((function e(t){var r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return"function"==typeof t.getAsEntry?t.getAsEntry():t.webkitGetAsEntry()},null!=r||(r=cn(i(),n)),e.abrupt("return",{fileSystemHandle:r,lastResortFile:t.getAsFile()});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 2:r=e.sent,i=on(r),e.prev=4,i.s();case 6:if((a=i.n()).done){e.next=28;break}if(o=a.value,s=o.lastResortFile,null==(l=o.fileSystemHandle)){e.next=23;break}return e.prev=9,e.delegateYield(nn(ln(pn(l,"",s))),"t0",11);case 11:e.next=21;break;case 13:if(e.prev=13,e.t1=e.catch(9),null==s){e.next=20;break}return e.next=18,s;case 18:e.next=21;break;case 20:n(e.t1);case 21:e.next=26;break;case 23:if(null==s){e.next=26;break}return e.next=26,s;case 26:e.next=6;break;case 28:e.next=33;break;case 30:e.prev=30,e.t2=e.catch(4),i.e(e.t2);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[4,30,33,36],[9,13]])}))),hn.apply(this,arguments)}function fn(e){var t=Qt(e.files);return Promise.resolve(t)}function gn(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new vn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function vn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return vn=function(e){this.s=e,this.n=e.next},vn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new vn(e)}function yn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.A)(p.mark((function e(t,n){var r,i,a,o,s,l,u,c,d;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=null!=(r=null==n?void 0:n.logDropError)?r:Function.prototype,e.prev=1,a=[],o=!1,s=!1,e.prev=5,u=gn(dn(t,i));case 7:return e.next=9,u.next();case 9:if(!(o=!(c=e.sent).done)){e.next=15;break}d=c.value,a.push(d);case 12:o=!1,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),s=!0,l=e.t0;case 21:if(e.prev=21,e.prev=22,!o||null==u.return){e.next=26;break}return e.next=26,u.return();case 26:if(e.prev=26,!s){e.next=29;break}throw l;case 29:return e.finish(26);case 30:return e.finish(21);case 31:return e.abrupt("return",a);case 34:return e.prev=34,e.t1=e.catch(1),e.abrupt("return",fn(t));case 37:case"end":return e.stop()}}),e,null,[[1,34],[5,17,21,31],[22,,26,30]])})))).apply(this,arguments)}n(48980),n(48598),n(25440);var bn=n(81700),wn=(n(59089),n(2892),n(25428),n(73772),n(30958),n(85661));n(5914);function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Sn()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Sn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Sn=function(){return!!e})()}var kn=function(e){function t(e){var n;return(0,i.A)(this,t),(n=On(this,t,[e])).name="TimeoutError",n}return(0,l.A)(t,e),(0,a.A)(t)}((0,bn.A)(Error)),An=function(e){function t(e){var n;return(0,i.A)(this,t),(n=On(this,t)).name="AbortError",n.message=e,n}return(0,l.A)(t,e),(0,a.A)(t)}((0,bn.A)(Error)),_n=function(e){return void 0===globalThis.DOMException?new An(e):new DOMException(e)},Fn=function(e){var t=void 0===e.reason?_n("This operation was aborted."):e.reason;return t instanceof Error?t:_n(t)};function Cn(e,t,n,i){var a,o=new Promise((function(o,s){if("number"!=typeof t||1!==Math.sign(t))throw new TypeError("Expected `milliseconds` to be a positive number, got `".concat(t,"`"));if(t!==Number.POSITIVE_INFINITY){if(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({customTimers:{setTimeout,clearTimeout}},i),i.signal){var l=i.signal;l.aborted&&s(Fn(l)),l.addEventListener("abort",(function(){s(Fn(l))}))}a=i.customTimers.setTimeout.call(void 0,(function(){if("function"!=typeof n){var r="string"==typeof n?n:"Promise timed out after ".concat(t," milliseconds"),i=n instanceof Error?n:new kn(r);"function"==typeof e.cancel&&e.cancel(),s(i)}else try{o(n())}catch(a){s(a)}}),t),(0,c.A)(p.mark((function t(){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=o,t.next=4,e;case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),s(t.t2);case 11:return t.prev=11,i.customTimers.clearTimeout.call(void 0,a),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()}else o(e)}));return o.clear=function(){clearTimeout(a),a=void 0},o}n(70761);function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Dn,En=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},xn=function(){return(0,a.A)((function e(){(0,i.A)(this,e),Dn.set(this,[])}),[{key:"enqueue",value:function(e,t){t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({priority:0},t);var n={priority:t.priority,run:e};if(this.size&&En(this,Dn,"f")[this.size-1].priority>=t.priority)En(this,Dn,"f").push(n);else{var i=function(e,t,n){for(var r=0,i=e.length;i>0;){var a=Math.trunc(i/2),o=r+a;n(e[o],t)<=0?(r=++o,i-=a+1):i=a}return r}(En(this,Dn,"f"),n,(function(e,t){return t.priority-e.priority}));En(this,Dn,"f").splice(i,0,n)}}},{key:"dequeue",value:function(){var e=En(this,Dn,"f").shift();return null==e?void 0:e.run}},{key:"filter",value:function(e){return En(this,Dn,"f").filter((function(t){return t.priority===e.priority})).map((function(e){return e.run}))}},{key:"size",get:function(){return En(this,Dn,"f").length}}])}();Dn=new WeakMap;const Bn=xn;function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Un(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,jn()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function jn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jn=function(){return!!e})()}var Rn,Mn,Ln,zn,Hn,qn,Wn,Vn,Gn,Kn,$n,Xn,Yn,Qn,Jn,Zn,er,tr,nr,rr,ir,ar,or,sr,lr,ur,cr=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},pr=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},dr=function(e){function t(){return(0,i.A)(this,t),Un(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t)}((0,bn.A)(Error)),hr=function(e){function t(e){var n,r,a,o,s;if((0,i.A)(this,t),n=Un(this,t),Rn.add(n),Mn.set(n,void 0),Ln.set(n,void 0),zn.set(n,0),Hn.set(n,void 0),qn.set(n,void 0),Wn.set(n,0),Vn.set(n,void 0),Gn.set(n,void 0),Kn.set(n,void 0),$n.set(n,void 0),Xn.set(n,0),Yn.set(n,void 0),Qn.set(n,void 0),Jn.set(n,void 0),Object.defineProperty(n,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e=Nn({carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Bn},e)).intervalCap&&e.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(a=null===(r=e.intervalCap)||void 0===r?void 0:r.toString())&&void 0!==a?a:"","` (").concat((0,$t.A)(e.intervalCap),")"));if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(s=null===(o=e.interval)||void 0===o?void 0:o.toString())&&void 0!==s?s:"","` (").concat((0,$t.A)(e.interval),")"));return cr(n,Mn,e.carryoverConcurrencyCount,"f"),cr(n,Ln,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),cr(n,Hn,e.intervalCap,"f"),cr(n,qn,e.interval,"f"),cr(n,Kn,new e.queueClass,"f"),cr(n,$n,e.queueClass,"f"),n.concurrency=e.concurrency,n.timeout=e.timeout,cr(n,Jn,!0===e.throwOnTimeout,"f"),cr(n,Qn,!1===e.autoStart,"f"),n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"concurrency",get:function(){return pr(this,Yn,"f")},set:function(e){if(!("number"==typeof e&&e>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(e,"` (").concat((0,$t.A)(e),")"));cr(this,Yn,e,"f"),pr(this,Rn,"m",sr).call(this)}},{key:"add",value:(u=(0,c.A)(p.mark((function e(t){var n,r=this,i=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},n=Nn({timeout:this.timeout,throwOnTimeout:pr(this,Jn,"f")},n),e.abrupt("return",new Promise((function(e,i){pr(r,Kn,"f").enqueue((0,c.A)(p.mark((function a(){var o,s,l,u,c;return p.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(cr(r,Xn,(s=pr(r,Xn,"f"),++s),"f"),cr(r,zn,(l=pr(r,zn,"f"),++l),"f"),a.prev=2,!(null===(o=n.signal)||void 0===o?void 0:o.aborted)){a.next=5;break}throw new dr("The task was aborted.");case 5:return u=t({signal:n.signal}),n.timeout&&(u=Cn(Promise.resolve(u),n.timeout)),n.signal&&(u=Promise.race([u,pr(r,Rn,"m",lr).call(r,n.signal)])),a.next=10,u;case 10:c=a.sent,e(c),r.emit("completed",c),a.next=22;break;case 15:if(a.prev=15,a.t0=a.catch(2),!(a.t0 instanceof kn)||n.throwOnTimeout){a.next=20;break}return e(),a.abrupt("return");case 20:i(a.t0),r.emit("error",a.t0);case 22:return a.prev=22,pr(r,Rn,"m",tr).call(r),a.finish(22);case 25:case"end":return a.stop()}}),a,null,[[2,15,22,25]])}))),n),r.emit("add"),pr(r,Rn,"m",ir).call(r)})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"addAll",value:(s=(0,c.A)(p.mark((function e(t,n){var r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=(0,c.A)(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.add(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"start",value:function(){return pr(this,Qn,"f")?(cr(this,Qn,!1,"f"),pr(this,Rn,"m",sr).call(this),this):this}},{key:"pause",value:function(){cr(this,Qn,!0,"f")}},{key:"clear",value:function(){cr(this,Kn,new(pr(this,$n,"f")),"f")}},{key:"onEmpty",value:(o=(0,c.A)(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==pr(this,Kn,"f").size){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pr(this,Rn,"m",ur).call(this,"empty");case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onSizeLessThan",value:(r=(0,c.A)(p.mark((function e(t){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(pr(this,Kn,"f").size<t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pr(this,Rn,"m",ur).call(this,"next",(function(){return pr(n,Kn,"f").size<t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onIdle",value:(n=(0,c.A)(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==pr(this,Xn,"f")||0!==pr(this,Kn,"f").size){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pr(this,Rn,"m",ur).call(this,"idle");case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"size",get:function(){return pr(this,Kn,"f").size}},{key:"sizeBy",value:function(e){return pr(this,Kn,"f").filter(e).length}},{key:"pending",get:function(){return pr(this,Xn,"f")}},{key:"isPaused",get:function(){return pr(this,Qn,"f")}}]);var n,r,o,s,u}(wn);Mn=new WeakMap,Ln=new WeakMap,zn=new WeakMap,Hn=new WeakMap,qn=new WeakMap,Wn=new WeakMap,Vn=new WeakMap,Gn=new WeakMap,Kn=new WeakMap,$n=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,Qn=new WeakMap,Jn=new WeakMap,Rn=new WeakSet,Zn=function(){return pr(this,Ln,"f")||pr(this,zn,"f")<pr(this,Hn,"f")},er=function(){return pr(this,Xn,"f")<pr(this,Yn,"f")},tr=function(){var e;cr(this,Xn,(e=pr(this,Xn,"f"),--e),"f"),pr(this,Rn,"m",ir).call(this),this.emit("next")},nr=function(){pr(this,Rn,"m",or).call(this),pr(this,Rn,"m",ar).call(this),cr(this,Gn,void 0,"f")},rr=function(){var e=this,t=Date.now();if(void 0===pr(this,Vn,"f")){var n=pr(this,Wn,"f")-t;if(!(n<0))return void 0===pr(this,Gn,"f")&&cr(this,Gn,setTimeout((function(){pr(e,Rn,"m",nr).call(e)}),n),"f"),!0;cr(this,zn,pr(this,Mn,"f")?pr(this,Xn,"f"):0,"f")}return!1},ir=function(){if(0===pr(this,Kn,"f").size)return pr(this,Vn,"f")&&clearInterval(pr(this,Vn,"f")),cr(this,Vn,void 0,"f"),this.emit("empty"),0===pr(this,Xn,"f")&&this.emit("idle"),!1;if(!pr(this,Qn,"f")){var e=!pr(this,Rn,"a",rr);if(pr(this,Rn,"a",Zn)&&pr(this,Rn,"a",er)){var t=pr(this,Kn,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&pr(this,Rn,"m",ar).call(this),!0)}}return!1},ar=function(){var e=this;pr(this,Ln,"f")||void 0!==pr(this,Vn,"f")||(cr(this,Vn,setInterval((function(){pr(e,Rn,"m",or).call(e)}),pr(this,qn,"f")),"f"),cr(this,Wn,Date.now()+pr(this,qn,"f"),"f"))},or=function(){0===pr(this,zn,"f")&&0===pr(this,Xn,"f")&&pr(this,Vn,"f")&&(clearInterval(pr(this,Vn,"f")),cr(this,Vn,void 0,"f")),cr(this,zn,pr(this,Mn,"f")?pr(this,Xn,"f"):0,"f"),pr(this,Rn,"m",sr).call(this)},sr=function(){for(;pr(this,Rn,"m",ir).call(this););},lr=function(){var e=(0,c.A)(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.addEventListener("abort",(function(){n(new dr("The task was aborted."))}),{once:!0})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ur=function(){var e=(0,c.A)(p.mark((function e(t,n){var r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i=function(){n&&!n()||(r.off(t,i),e())};r.on(t,i)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const fr=hr;var gr,vr,yr,mr,br=n(21214),wr=(n(88431),n(48718),0),Pr=[],Or=v.fF,Sr=Or.__b,kr=Or.__r,Ar=Or.diffed,_r=Or.__c,Fr=Or.unmount,Cr=Or.__;function Tr(e,t){Or.__h&&Or.__h(vr,e,wr||t),wr=0;var n=vr.__H||(vr.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Dr(e){return wr=1,function(e,t,n){var r=Tr(gr++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Lr(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=vr,!vr.u)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!a||a.call(this,e,t,n);var o=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&r.__c.props===e)&&(!a||a.call(this,e,t,n))};vr.u=!0;var a=vr.shouldComponentUpdate,o=vr.componentWillUpdate;vr.componentWillUpdate=function(e,t,n){if(this.__e){var r=a;a=void 0,i(e,t,n),a=r}o&&o.call(this,e,t,n)},vr.shouldComponentUpdate=i}return r.__N||r.__}(Lr,e)}function Er(e,t){var n=Tr(gr++,3);!Or.__s&&Mr(n.__H,t)&&(n.__=e,n.i=t,vr.__H.__h.push(n))}function xr(e,t){var n=Tr(gr++,7);return Mr(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Br(e,t){return wr=8,xr((function(){return e}),t)}function Ir(){for(var e;e=Pr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(jr),e.__H.__h.forEach(Rr),e.__H.__h=[]}catch(Fe){e.__H.__h=[],Or.__e(Fe,e.__v)}}Or.__b=function(e){vr=null,Sr&&Sr(e)},Or.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Cr&&Cr(e,t)},Or.__r=function(e){kr&&kr(e),gr=0;var t=(vr=e.__c).__H;t&&(yr===vr?(t.__h=[],vr.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(t.__h.forEach(jr),t.__h.forEach(Rr),t.__h=[],gr=0)),yr=vr},Or.diffed=function(e){Ar&&Ar(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Pr.push(t)&&mr===Or.requestAnimationFrame||((mr=Or.requestAnimationFrame)||Ur)(Ir)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),yr=vr=null},Or.__c=function(e,t){t.some((function(e){try{e.__h.forEach(jr),e.__h=e.__h.filter((function(e){return!e.__||Rr(e)}))}catch(Ee){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Or.__e(Ee,e.__v)}})),_r&&_r(e,t)},Or.unmount=function(e){Fr&&Fr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{jr(e)}catch(e){t=e}})),n.__H=void 0,t&&Or.__e(t,n.__v))};var Nr="function"==typeof requestAnimationFrame;function Ur(e){var t,n=function(){clearTimeout(r),Nr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Nr&&(t=requestAnimationFrame(n))}function jr(e){var t=vr,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),vr=t}function Rr(e){var t=vr;e.__c=e.__(),vr=t}function Mr(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Lr(e,t){return"function"==typeof t?t(e):t}function zr(){return(0,v.h)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},(0,v.h)("g",{fill:"none","fill-rule":"evenodd"},(0,v.h)("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),(0,v.h)("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),(0,v.h)("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),(0,v.h)("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),(0,v.h)("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),(0,v.h)("path",{d:"M4 4h18v18H4z"})))}function Hr(e){var t=e.pluginName,n=e.i18n,r=e.onAuth,i="Google Drive"===t,a=Br((function(e){e.preventDefault(),r()}),[r]);return(0,v.h)("form",{onSubmit:a},i?(0,v.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0},(0,v.h)(zr,null),n("signInWithGoogle")):(0,v.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:t})))}var qr=function(e){var t=e.pluginName,n=e.i18n,r=e.onAuth;return(0,v.h)(Hr,{pluginName:t,i18n:n,onAuth:r})};function Wr(e){var t=e.loading,n=e.pluginName,r=e.pluginIcon,i=e.i18n,a=e.handleAuth,o=e.renderForm,s=void 0===o?qr:o;return(0,v.h)("div",{className:"uppy-Provider-auth"},(0,v.h)("div",{className:"uppy-Provider-authIcon"},r()),(0,v.h)("div",{className:"uppy-Provider-authTitle"},i("authenticateWithTitle",{pluginName:n})),(0,v.h)("div",{className:"uppy-Provider-authForm"},s({pluginName:n,i18n:i,loading:t,onAuth:a})))}function Vr(e){var t=e.i18n,n=e.logout,r=e.username;return(0,v.h)(v.FK,null,(0,v.h)("span",{className:"uppy-ProviderBrowser-user",key:"username"},r),(0,v.h)("button",{type:"button",onClick:n,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},t("logOut")))}var Gr=function(e){var t=e.getFolder,n=e.title,r=e.isLast;return(0,v.h)(v.FK,null,(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:t},n),r?"":" / ")};function Kr(e){var t=e.getFolder,n=e.title,r=e.breadcrumbsIcon,i=e.breadcrumbs;return(0,v.h)("div",{className:"uppy-Provider-breadcrumbs"},(0,v.h)("div",{className:"uppy-Provider-breadcrumbsIcon"},r),i.map((function(e,r){return(0,v.h)(Gr,{key:e.id,getFolder:function(){return t(e.requestPath,e.name)},title:0===r?n:e.name,isLast:r+1===i.length})})))}function $r(e){return(0,v.h)(v.FK,null,e.showBreadcrumbs&&(0,v.h)(Kr,{getFolder:e.getFolder,breadcrumbs:e.breadcrumbs,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title}),(0,v.h)(Vr,{logout:e.logout,username:e.username,i18n:e.i18n}))}n(5746);var Xr=n(77943);function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jr(e){return Qr(Qr({},e),{},{type:e.mimeType,extension:e.name?(0,Xr.A)(e.name).extension:null})}var Zr=["data","rowHeight","renderRow","overscanCount"];function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ri()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ri(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ri=function(){return!!e})()}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ii.apply(this,arguments)}var ai={position:"relative",width:"100%",minHeight:"100%"},oi={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};const si=function(e){function t(e){var n;return(0,i.A)(this,t),(n=ni(this,t,[e])).handleScroll=function(){n.setState({offset:n.base.scrollTop})},n.handleResize=function(){n.resize()},n.focusElement=null,n.state={offset:0,height:0},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function(e){var t=e.data,n=e.rowHeight,r=e.renderRow,i=e.overscanCount,a=void 0===i?10:i,o=(0,ce.A)(e,Zr),s=this.state,l=s.offset,u=s.height,c=Math.floor(l/n),p=Math.floor(u/n);a&&(c=Math.max(0,c-c%a),p+=a);var d=c+p+4,h=t.slice(c,d),f=ti(ti({},ai),{},{height:t.length*n}),g=ti(ti({},oi),{},{top:c*n});return(0,v.h)("div",ii({onScroll:this.handleScroll},o),(0,v.h)("div",{role:"presentation",style:f},(0,v.h)("div",{role:"presentation",style:g},h.map(r))))}}])}(v.uA);var li=n(51391);function ui(e){var t=e.search,n=e.searchOnInput,r=e.searchTerm,i=e.showButton,a=e.inputLabel,o=e.clearSearchLabel,s=e.buttonLabel,l=e.clearSearch,u=e.inputClassName,c=e.buttonCSSClassName,p=Dr(null!=r?r:""),d=(0,ue.A)(p,2),h=d[0],f=d[1],g=Br((function(e){e.preventDefault(),t(h)}),[t,h]),y=Br((function(e){var r=e.target.value;f(r),n&&t(r)}),[f,n,t]),m=Dr((function(){var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=(0,li.A)(),e})),b=(0,ue.A)(m,1)[0];return Er((function(){return document.body.appendChild(b),b.addEventListener("submit",g),function(){b.removeEventListener("submit",g),document.body.removeChild(b)}}),[b,g]),(0,v.h)(v.FK,null,(0,v.h)("input",{className:"uppy-u-reset ".concat(u),type:"search","aria-label":a,placeholder:a,value:h,onInput:y,form:b.id,"data-uppy-super-focusable":!0}),!i&&(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,v.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),!i&&h&&(0,v.h)("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":o,title:o,onClick:function(){f(""),l&&l()}},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},(0,v.h)("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))),i&&(0,v.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary ".concat(c),type:"submit",form:b.id},s))}function ci(e){var t=e.cancel,n=e.done,r=e.i18n,i=e.selected;return(0,v.h)("div",{className:"uppy-ProviderBrowser-footer"},(0,v.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:n,type:"button"},r("selectX",{smart_count:i})),(0,v.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t,type:"button"},r("cancel")))}function pi(){return(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},(0,v.h)("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function di(){return(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},(0,v.h)("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function hi(){return(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},(0,v.h)("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),(0,v.h)("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function fi(e){var t=e.itemIconString;if(null===t)return null;switch(t){case"file":return(0,v.h)(pi,null);case"folder":return(0,v.h)(di,null);case"video":return(0,v.h)(hi,null);default:var n=e.alt;return(0,v.h)("img",{src:t,alt:n,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}const gi=function(e){var t=e.className,n=e.isDisabled,r=e.restrictionError,i=e.isChecked,a=e.title,o=e.itemIconEl,s=e.showTitles,l=e.toggleCheckbox,u=e.recordShiftKeyPress,c=e.id,p=e.children,d=y("uppy-u-reset","uppy-ProviderBrowserItem-checkbox","uppy-ProviderBrowserItem-checkbox--grid",{"uppy-ProviderBrowserItem-checkbox--is-checked":i});return(0,v.h)("li",{className:t,title:n?null==r?void 0:r.message:void 0},(0,v.h)("input",{type:"checkbox",className:d,onChange:l,onKeyDown:u,onMouseDown:u,name:"listitem",id:c,checked:i,disabled:n,"data-uppy-super-focusable":!0}),(0,v.h)("label",{htmlFor:c,"aria-label":a,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},o,s&&a,p))};function vi(e){var t=e.className,n=e.isDisabled,r=e.restrictionError,i=e.isCheckboxDisabled,a=e.isChecked,o=e.toggleCheckbox,s=e.recordShiftKeyPress,l=e.type,u=e.id,c=e.itemIconEl,p=e.title,d=e.handleFolderClick,h=e.showTitles,f=e.i18n;return(0,v.h)("li",{className:t,title:n?null==r?void 0:r.message:void 0},i?null:(0,v.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:o,onKeyDown:s,onMouseDown:s,name:"listitem",id:u,checked:a,"aria-label":"file"===l?null:f("allFilesFromFolderNamed",{name:p}),disabled:n,"data-uppy-super-focusable":!0}),"file"===l?(0,v.h)("label",{htmlFor:u,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,v.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),h&&p):(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:d,"aria-label":f("openFolderNamed",{name:p})},(0,v.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),h&&p?(0,v.h)("span",null,p):f("unnamed")))}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yi.apply(this,arguments)}function mi(e){var t=e.author,n=e.getItemIcon,r=e.isChecked,i=e.isDisabled,a=e.viewType,o=n(),s=y("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":r},{"uppy-ProviderBrowserItem--disabled":i},{"uppy-ProviderBrowserItem--noPreview":"video"===o}),l=(0,v.h)(fi,{itemIconString:o});switch(a){case"grid":return(0,v.h)(gi,yi({},e,{className:s,itemIconEl:l}));case"list":return(0,v.h)(vi,yi({},e,{className:s,itemIconEl:l}));case"unsplash":return(0,v.h)(gi,yi({},e,{className:s,itemIconEl:l}),(0,v.h)("a",{href:"".concat(t.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1},t.name));default:throw new Error("There is no such type ".concat(a))}}var bi="shared-with-me";function wi(e){var t=e.currentSelection,n=e.uppyFiles,r=e.viewType,i=e.isChecked,a=e.toggleCheckbox,o=e.recordShiftKeyPress,s=e.showTitles,l=e.i18n,u=e.validateRestrictions,c=e.getNextFolder,p=e.f;if(p.isFolder)return mi({showTitles:s,viewType:r,i18n:l,id:p.id,title:p.name,getItemIcon:function(){return p.icon},isChecked:i(p),toggleCheckbox:function(e){return a(e,p)},recordShiftKeyPress:o,type:"folder",isDisabled:!1,isCheckboxDisabled:p.id===bi,handleFolderClick:function(){return c(p)}});var d=u(Jr(p),[].concat((0,rn.A)(n),(0,rn.A)(t)));return mi({id:p.id,title:p.name,author:p.author,getItemIcon:function(){return"grid"===r&&p.thumbnail?p.thumbnail:p.icon},isChecked:i(p),toggleCheckbox:function(e){return a(e,p)},isCheckboxDisabled:!1,recordShiftKeyPress:o,showTitles:s,viewType:r,i18n:l,type:"file",isDisabled:Boolean(d)&&!i(p),restrictionError:d})}const Pi=function(e){var t=e.currentSelection,n=e.folders,r=e.files,i=e.uppyFiles,a=e.viewType,o=e.headerComponent,s=e.showBreadcrumbs,l=e.isChecked,u=e.toggleCheckbox,c=e.recordShiftKeyPress,p=e.handleScroll,d=e.showTitles,h=e.i18n,f=e.validateRestrictions,g=e.isLoading,m=e.showSearchFilter,b=e.search,w=e.searchTerm,P=e.clearSearch,O=e.searchOnInput,S=e.searchInputLabel,k=e.clearSearchLabel,A=e.getNextFolder,_=e.cancel,F=e.done,C=e.noResultsLabel,T=e.virtualList,D=t.length,E=xr((function(){return[].concat((0,rn.A)(n),(0,rn.A)(r))}),[n,r]);return(0,v.h)("div",{className:y("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(a))},o&&(0,v.h)("div",{className:"uppy-ProviderBrowser-header"},(0,v.h)("div",{className:y("uppy-ProviderBrowser-headerBar",!s&&"uppy-ProviderBrowser-headerBar--simple")},o)),m&&(0,v.h)("div",{class:"uppy-ProviderBrowser-searchFilter"},(0,v.h)(ui,{search:b,searchTerm:w,clearSearch:P,inputLabel:S,clearSearchLabel:k,inputClassName:"uppy-ProviderBrowser-searchFilterInput",searchOnInput:O})),g?(0,v.h)("div",{className:"uppy-Provider-loading"},(0,v.h)("span",null,"string"==typeof g?g:h("loading"))):n.length||r.length?T?(0,v.h)("div",{className:"uppy-ProviderBrowser-body"},(0,v.h)("ul",{className:"uppy-ProviderBrowser-list"},(0,v.h)(si,{data:E,renderRow:function(e){return(0,v.h)(wi,{currentSelection:t,uppyFiles:i,viewType:a,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:c,showTitles:d,i18n:h,validateRestrictions:f,getNextFolder:A,f:e})},rowHeight:31}))):(0,v.h)("div",{className:"uppy-ProviderBrowser-body"},(0,v.h)("ul",{className:"uppy-ProviderBrowser-list",onScroll:p,role:"listbox",tabIndex:-1},E.map((function(e){return(0,v.h)(wi,{currentSelection:t,uppyFiles:i,viewType:a,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:c,showTitles:d,i18n:h,validateRestrictions:f,getNextFolder:A,f:e})})))):(0,v.h)("div",{className:"uppy-Provider-empty"},C),D>0&&(0,v.h)(ci,{selected:D,done:F,cancel:_,i18n:h}))};function Oi(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Si()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Si(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Si=function(){return!!e})()}var ki=function(e){function t(){return(0,i.A)(this,t),Oi(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentWillUnmount",value:function(){(0,this.props.onUnmount)()}},{key:"render",value:function(){var e=this.props.children;return(0,v.v2)(e)[0]}}])}(v.uA);n(31415);function Ai(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Fi=function(){return(0,a.A)((function e(t,n){var r=this;(0,i.A)(this,e),this.filterItems=function(e){var t=r.plugin.getPluginState();return t.filterInput&&""!==t.filterInput?e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.filterInput.toLowerCase())})):e},this.recordShiftKeyPress=function(e){r.isShiftKeyPressed=e.shiftKey},this.isChecked=function(e){return r.plugin.getPluginState().currentSelection.some((function(t){return t.id===e.id}))},this.plugin=t,this.provider=n.provider,this.opts=n,this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}),[{key:"preFirstRender",value:function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function(e){var t=e.target;return t.scrollHeight-(t.scrollTop+t.offsetHeight)<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}},{key:"cancelPicking",value:function(){this.clearSelection();var e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}},{key:"handleError",value:function(e){var t,n=this.plugin.uppy,r=n.i18n("companionError");n.log(e.toString()),e.isAuthError||"AbortError"===(null==(t=e.cause)?void 0:t.name)||n.info({message:r,details:e.toString()},"error",5e3)}},{key:"registerRequestClient",value:function(){this.requestClientId=this.provider.provider,this.plugin.uppy.registerRequestClient(this.requestClientId,this.provider)}},{key:"getTagFile",value:function(e){var t={id:e.id,source:this.plugin.id,name:e.name||e.id,type:e.mimeType,isRemote:!0,data:e,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(e.requestPath)),body:{fileId:e.id},providerName:this.provider.name,provider:this.provider.provider,requestClientId:this.requestClientId}};return e.thumbnail&&(t.preview=e.thumbnail),e.author&&(null!=e.author.name&&(t.meta.authorName=String(e.author.name)),e.author.url&&(t.meta.authorUrl=e.author.url)),null!=e.relDirPath&&(t.meta.relativePath=e.relDirPath?"".concat(e.relDirPath,"/").concat(t.name):null),null!=e.absDirPath&&(t.meta.absolutePath=e.absDirPath?"/".concat(e.absDirPath,"/").concat(t.name):"/".concat(t.name)),t}},{key:"toggleCheckbox",value:function(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();var n=this.plugin.getPluginState(),r=n.folders,i=n.files,a=this.filterItems(r.concat(i));if(this.lastCheckbox&&this.isShiftKeyPressed){var o,s=this.plugin.getPluginState().currentSelection,l=a.indexOf(this.lastCheckbox),u=a.indexOf(t),c=[],p=Ai(l<u?a.slice(l,u+1):a.slice(u,l+1));try{for(p.s();!(o=p.n()).done;){var d=o.value,h=this.plugin.uppy,f=h.validateRestrictions(Jr(d),[].concat((0,rn.A)(h.getFiles()),c));f?h.info({message:f.message},"error",h.opts.infoTimeout):c.push(d)}}catch(v){p.e(v)}finally{p.f()}this.plugin.setPluginState({currentSelection:(0,rn.A)(new Set([].concat((0,rn.A)(s),c)))})}else{this.lastCheckbox=t;var g=this.plugin.getPluginState().currentSelection;this.isChecked(t)?this.plugin.setPluginState({currentSelection:g.filter((function(e){return e.id!==t.id}))}):this.plugin.setPluginState({currentSelection:g.concat([t])})}}},{key:"setLoading",value:function(e){this.plugin.setPluginState({loading:e})}}])}();function Ci(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ti(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xi(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Bi()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Bi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bi=function(){return!!e})()}function Ii(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var Ni=0;function Ui(e){return"__private_"+Ni+++"_"+e}function ji(e){return e.slice(1).map((function(e){return e.name})).join("/")}function Ri(e,t){return e?"".concat(e,"/").concat(t):t}function Mi(){return(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,v.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var Li={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1,virtualList:!1},zi=Ui("abortController"),Hi=Ui("withAbort"),qi=Ui("list"),Wi=Ui("listFilesAndFolders"),Vi=Ui("recursivelyListAllFiles");function Gi(e){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.A)(p.mark((function e(t){var n,r,i,a=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(n=Ii(this,zi)[zi])||n.abort(),r=new AbortController,Ii(this,zi)[zi]=r,i=function(){r.abort(),a.clearSelection()},e.prev=4,this.plugin.uppy.on("dashboard:close-panel",i),this.plugin.uppy.on("cancel-all",i),e.next=9,t(r.signal);case 9:return e.prev=9,this.plugin.uppy.off("dashboard:close-panel",i),this.plugin.uppy.off("cancel-all",i),Ii(this,zi)[zi]=void 0,e.finish(9);case 14:case"end":return e.stop()}}),e,this,[[4,,9,14]])})))).apply(this,arguments)}function $i(e){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.A)(p.mark((function e(t){var n,r,i,a,o,s,l;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.requestPath,r=t.absDirPath,i=t.signal,e.next=3,this.provider.list(n,{signal:i});case 3:return a=e.sent,o=a.username,s=a.nextPagePath,l=a.items,this.username=o||this.username,e.abrupt("return",{items:l.map((function(e){return Ei(Ei({},e),{},{absDirPath:r})})),nextPagePath:s});case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Yi(e){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.A)(p.mark((function e(t){var n,r,i,a,o,s,l,u;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.breadcrumbs,r=t.signal,i=ji(n),e.next=4,Ii(this,qi)[qi]({requestPath:this.nextPagePath,absDirPath:i,signal:r});case 4:return a=e.sent,o=a.items,s=a.nextPagePath,this.nextPagePath=s,l=[],u=[],o.forEach((function(e){e.isFolder?u.push(e):l.push(e)})),e.abrupt("return",{files:l,folders:u});case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ji(e){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,c.A)(p.mark((function e(t){var n,r,i,a,o,s,l,u,d,h,f,g=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.requestPath,r=t.absDirPath,i=t.relDirPath,a=t.queue,o=t.onFiles,s=t.signal,l=n;case 2:if(!l){e.next=15;break}return e.next=5,Ii(this,qi)[qi]({requestPath:l,absDirPath:r,signal:s});case 5:return u=e.sent,l=u.nextPagePath,d=u.items.filter((function(e){return!e.isFolder})),h=u.items.filter((function(e){return e.isFolder})),o(d),f=h.map(function(){var e=(0,c.A)(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.add((0,c.A)(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ii(g,Vi)[Vi]({requestPath:t.requestPath,absDirPath:Ri(r,t.name),relDirPath:Ri(i,t.name),queue:a,onFiles:o,signal:s}));case 1:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13,Promise.all(f);case 13:e.next=2;break;case 15:case"end":return e.stop()}}),e,this)}))),Zi.apply(this,arguments)}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function na(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ra()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ra(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ra=function(){return!!e})()}function ia(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}(function(e){function t(e,n){var r;return(0,i.A)(this,t),r=xi(this,t,[e,Ei(Ei({},Li),n)]),Object.defineProperty(r,Vi,{value:Ji}),Object.defineProperty(r,Wi,{value:Yi}),Object.defineProperty(r,qi,{value:$i}),Object.defineProperty(r,Hi,{value:Gi}),Object.defineProperty(r,zi,{writable:!0,value:void 0}),r.filterQuery=r.filterQuery.bind(r),r.clearFilter=r.clearFilter.bind(r),r.getFolder=r.getFolder.bind(r),r.getNextFolder=r.getNextFolder.bind(r),r.logout=r.logout.bind(r),r.handleAuth=r.handleAuth.bind(r),r.handleScroll=r.handleScroll.bind(r),r.donePicking=r.donePicking.bind(r),r.render=r.render.bind(r),r.plugin.setPluginState({authenticated:void 0,files:[],folders:[],breadcrumbs:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),r.registerRequestClient(),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"tearDown",value:function(){}},{key:"getFolder",value:(u=(0,c.A)(p.mark((function e(t,n){var r=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),e.prev=1,e.next=4,Ii(this,Hi)[Hi](function(){var e=(0,c.A)(p.mark((function e(i){var a,o,s,l,u,c,d,h;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.lastCheckbox=void 0,a=r.plugin.getPluginState(),o=a.breadcrumbs,s=o.findIndex((function(e){return t===e.requestPath})),o=-1!==s?o.slice(0,s+1):[].concat((0,rn.A)(o),[{requestPath:t,name:n}]),r.nextPagePath=t,l=[],u=[];case 7:return e.next=9,Ii(r,Wi)[Wi]({breadcrumbs:o,signal:i});case 9:c=e.sent,d=c.files,h=c.folders,l=l.concat(d),u=u.concat(h),r.setLoading(r.plugin.uppy.i18n("loadedXFiles",{numFiles:l.length+u.length}));case 15:if(r.opts.loadAllFiles&&r.nextPagePath){e.next=7;break}case 16:r.plugin.setPluginState({folders:u,files:l,breadcrumbs:o,filterInput:""});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(1),"UserFacingApiError"!==(null==e.t0?void 0:e.t0.name)){e.next=11;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(e.t0.message)},"warning",5e3),e.abrupt("return");case 11:this.handleError(e.t0);case 12:return e.prev=12,this.setLoading(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,6,12,15]])}))),function(e,t){return u.apply(this,arguments)})},{key:"getNextFolder",value:function(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}},{key:"logout",value:(s=(0,c.A)(p.mark((function e(){var t=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ii(this,Hi)[Hi](function(){var e=(0,c.A)(p.mark((function e(n){var r,i,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.provider.logout({signal:n});case 2:(r=e.sent).ok&&(r.revoked||(i=t.plugin.uppy.i18n("companionUnauthorizeHint",{provider:t.plugin.title,url:r.manual_revoke_url}),t.plugin.uppy.info(i,"info",7e3)),a={authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:""},t.plugin.setPluginState(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.handleError(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return s.apply(this,arguments)})},{key:"filterQuery",value:function(e){this.plugin.setPluginState({filterInput:e})}},{key:"clearFilter",value:function(){this.plugin.setPluginState({filterInput:""})}},{key:"handleAuth",value:(o=(0,c.A)(p.mark((function e(t){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ii(this,Hi)[Hi](function(){var e=(0,c.A)(p.mark((function e(r){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setLoading(!0),e.next=3,n.provider.login({authFormData:t,signal:r});case 3:n.plugin.setPluginState({authenticated:!0}),n.preFirstRender();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"UserFacingApiError"!==e.t0.name){e.next=10;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(e.t0.message)},"warning",5e3),e.abrupt("return");case 10:this.plugin.uppy.log("login failed: ".concat(e.t0.message));case 11:return e.prev=11,this.setLoading(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,5,11,14]])}))),function(e){return o.apply(this,arguments)})},{key:"handleScroll",value:(r=(0,c.A)(p.mark((function e(t){var n=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldHandleScroll(t)||!this.nextPagePath){e.next=13;break}return this.isHandlingScroll=!0,e.prev=2,e.next=5,Ii(this,Hi)[Hi](function(){var e=(0,c.A)(p.mark((function e(t){var r,i,a,o,s,l,u,c,d;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.plugin.getPluginState(),i=r.files,a=r.folders,o=r.breadcrumbs,e.next=3,Ii(n,Wi)[Wi]({breadcrumbs:o,signal:t});case 3:s=e.sent,l=s.files,u=s.folders,c=i.concat(l),d=a.concat(u),n.plugin.setPluginState({folders:d,files:c});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.handleError(e.t0);case 10:return e.prev=10,this.isHandlingScroll=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[2,7,10,13]])}))),function(e){return r.apply(this,arguments)})},{key:"donePicking",value:(n=(0,c.A)(p.mark((function e(){var t=this;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),e.prev=1,e.next=4,Ii(this,Hi)[Hi](function(){var e=(0,c.A)(p.mark((function e(n){var r,i,a,o,s,l,u;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.plugin.getPluginState(),i=r.currentSelection,a=[],o=[],s=Ci(i),e.prev=4,u=p.mark((function e(){var r,i,s,u,c,d,h,f;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.value,i=r.requestPath,s=function(e){return Ei(Ei({},e),{},{relDirPath:e.absDirPath.replace(r.absDirPath,"").replace(/^\//,"")})},!r.isFolder){e.next=16;break}return u=!0,c=0,d=new fr({concurrency:6}),h=function(e){var n,r=Ci(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=t.getTagFile(i),l=(0,br.N)(a,t.plugin.uppy.getID());t.plugin.uppy.checkIfFileAlreadyExists(l)||(o.push(s(i)),c++,t.setLoading(t.plugin.uppy.i18n("addedNumFiles",{numFiles:c}))),u=!1}}catch(p){r.e(p)}finally{r.f()}},e.next=10,Ii(t,Vi)[Vi]({requestPath:i,absDirPath:Ri(r.absDirPath,r.name),relDirPath:r.name,queue:d,onFiles:h,signal:n});case 10:return e.next=12,d.onIdle();case 12:f=u?t.plugin.uppy.i18n("emptyFolderAdded"):0===c?t.plugin.uppy.i18n("folderAlreadyAdded",{folder:r.name}):t.plugin.uppy.i18n("folderAdded",{smart_count:c,folder:r.name}),a.push(f),e.next=17;break;case 16:o.push(s(r));case 17:case"end":return e.stop()}}),e)})),s.s();case 7:if((l=s.n()).done){e.next=11;break}return e.delegateYield(u(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),s.e(e.t1);case 16:return e.prev=16,s.f(),e.finish(16);case 19:t.plugin.uppy.log("Adding files from a remote provider"),t.plugin.uppy.addFiles(o.map((function(e){return t.getTagFile(e,t.requestClientId)}))),t.plugin.setPluginState({filterInput:""}),a.forEach((function(e){return t.plugin.uppy.info(e)})),t.clearSelection();case 24:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),this.handleError(e.t0);case 9:return e.prev=9,this.setLoading(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(e,t){var n=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),i=r.authenticated,a=r.didFirstRender,o=this.plugin.uppy.i18n;a||this.preFirstRender();var s=Ei(Ei({},this.opts),t),l=this.plugin.getPluginState(),u=l.files,c=l.folders,p=l.filterInput,d=l.loading,h=l.currentSelection,f=this.isChecked,g=this.recordShiftKeyPress,y=this.filterItems,m=""!==p,b=this.plugin.icon||Mi,w={showBreadcrumbs:s.showBreadcrumbs,getFolder:this.getFolder,breadcrumbs:this.plugin.getPluginState().breadcrumbs,pluginIcon:b,title:this.plugin.title,logout:this.logout,username:this.username,i18n:o},P={isChecked:f,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:g,currentSelection:h,files:m?y(u):u,folders:m?y(c):c,getNextFolder:this.getNextFolder,getFolder:this.getFolder,loadAllFiles:this.opts.loadAllFiles,virtualList:this.opts.virtualList,showSearchFilter:s.showFilter,search:this.filterQuery,clearSearch:this.clearFilter,searchTerm:p,searchOnInput:!0,searchInputLabel:o("filter"),clearSearchLabel:o("resetFilter"),noResultsLabel:o("noFilesFound"),logout:this.logout,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:(0,v.h)($r,w),title:this.plugin.title,viewType:s.viewType,showTitles:s.showTitles,showBreadcrumbs:s.showBreadcrumbs,pluginIcon:b,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=n.plugin.uppy).validateRestrictions.apply(e,arguments)},isLoading:d};return!1===i?(0,v.h)(ki,{onUnmount:this.clearSelection},(0,v.h)(Wr,{pluginName:this.plugin.title,pluginIcon:b,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18nArray,renderForm:this.opts.renderAuthForm,loading:d})):(0,v.h)(ki,{onUnmount:this.clearSelection},(0,v.h)(Pi,P))}}]);var n,r,o,s,u}(Fi)).VERSION="3.13.0";var aa=0;function oa(e){return"__private_"+aa+++"_"+e}var sa={isInputMode:!0,files:[],folders:[],breadcrumbs:[],filterInput:"",currentSelection:[],searchTerm:null},la={viewType:"grid",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},ua=oa("updateFilesAndInputMode");function ca(e,t){this.nextPageQuery=e.nextPageQuery,e.items.forEach((function(e){t.push(e)})),this.plugin.setPluginState({currentSelection:[],isInputMode:!1,files:t,searchTerm:e.searchedFor})}(function(e){function t(e,n){var r;return(0,i.A)(this,t),r=na(this,t,[e,ta(ta({},la),n)]),Object.defineProperty(r,ua,{value:ca}),r.nextPageQuery=null,r.search=r.search.bind(r),r.clearSearch=r.clearSearch.bind(r),r.resetPluginState=r.resetPluginState.bind(r),r.handleScroll=r.handleScroll.bind(r),r.donePicking=r.donePicking.bind(r),r.render=r.render.bind(r),r.plugin.setPluginState(sa),r.registerRequestClient(),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"tearDown",value:function(){}},{key:"resetPluginState",value:function(){this.plugin.setPluginState(sa)}},{key:"search",value:(r=(0,c.A)(p.mark((function e(t){var n,r,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.plugin.getPluginState(),r=n.searchTerm,!t||t!==r){e.next=3;break}return e.abrupt("return");case 3:return this.setLoading(!0),e.prev=4,e.next=7,this.provider.search(t);case 7:i=e.sent,ia(this,ua)[ua](i,[]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.handleError(e.t0);case 14:return e.prev=14,this.setLoading(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[4,11,14,17]])}))),function(e){return r.apply(this,arguments)})},{key:"clearSearch",value:function(){this.plugin.setPluginState({currentSelection:[],files:[],searchTerm:null})}},{key:"handleScroll",value:(n=(0,c.A)(p.mark((function e(t){var n,r,i,a,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.nextPageQuery||null,!this.shouldHandleScroll(t)||!n){e.next=17;break}return this.isHandlingScroll=!0,e.prev=3,r=this.plugin.getPluginState(),i=r.files,a=r.searchTerm,e.next=7,this.provider.search(a,n);case 7:o=e.sent,ia(this,ua)[ua](o,i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.handleError(e.t0);case 14:return e.prev=14,this.isHandlingScroll=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[3,11,14,17]])}))),function(e){return n.apply(this,arguments)})},{key:"donePicking",value:function(){var e=this,t=this.plugin.getPluginState().currentSelection;this.plugin.uppy.log("Adding remote search provider files"),this.plugin.uppy.addFiles(t.map((function(t){return e.getTagFile(t)}))),this.resetPluginState()}},{key:"render",value:function(e,t){var n=this;void 0===t&&(t={});var r=this.plugin.getPluginState(),i=r.didFirstRender,a=r.isInputMode,o=r.searchTerm,s=this.plugin.uppy.i18n;i||this.preFirstRender();var l=ta(ta({},this.opts),t),u=this.plugin.getPluginState(),c=u.files,p=u.folders,d=u.filterInput,h=u.loading,f=u.currentSelection,g=this.isChecked,y=this.filterItems,m=this.recordShiftKeyPress,b=""!==d,w={isChecked:g,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:m,currentSelection:f,files:b?y(c):c,folders:b?y(p):p,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,showSearchFilter:l.showFilter,search:this.search,clearSearch:this.clearSearch,searchTerm:o,searchOnInput:!1,searchInputLabel:s("search"),clearSearchLabel:s("resetSearch"),noResultsLabel:s("noSearchResults"),title:this.plugin.title,viewType:l.viewType,showTitles:l.showTitles,showFilter:l.showFilter,isLoading:h,showBreadcrumbs:l.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:s,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var e;return(e=n.plugin.uppy).validateRestrictions.apply(e,arguments)}};return a?(0,v.h)(ki,{onUnmount:this.resetPluginState},(0,v.h)("div",{className:"uppy-SearchProvider"},(0,v.h)(ui,{search:this.search,inputLabel:s("enterTextToSearch"),buttonLabel:s("searchImages"),inputClassName:"uppy-c-textInput uppy-SearchProvider-input",buttonCSSClassName:"uppy-SearchProvider-searchButton",showButton:!0}))):(0,v.h)(ki,{onUnmount:this.resetPluginState},(0,v.h)(Pi,w))}}]);var n,r}(Fi)).VERSION="3.13.0";var pa=n(24063);const da=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function ha(e,t){if(t){var n=e.querySelector('[data-uppy-paneltype="'.concat(t,'"]'));if(n)return n}return e}function fa(e,t){var n=t[0];n&&(n.focus(),e.preventDefault())}function ga(e,t,n){var r=ha(n,t),i=Qt(r.querySelectorAll(da)),a=i.indexOf(document.activeElement);!function(e){return e.contains(document.activeElement)}(r)?fa(e,i):e.shiftKey&&0===a?function(e,t){var n=t[t.length-1];n&&(n.focus(),e.preventDefault())}(e,i):e.shiftKey||a!==i.length-1||fa(e,i)}var va=n(59209);function ya(){var e=document.body;return"draggable"in e&&"ondragstart"in e&&"ondrop"in e&&("FormData"in window&&"FileReader"in window)}n(26910);var ma=n(3517);function ba(e){var t={color:"#838999",icon:(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,v.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,v.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,v.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!e)return t;var n=e.split("/")[0],r=e.split("/")[1];if("text"===n)return{color:"#5a5e69",icon:(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,v.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))};if("image"===n)return{color:"#686de0",icon:(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,v.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,v.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,v.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,v.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))};if("audio"===n)return{color:"#068dbb",icon:(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,v.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))};if("video"===n)return{color:"#19af67",icon:(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,v.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))};if("application"===n&&"pdf"===r)return{color:"#e25149",icon:(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,v.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))};return"application"===n&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)?{color:"#00C469",icon:(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,v.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:t}function wa(e){var t=e.file;if(t.preview)return(0,v.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});var n=ba(t.type),r=n.color,i=n.icon;return(0,v.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,v.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r}},i),(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,v.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}var Pa=function(e,t){var n=("function"==typeof t?t():t).filter((function(t){return t.id===e}));return n[0].name};function Oa(e){var t=e.file,n=e.toggleFileCard,r=e.i18n,i=e.metaFields,a=t.missingRequiredMetaFields;if(null==a||!a.length)return null;var o=a.map((function(e){return Pa(e,i)})).join(", ");return(0,v.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},r("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",(0,v.h)("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function(){return n(!0,t.id)}},r("editFile")))}function Sa(e){var t=e.file,n=e.i18n,r=e.toggleFileCard,i=e.metaFields,a=e.showLinkToFileUploadResult,o=t.preview?"rgba(255, 255, 255, 0.5)":ba(e.file.type).color;return(0,v.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:o}},a&&t.uploadURL&&(0,v.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name},(0,v.h)("span",{hidden:!0},t.meta.name)),(0,v.h)(wa,{file:t}),(0,v.h)(Oa,{file:t,i18n:n,toggleFileCard:r,metaFields:i}))}function ka(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function Aa(e){return(0,v.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,v.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":ka(e),title:ka(e),onClick:function(){return function(e){e.isUploaded||(!e.error||e.hideRetryButton?e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id):e.uppy.retryUpload(e.file.id))}(e)}},e.children))}function _a(e){var t=e.children;return(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function Fa(e){var t=e.progress,n=2*Math.PI*15;return(0,v.h)("g",null,(0,v.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,v.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":n,"stroke-dashoffset":n-n/100*t}))}function Ca(e){return e.file.progress.uploadStarted?e.isUploaded?(0,v.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,v.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,v.h)(_a,null,(0,v.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,v.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.recoveredState?void 0:e.error&&!e.hideRetryButton?(0,v.h)(Aa,e,(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,v.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,v.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,v.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,v.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?(0,v.h)(Aa,e,(0,v.h)(_a,null,(0,v.h)(Fa,{progress:e.file.progress.percentage}),e.file.isPaused?(0,v.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,v.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,v.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,v.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?(0,v.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,v.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,v.h)(_a,null,(0,v.h)(Fa,{progress:e.file.progress.percentage})))):(0,v.h)(Aa,e,(0,v.h)(_a,null,(0,v.h)(Fa,{progress:e.file.progress.percentage}),(0,v.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}var Ta="...";function Da(e,t){if(0===t)return"";if(e.length<=t)return e;if(t<=4)return"".concat(e.slice(0,t-1),"…");var n=t-3,r=Math.ceil(n/2),i=Math.floor(n/2);return e.slice(0,r)+Ta+e.slice(-i)}var Ea=function(e){var t=e.file,n=e.onClick;return t.error?(0,v.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};function xa(e){var t=e.file;return(0,v.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},(0,v.h)("div",{className:"uppy-Dashboard-Item-fileName"},function(e){var t=e.file.meta,n=t.author,r=t.name;return(0,v.h)("div",{className:"uppy-Dashboard-Item-name",title:r},Da(r,e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30))}(e),(0,v.h)(Ea,{file:e.file,onClick:function(){return alert(e.file.error)}})),(0,v.h)("div",{className:"uppy-Dashboard-Item-status"},function(e){var t,n=e.file.meta.author,r=null==(t=e.file.remote)?void 0:t.providerName;return n?(0,v.h)("div",{className:"uppy-Dashboard-Item-author"},(0,v.h)("a",{href:"".concat(n.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},Da(n.name,13)),r?(0,v.h)(v.FK,null," ".concat("·"," "),r," ".concat("·"," ")):null):null}(e),function(e){return e.file.size&&(0,v.h)("div",{className:"uppy-Dashboard-Item-statusSize"},b(e.file.size))}(e),function(e){return e.file.isGhost&&(0,v.h)("span",null," • ",(0,v.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))}(e)),(0,v.h)(Oa,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}function Ba(e){var t=e.file,n=e.uploadInProgressOrComplete,r=e.metaFields,i=e.canEditFile,a=e.i18n,o=e.onClick;return!n&&r&&r.length>0||!n&&i(t)?(0,v.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:t.meta.name}),title:a("editFileWithFilename",{file:t.meta.name}),onClick:function(){return o()}},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,v.h)("g",{fillRule:"evenodd"},(0,v.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,v.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,v.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function Ia(e){var t=e.i18n,n=e.onClick,r=e.file;return(0,v.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:function(){return n()}},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,v.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,v.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var Na=function(e,t){var n,r;(n=t.file.uploadURL,r=t.i18n("copyLinkToClipboardFallback"),void 0===r&&(r="Copy the URL below"),new Promise((function(e){var t=document.createElement("textarea");t.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),t.value=n,document.body.appendChild(t),t.select();var i=function(){document.body.removeChild(t),window.prompt(r,n),e()};try{return document.execCommand("copy")?(document.body.removeChild(t),e()):i()}catch(a){return document.body.removeChild(t),i()}}))).then((function(){t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)})).catch(t.uppy.log).then((function(){return e.target.focus({preventScroll:!0})}))};function Ua(e){var t=e.i18n;return(0,v.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:function(t){return Na(t,e)}},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,v.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function ja(e){var t=e.uppy,n=e.file,r=e.uploadInProgressOrComplete,i=e.canEditFile,a=e.metaFields,o=e.showLinkToFileUploadResult,s=e.showRemoveButton,l=e.i18n,u=e.toggleFileCard,c=e.openFileEditor;return(0,v.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,v.h)(Ba,{i18n:l,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:a,onClick:function(){a&&a.length>0?u(!0,n.id):c(n)}}),o&&n.uploadURL?(0,v.h)(Ua,{file:n,uppy:t,i18n:l}):null,s?(0,v.h)(Ia,{i18n:l,file:n,uppy:t,onClick:function(){return e.uppy.removeFile(n.id,"removed-by-user")}}):null)}function Ra(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Ma()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Ma(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ma=function(){return!!e})()}var La=function(e){function t(){return(0,i.A)(this,t),Ra(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"shouldComponentUpdate",value:function(e){return!ma(this.props,e)}},{key:"componentDidUpdate",value:function(){var e=this.props.file;e.preview||this.props.handleRequestThumbnail(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.file;e.preview||this.props.handleCancelThumbnail(e)}},{key:"render",value:function(){var e=this.props.file,t=e.progress.preprocess||e.progress.postprocess,n=e.progress.uploadComplete&&!t&&!e.error,r=e.progress.uploadStarted||t,i=e.progress.uploadStarted&&!e.progress.uploadComplete||t,a=e.error||!1,o=e.isGhost,s=(this.props.individualCancellation||!i)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(s=!0);var l=y({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":t,"is-complete":n,"is-error":!!a,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":o});return(0,v.h)("div",{className:l,id:"uppy_".concat(e.id),role:this.props.role},(0,v.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,v.h)(Sa,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,v.h)(Ca,{uppy:this.props.uppy,file:e,error:a,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,v.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,v.h)(xa,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),(0,v.h)(ja,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:s,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}])}(v.uA);const za=function(e){var t=e.id,n=e.error,r=e.i18n,i=e.uppy,a=e.files,o=e.acquirers,s=e.resumableUploads,l=e.hideRetryButton,u=e.hidePauseResumeButton,c=e.hideCancelButton,p=e.showLinkToFileUploadResult,d=e.showRemoveButtonAfterComplete,h=e.isWide,f=e.metaFields,g=e.isSingleFile,y=e.toggleFileCard,m=e.handleRequestThumbnail,b=e.handleCancelThumbnail,w=e.recoveredState,P=e.individualCancellation,O=e.itemsPerRow,S=e.openFileEditor,k=e.canEditFile,A=e.toggleAddFilesPanel,_=e.containerWidth,F=e.containerHeight,C=1===O?71:200,T=xr((function(){var e,t,n,r=Object.keys(a);return w&&r.sort((function(e,t){return a[t].isGhost-a[e].isGhost})),e=O,t=[],n=[],r.forEach((function(r){n.length<e?n.push(r):(t.push(n),n=[r])})),n.length&&t.push(n),t}),[a,O,w]),D=function(e){return(0,v.h)("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:e[0]},e.map((function(e){return(0,v.h)(La,{key:e,uppy:i,id:t,error:n,i18n:r,acquirers:o,resumableUploads:s,individualCancellation:P,hideRetryButton:l,hidePauseResumeButton:u,hideCancelButton:c,showLinkToFileUploadResult:p,showRemoveButtonAfterComplete:d,isWide:h,metaFields:f,recoveredState:w,isSingleFile:g,containerWidth:_,containerHeight:F,toggleFileCard:y,handleRequestThumbnail:m,handleCancelThumbnail:b,role:"listitem",openFileEditor:S,canEditFile:k,toggleAddFilesPanel:A,file:a[e]})})))};return g?(0,v.h)("div",{class:"uppy-Dashboard-files"},D(T[0])):(0,v.h)(si,{class:"uppy-Dashboard-files",role:"list",data:T,renderRow:D,rowHeight:C})};function Ha(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,qa()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function qa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qa=function(){return!!e})()}var Wa;Wa=Symbol.for("uppy test: disable unused locale key warning");var Va=function(e,t){function n(){var e;return(0,i.A)(this,n),(e=Ha(this,n,arguments)).triggerFileInputClick=function(){e.fileInput.click()},e.triggerFolderInputClick=function(){e.folderInput.click()},e.triggerVideoCameraInputClick=function(){e.mobileVideoFileInput.click()},e.triggerPhotoCameraInputClick=function(){e.mobilePhotoFileInput.click()},e.onFileInputChange=function(t){e.props.handleInputChange(t),t.target.value=null},e.renderHiddenInput=function(t,n){return(0,v.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:t,type:"file",name:"files[]",multiple:1!==e.props.maxNumberOfFiles,onChange:e.onFileInputChange,accept:e.props.allowedFileTypes,ref:n})},e.renderHiddenCameraInput=function(t,n,r){var i={photo:"image/*",video:"video/*"}[t];return(0,v.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:"camera-".concat(t),onChange:e.onFileInputChange,capture:n,accept:i,ref:r})},e.renderMyDeviceAcquirer=function(){return(0,v.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerFileInputClick},(0,v.h)("div",{className:"uppy-DashboardTab-inner"},(0,v.h)("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,v.h)("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),(0,v.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("myDevice"))))},e.renderPhotoCamera=function(){return(0,v.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerPhotoCameraInputClick},(0,v.h)("div",{className:"uppy-DashboardTab-inner"},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,v.h)("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),(0,v.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("takePictureBtn"))))},e.renderVideoCamera=function(){return(0,v.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:e.triggerVideoCameraInputClick},(0,v.h)("div",{className:"uppy-DashboardTab-inner"},(0,v.h)("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},(0,v.h)("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),(0,v.h)("div",{className:"uppy-DashboardTab-name"},e.props.i18n("recordVideoBtn"))))},e.renderBrowseButton=function(t,n){var r=e.props.acquirers.length;return(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":0===r},t)},e.renderDropPasteBrowseTagline=function(t){var n=e.renderBrowseButton(e.props.i18n("browseFiles"),e.triggerFileInputClick),r=e.renderBrowseButton(e.props.i18n("browseFolders"),e.triggerFolderInputClick),i=e.props.fileManagerSelectionType,a=i.charAt(0).toUpperCase()+i.slice(1);return(0,v.h)("div",{class:"uppy-Dashboard-AddFiles-title"},e.props.disableLocalFiles?e.props.i18n("importFiles"):t>0?e.props.i18nArray("dropPasteImport".concat(a),{browseFiles:n,browseFolders:r,browse:n}):e.props.i18nArray("dropPaste".concat(a),{browseFiles:n,browseFolders:r,browse:n}))},e.renderAcquirer=function(t){return(0,v.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":t.id},(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":t.id,"aria-controls":"uppy-DashboardContent-panel--".concat(t.id),"aria-selected":e.props.activePickerPanel.id===t.id,"data-uppy-super-focusable":!0,onClick:function(){return e.props.showPanel(t.id)}},(0,v.h)("div",{className:"uppy-DashboardTab-inner"},t.icon()),(0,v.h)("div",{className:"uppy-DashboardTab-name"},t.name)))},e.renderAcquirers=function(t){var n=(0,rn.A)(t),r=n.splice(t.length-2,t.length);return(0,v.h)(v.FK,null,n.map((function(t){return e.renderAcquirer(t)})),(0,v.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},r.map((function(t){return e.renderAcquirer(t)}))))},e.renderSourcesList=function(t,n){var r,i=e.props,a=i.showNativePhotoCameraButton,o=i.showNativeVideoCameraButton,s=[],l="myDevice";n||s.push({key:l,elements:e.renderMyDeviceAcquirer()}),a&&s.push({key:"nativePhotoCameraButton",elements:e.renderPhotoCamera()}),o&&s.push({key:"nativePhotoCameraButton",elements:e.renderVideoCamera()}),(r=s).push.apply(r,(0,rn.A)(t.map((function(t){return{key:t.id,elements:e.renderAcquirer(t)}})))),1===s.length&&s[0].key===l&&(s=[]);var u=(0,rn.A)(s),c=u.splice(s.length-2,s.length),p=function(e){return e.map((function(e){var t=e.key,n=e.elements;return(0,v.h)(v.FK,{key:t},n)}))};return(0,v.h)(v.FK,null,e.renderDropPasteBrowseTagline(s.length),(0,v.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},p(u),(0,v.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},p(c))))},e}return(0,l.A)(n,e),(0,a.A)(n,[{key:t,value:function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function(){var e=(0,this.props.i18nArray)("poweredBy",{uppy:(0,v.h)("span",null,(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,v.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,v.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"))});return(0,v.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.showNativePhotoCameraButton,r=t.showNativeVideoCameraButton,i=t.nativeCameraFacingMode;return(0,v.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,(function(t){e.fileInput=t})),this.renderHiddenInput(!0,(function(t){e.folderInput=t})),n&&this.renderHiddenCameraInput("photo",i,(function(t){e.mobilePhotoFileInput=t})),r&&this.renderHiddenCameraInput("video",i,(function(t){e.mobileVideoFileInput=t})),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),(0,v.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,v.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}])}(v.uA,Wa);const Ga=Va;const Ka=function(e){return(0,v.h)("div",{className:y("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel},(0,v.h)("div",{className:"uppy-DashboardContent-bar"},(0,v.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),(0,v.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),(0,v.h)(Ga,e))};const $a=function(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()};const Xa=function(e){var t=e.activePickerPanel,n=e.className,r=e.hideAllPanels,i=e.i18n,a=e.state,o=e.uppy;return(0,v.h)("div",{className:y("uppy-DashboardContent-panel",n),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(t.id),onDragOver:$a,onDragLeave:$a,onDrop:$a,onPaste:$a},(0,v.h)("div",{className:"uppy-DashboardContent-bar"},(0,v.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:t.name})),(0,v.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r},i("cancel"))),(0,v.h)("div",{className:"uppy-DashboardContent-panelBody"},o.getPlugin(t.id).render(a)))};const Ya=function(e){var t=e.files[e.fileCardFor];return(0,v.h)("div",{className:y("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,v.h)("div",{className:"uppy-DashboardContent-bar"},(0,v.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:(0,v.h)("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),(0,v.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()}},e.i18n("cancel")),(0,v.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),(0,v.h)("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))};var Qa={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Ja(e){var t=e.files,n=e.i18n,r=e.isAllComplete,i=e.isAllErrored,a=e.isAllPaused,o=e.inProgressNotPausedFiles,s=e.newFiles,l=e.processingFiles,u=function(e,t,n,r){if(void 0===r&&(r={}),e)return Qa.STATE_ERROR;if(t)return Qa.STATE_COMPLETE;if(n)return Qa.STATE_PAUSED;for(var i=Qa.STATE_WAITING,a=Object.keys(r),o=0;o<a.length;o++){var s=r[a[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return Qa.STATE_UPLOADING;s.preprocess&&i!==Qa.STATE_UPLOADING&&(i=Qa.STATE_PREPROCESSING),s.postprocess&&i!==Qa.STATE_UPLOADING&&i!==Qa.STATE_PREPROCESSING&&(i=Qa.STATE_POSTPROCESSING)}return i}(i,r,a,t);switch(u){case"uploading":return n("uploadingXFiles",{smart_count:o.length});case"preprocessing":case"postprocessing":return n("processingXFiles",{smart_count:l.length});case"paused":return n("uploadPaused");case"waiting":return n("xFilesSelected",{smart_count:s.length});case"complete":return n("uploadComplete");case"error":return n("error")}}const Za=function(e){var t=e.i18n,n=e.isAllComplete,r=e.hideCancelButton,i=e.maxNumberOfFiles,a=e.toggleAddFilesPanel,o=e.uppy,s=e.allowNewUpload;return s&&i&&(s=e.totalFileCount<e.maxNumberOfFiles),(0,v.h)("div",{className:"uppy-DashboardContent-bar"},n||r?(0,v.h)("div",null):(0,v.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return o.cancelAll()}},t("cancel")),(0,v.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,v.h)(Ja,e)),s?(0,v.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:function(){return a(!0)}},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,v.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,v.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):(0,v.h)("div",null))};n(21699);function eo(e){var t=e.computedMetaFields,n=e.requiredMetaFields,r=e.updateMeta,i=e.form,a=e.formState,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map((function(e){var t="uppy-Dashboard-FileCard-input-".concat(e.id),s=n.includes(e.id);return(0,v.h)("fieldset",{key:e.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,v.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:t},e.name),void 0!==e.render?e.render({value:a[e.id],onChange:function(t){return r(t,e.id)},fieldCSSClasses:o,required:s,form:i.id},v.h):(0,v.h)("input",{className:o.text,id:t,form:i.id,type:e.type||"text",required:s,value:a[e.id],placeholder:e.placeholder,onInput:function(t){return r(t.target.value,e.id)},"data-uppy-super-focusable":!0}))}))}function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ro(e){var t,n=e.files,i=e.fileCardFor,a=e.toggleFileCard,o=e.saveFileCard,s=e.metaFields,l=e.requiredMetaFields,u=e.openFileEditor,c=e.i18n,p=e.i18nArray,d=e.className,h=e.canEditFile,f=n[i],g=null!=(t="function"==typeof s?s(n[i]):s)?t:[],m=h(f),b={};g.forEach((function(e){var t;b[e.id]=null!=(t=f.meta[e.id])?t:""}));var w=Dr(b),P=(0,ue.A)(w,2),O=P[0],S=P[1],k=Br((function(e){e.preventDefault(),o(O,i)}),[o,O,i]),A=function(){a(!1)},_=Dr((function(){var e=document.createElement("form");return e.setAttribute("tabindex","-1"),e.id=(0,li.A)(),e})),F=(0,ue.A)(_,1)[0];return Er((function(){return document.body.appendChild(F),F.addEventListener("submit",k),function(){F.removeEventListener("submit",k),document.body.removeChild(F)}}),[F,k]),(0,v.h)("div",{className:y("uppy-Dashboard-FileCard",d),"data-uppy-panelType":"FileCard",onDragOver:$a,onDragLeave:$a,onDrop:$a,onPaste:$a},(0,v.h)("div",{className:"uppy-DashboardContent-bar"},(0,v.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},p("editing",{file:(0,v.h)("span",{className:"uppy-DashboardContent-titleFile"},f.meta?f.meta.name:f.name)})),(0,v.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:F.id,title:c("finishEditingFile"),onClick:A},c("cancel"))),(0,v.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,v.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:ba(f.type).color}},(0,v.h)(wa,{file:f}),m&&(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(e){k(e),u(f)}},c("editImage"))),(0,v.h)("div",{className:"uppy-Dashboard-FileCard-info"},(0,v.h)(eo,{computedMetaFields:g,requiredMetaFields:l,updateMeta:function(e,t){S(no(no({},O),{},(0,r.A)({},t,e)))},form:F,formState:O})),(0,v.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,v.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:F.id},c("saveChanges")),(0,v.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:A,form:F.id},c("cancel")))))}function io(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ao()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ao(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ao=function(){return!!e})()}var oo="uppy-transition-slideDownUp";const so=function(e){function t(e){var n;return(0,i.A)(this,t),(n=io(this,t,[e])).state={cachedChildren:null,className:""},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentWillUpdate",value:function(e){var t=this,n=this.state.cachedChildren,r=(0,v.v2)(e.children)[0];if(n===r)return null;var i={cachedChildren:r};r&&!n&&(i.className="".concat(oo,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(oo,"-enter ").concat(oo,"-enter-active")}),t.enterTimeout=setTimeout((function(){t.setState({className:""})}),250)}))),n&&!r&&void 0===this.leaveTimeout&&(i.cachedChildren=n,i.className="".concat(oo,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame((function(){t.setState({className:"".concat(oo,"-leave ").concat(oo,"-leave-active")}),t.leaveTimeout=setTimeout((function(){t.setState({cachedChildren:null,className:""})}),250)}))),this.setState(i)}},{key:"render",value:function(){var e=this.state,t=e.cachedChildren,n=e.className;return t?(0,v.Ob)(t,{className:y(n,t.props.className)}):null}}])}(v.uA);function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo.apply(this,arguments)}const uo={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function co(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return po(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function go(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,vo()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function vo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vo=function(){return!!e})()}function yo(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var mo=0;function bo(e){return"__private_"+mo+++"_"+e}var wo=pa.A.default||pa.A;function Po(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var Oo=bo("disabledNodes"),So=bo("generateLargeThumbnailIfSingleFile"),ko=bo("openFileEditorWhenFilesAdded"),Ao=bo("attachRenderFunctionToTarget"),_o=bo("isTargetSupported"),Fo=bo("getAcquirers"),Co=bo("getProgressIndicators"),To=bo("getEditors"),Do=bo("addSpecifiedPluginsFromOptions"),Eo=bo("autoDiscoverPlugins"),xo=bo("addSupportedPluginIfNoTarget"),Bo=function(e){function t(e,n){var a,o;(0,i.A)(this,t),a=go(this,t,[e,n]),o=a,Object.defineProperty(a,Oo,{writable:!0,value:null}),a.removeTarget=function(e){var t=a.getPluginState().targets.filter((function(t){return t.id!==e.id}));a.setPluginState({targets:t})},a.addTarget=function(e){var t=e.id||e.constructor.name,n=e.title||t,r=e.type;if("acquirer"===r||"progressindicator"===r||"editor"===r){var i={id:t,name:n,type:r},o=a.getPluginState().targets.slice();return o.push(i),a.setPluginState({targets:o}),a.el}a.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error")},a.hideAllPanels=function(){var e=a.getPluginState(),t={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};e.activePickerPanel===t.activePickerPanel&&e.showAddFilesPanel===t.showAddFilesPanel&&e.showFileEditor===t.showFileEditor&&e.activeOverlayType===t.activeOverlayType||(a.setPluginState(t),a.uppy.emit("dashboard:close-panel",e.activePickerPanel.id))},a.showPanel=function(e){var t=a.getPluginState().targets.filter((function(t){return"acquirer"===t.type&&t.id===e}))[0];a.setPluginState({activePickerPanel:t,activeOverlayType:"PickerPanel"}),a.uppy.emit("dashboard:show-panel",e)},a.canEditFile=function(e){var t=a.getPluginState().targets;return yo(a,To)[To](t).some((function(t){return a.uppy.getPlugin(t.id).canEditFile(e)}))},a.openFileEditor=function(e){var t=a.getPluginState().targets,n=yo(a,To)[To](t);a.setPluginState({showFileEditor:!0,fileCardFor:e.id||null,activeOverlayType:"FileEditor"}),n.forEach((function(t){a.uppy.getPlugin(t.id).selectFile(e)}))},a.closeFileEditor=function(){var e=a.getPluginState().metaFields;e&&e.length>0?a.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):a.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})},a.saveFileEditor=function(){var e=a.getPluginState().targets;yo(a,To)[To](e).forEach((function(e){a.uppy.getPlugin(e.id).save()})),a.closeFileEditor()},a.openModal=function(){var e=Po(),t=e.promise,n=e.resolve;if(a.savedScrollPosition=window.pageYOffset,a.savedActiveElement=document.activeElement,a.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),a.opts.animateOpenClose&&a.getPluginState().isClosing){var r=function(){a.setPluginState({isHidden:!1}),a.el.removeEventListener("animationend",r,!1),n()};a.el.addEventListener("animationend",r,!1)}else a.setPluginState({isHidden:!1}),n();return a.opts.browserBackButtonClose&&a.updateBrowserHistory(),document.addEventListener("keydown",a.handleKeyDownInModal),a.uppy.emit("dashboard:modal-open"),t},a.closeModal=function(e){void 0===e&&(e={});var t=e.manualClose,n=void 0===t||t,r=o.getPluginState(),i=r.isHidden,a=r.isClosing;if(!i&&!a){var s,l=Po(),u=l.promise,c=l.resolve;if(o.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),o.opts.animateOpenClose){o.setPluginState({isClosing:!0});var p=function(){o.setPluginState({isHidden:!0,isClosing:!1}),o.superFocus.cancel(),o.savedActiveElement.focus(),o.el.removeEventListener("animationend",p,!1),c()};o.el.addEventListener("animationend",p,!1)}else o.setPluginState({isHidden:!0}),o.superFocus.cancel(),o.savedActiveElement.focus(),c();if(document.removeEventListener("keydown",o.handleKeyDownInModal),n)if(o.opts.browserBackButtonClose)null!=(s=history.state)&&s[o.modalName]&&history.back();return o.uppy.emit("dashboard:modal-closed"),u}},a.isModalOpen=function(){return!a.getPluginState().isHidden||!1},a.requestCloseModal=function(){return a.opts.onRequestCloseModal?a.opts.onRequestCloseModal():a.closeModal()},a.setDarkModeCapability=function(e){var t=a.uppy.getState().capabilities;a.uppy.setState({capabilities:fo(fo({},t),{},{darkMode:e})})},a.handleSystemDarkModeChange=function(e){var t=e.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(t?"on":"off")),a.setDarkModeCapability(t)},a.toggleFileCard=function(e,t){var n=a.uppy.getFile(t);e?a.uppy.emit("dashboard:file-edit-start",n):a.uppy.emit("dashboard:file-edit-complete",n),a.setPluginState({fileCardFor:e?t:null,activeOverlayType:e?"FileCard":null})},a.toggleAddFilesPanel=function(e){a.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},a.addFiles=function(e){var t=e.map((function(e){return{source:a.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||e.webkitRelativePath||null}}}));try{a.uppy.addFiles(t)}catch(n){a.uppy.log(n)}},a.startListeningToResize=function(){a.resizeObserver=new ResizeObserver((function(e){var t=e[0].contentRect,n=t.width,r=t.height;a.setPluginState({containerWidth:n,containerHeight:r,areInsidesReadyToBeVisible:!0})})),a.resizeObserver.observe(a.el.querySelector(".uppy-Dashboard-inner")),a.makeDashboardInsidesVisibleAnywayTimeout=setTimeout((function(){var e=a.getPluginState(),t=!a.opts.inline&&e.isHidden;e.areInsidesReadyToBeVisible||t||(a.uppy.log("[Dashboard] resize event didn’t fire on time: defaulted to mobile layout","warning"),a.setPluginState({areInsidesReadyToBeVisible:!0}))}),1e3)},a.stopListeningToResize=function(){a.resizeObserver.disconnect(),clearTimeout(a.makeDashboardInsidesVisibleAnywayTimeout)},a.recordIfFocusedOnUppyRecently=function(e){a.el.contains(e.target)?a.ifFocusedOnUppyRecently=!0:(a.ifFocusedOnUppyRecently=!1,a.superFocus.cancel())},a.disableInteractiveElements=function(e){var t,n,r=null!=(t=yo(a,Oo)[Oo])?t:Qt(a.el.querySelectorAll(["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'])).filter((function(e){return!e.classList.contains("uppy-Dashboard-close")})),i=co(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;"A"===o.tagName?o.setAttribute("aria-disabled",e):o.disabled=e}}catch(s){i.e(s)}finally{i.f()}yo(a,Oo)[Oo]=e?r:null,a.dashboardIsDisabled=e},a.updateBrowserHistory=function(){var e;null!=(e=history.state)&&e[a.modalName]||history.pushState(fo(fo({},history.state),{},(0,r.A)({},a.modalName,!0)),""),window.addEventListener("popstate",a.handlePopState,!1)},a.handlePopState=function(e){var t;!a.isModalOpen()||e.state&&e.state[a.modalName]||a.closeModal({manualClose:!1}),!a.isModalOpen()&&null!=(t=e.state)&&t[a.modalName]&&history.back()},a.handleKeyDownInModal=function(e){27===e.keyCode&&a.requestCloseModal(e),9===e.keyCode&&ga(e,a.getPluginState().activeOverlayType,a.el)},a.handleClickOutside=function(){a.opts.closeModalOnClickOutside&&a.requestCloseModal()},a.handlePaste=function(e){a.uppy.iteratePlugins((function(t){"acquirer"===t.type&&(null==t.handleRootPaste||t.handleRootPaste(e))}));var t=Qt(e.clipboardData.files);t.length>0&&(a.uppy.log("[Dashboard] Files pasted"),a.addFiles(t))},a.handleInputChange=function(e){e.preventDefault();var t=Qt(e.target.files);t.length>0&&(a.uppy.log("[Dashboard] Files selected through input"),a.addFiles(t))},a.handleDragOver=function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=function(){var t=!0;return a.uppy.iteratePlugins((function(n){null!=n.canHandleRootDrop&&n.canHandleRootDrop(e)&&(t=!0)})),t}(),i=e.dataTransfer.types.some((function(e){return"Files"===e}));if(!r&&!i||a.opts.disabled||a.opts.disableLocalFiles&&(i||!r)||!a.uppy.getState().allowNewUpload)return e.dataTransfer.dropEffect="none",void clearTimeout(a.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!0}),null==(t=(n=a.opts).onDragOver)||t.call(n,e)},a.handleDragLeave=function(e){var t,n;e.preventDefault(),e.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout((function(){a.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=a.opts).onDragLeave)||t.call(n,e)},a.handleDrop=function(){var e=(0,c.A)(p.mark((function e(t){var n,r,i,o,s;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins((function(e){"acquirer"===e.type&&(null==e.handleRootDrop||e.handleRootDrop(t))})),i=!1,o=function(e){a.uppy.log(e,"error"),i||(a.uppy.info(e.message,"error"),i=!0)},a.uppy.log("[Dashboard] Processing dropped files"),e.next=10,yn(t.dataTransfer,{logDropError:o});case 10:(s=e.sent).length>0&&(a.uppy.log("[Dashboard] Files dropped"),a.addFiles(s)),null==(n=(r=a.opts).onDrop)||n.call(r,t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRequestThumbnail=function(e){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:request",e)},a.handleCancelThumbnail=function(e){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:cancel",e)},a.handleKeyDownInInline=function(e){9===e.keyCode&&function(e,t,n){null===t||ga(e,t,n)}(e,a.getPluginState().activeOverlayType,a.el)},a.handlePasteOnBody=function(e){a.el.contains(document.activeElement)&&a.handlePaste(e)},a.handleComplete=function(e){var t=e.failed;a.opts.closeAfterFinish&&0===t.length&&a.requestCloseModal()},a.handleCancelRestore=function(){a.uppy.emit("restore-canceled")},Object.defineProperty(a,So,{writable:!0,value:function(){if(!a.opts.disableThumbnailGenerator){var e=a.uppy.getFiles();if(1===e.length){var t=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));null==t||t.setOptions({thumbnailWidth:600});var n=fo(fo({},e[0]),{},{preview:void 0});t.requestThumbnail(n).then((function(){null==t||t.setOptions({thumbnailWidth:a.opts.thumbnailWidth})}))}}}}),Object.defineProperty(a,ko,{writable:!0,value:function(e){var t=e[0],n=a.getPluginState().metaFields,r=n&&n.length>0,i=a.canEditFile(t);r?a.toggleFileCard(!0,t.id):i&&a.openFileEditor(t)}}),a.initEvents=function(){if(a.opts.trigger&&!a.opts.inline){var e=Yt(a.opts.trigger);e?e.forEach((function(e){return e.addEventListener("click",a.openModal)})):a.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}a.startListeningToResize(),document.addEventListener("paste",a.handlePasteOnBody),a.uppy.on("plugin-added",yo(a,xo)[xo]),a.uppy.on("plugin-remove",a.removeTarget),a.uppy.on("file-added",a.hideAllPanels),a.uppy.on("dashboard:modal-closed",a.hideAllPanels),a.uppy.on("complete",a.handleComplete),a.uppy.on("files-added",yo(a,So)[So]),a.uppy.on("file-removed",yo(a,So)[So]),document.addEventListener("focus",a.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",a.recordIfFocusedOnUppyRecently,!0),a.opts.inline&&a.el.addEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.on("files-added",yo(a,ko)[ko])},a.removeEvents=function(){var e=Yt(a.opts.trigger);!a.opts.inline&&e&&e.forEach((function(e){return e.removeEventListener("click",a.openModal)})),a.stopListeningToResize(),document.removeEventListener("paste",a.handlePasteOnBody),window.removeEventListener("popstate",a.handlePopState,!1),a.uppy.off("plugin-added",yo(a,xo)[xo]),a.uppy.off("plugin-remove",a.removeTarget),a.uppy.off("file-added",a.hideAllPanels),a.uppy.off("dashboard:modal-closed",a.hideAllPanels),a.uppy.off("complete",a.handleComplete),a.uppy.off("files-added",yo(a,So)[So]),a.uppy.off("file-removed",yo(a,So)[So]),document.removeEventListener("focus",a.recordIfFocusedOnUppyRecently),document.removeEventListener("click",a.recordIfFocusedOnUppyRecently),a.opts.inline&&a.el.removeEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.off("files-added",yo(a,ko)[ko])},a.superFocusOnEachUpdate=function(){var e=a.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,n=0===a.uppy.getState().info.length,r=!a.opts.inline;n&&(r||e||t&&a.ifFocusedOnUppyRecently)?a.superFocus(a.el,a.getPluginState().activeOverlayType):a.superFocus.cancel()},a.afterUpdate=function(){!a.opts.disabled||a.dashboardIsDisabled?(!a.opts.disabled&&a.dashboardIsDisabled&&a.disableInteractiveElements(!1),a.superFocusOnEachUpdate()):a.disableInteractiveElements(!0)},a.saveFileCard=function(e,t){a.uppy.setFileMeta(t,e),a.toggleFileCard(!1,t)},Object.defineProperty(a,Ao,{writable:!0,value:function(e){var t=a.uppy.getPlugin(e.id);return fo(fo({},e),{},{icon:t.icon||a.opts.defaultPickerIcon,render:t.render})}}),Object.defineProperty(a,_o,{writable:!0,value:function(e){var t=a.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()}}),Object.defineProperty(a,Fo,{writable:!0,value:wo((function(e){return e.filter((function(e){return"acquirer"===e.type&&yo(a,_o)[_o](e)})).map(yo(a,Ao)[Ao])}))}),Object.defineProperty(a,Co,{writable:!0,value:wo((function(e){return e.filter((function(e){return"progressindicator"===e.type})).map(yo(a,Ao)[Ao])}))}),Object.defineProperty(a,To,{writable:!0,value:wo((function(e){return e.filter((function(e){return"editor"===e.type})).map(yo(a,Ao)[Ao])}))}),a.render=function(e){var t,n=a.getPluginState(),r=e.files,i=e.capabilities,o=e.allowNewUpload,s=a.uppy.getObjectOfFilesPerState(),l=s.newFiles,u=s.uploadStartedFiles,c=s.completeFiles,p=s.erroredFiles,d=s.inProgressFiles,h=s.inProgressNotPausedFiles,f=s.processingFiles,g=s.isUploadStarted,m=s.isAllComplete,b=s.isAllErrored,w=s.isAllPaused,P=yo(a,Fo)[Fo](n.targets),O=yo(a,Co)[Co](n.targets),S=yo(a,To)[To](n.targets);return t="auto"===a.opts.theme?i.darkMode?"dark":"light":a.opts.theme,["files","folders","both"].indexOf(a.opts.fileManagerSelectionType)<0&&(a.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(a.opts.fileManagerSelectionType,'".'))),function(e){var t=0===e.totalFileCount,n=1===e.totalFileCount,r=e.containerWidth>576,i=e.containerHeight>330,a=y({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>576,"uppy-size--lg":e.containerWidth>700,"uppy-size--xl":e.containerWidth>900,"uppy-size--height-md":e.containerHeight>330,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&n&&i}),o=1;e.containerWidth>900?o=5:e.containerWidth>700?o=4:e.containerWidth>576&&(o=3);var s=e.showSelectedFiles&&!t,l=e.recoveredState?Object.keys(e.recoveredState.files).length:null,u=e.files?Object.keys(e.files).filter((function(t){return e.files[t].isGhost})).length:null;return(0,v.h)("div",{className:a,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&ya(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},(0,v.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),(0,v.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:(0,v.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},(0,v.h)("span",{"aria-hidden":"true"},"×")),(0,v.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,v.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),s&&(0,v.h)(Za,e),l&&(0,v.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,v.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,v.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,v.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,v.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,v.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,v.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),(0,v.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},u>0?e.i18n("recoveredXFiles",{smart_count:u}):e.i18n("recoveredAllFiles"))),s?(0,v.h)(za,{id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,files:e.files,acquirers:e.acquirers,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:o}):(0,v.h)(Ga,lo({},e,{isSizeMD:r})),(0,v.h)(so,null,e.showAddFilesPanel?(0,v.h)(Ka,lo({key:"AddFiles"},e,{isSizeMD:r})):null),(0,v.h)(so,null,e.fileCardFor?(0,v.h)(ro,lo({key:"FileCard"},e)):null),(0,v.h)(so,null,e.activePickerPanel?(0,v.h)(Xa,lo({key:"Picker"},e)):null),(0,v.h)(so,null,e.showFileEditor?(0,v.h)(Ya,lo({key:"Editor"},e)):null),(0,v.h)("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map((function(t){return e.uppy.getPlugin(t.id).render(e.state)}))))))}({state:e,isHidden:n.isHidden,files:r,newFiles:l,uploadStartedFiles:u,completeFiles:c,erroredFiles:p,inProgressFiles:d,inProgressNotPausedFiles:h,processingFiles:f,isUploadStarted:g,isAllComplete:m,isAllErrored:b,isAllPaused:w,totalFileCount:Object.keys(r).length,totalProgress:e.totalProgress,allowNewUpload:o,acquirers:P,theme:t,disabled:a.opts.disabled,disableLocalFiles:a.opts.disableLocalFiles,direction:a.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:a.saveFileEditor,closeFileEditor:a.closeFileEditor,disableInteractiveElements:a.disableInteractiveElements,animateOpenClose:a.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:O,editors:S,autoProceed:a.uppy.opts.autoProceed,id:a.id,closeModal:a.requestCloseModal,handleClickOutside:a.handleClickOutside,handleInputChange:a.handleInputChange,handlePaste:a.handlePaste,inline:a.opts.inline,showPanel:a.showPanel,hideAllPanels:a.hideAllPanels,i18n:a.i18n,i18nArray:a.i18nArray,uppy:a.uppy,note:a.opts.note,recoveredState:e.recoveredState,metaFields:n.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:a.toggleFileCard,toggleAddFilesPanel:a.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:a.saveFileCard,openFileEditor:a.openFileEditor,canEditFile:a.canEditFile,width:a.opts.width,height:a.opts.height,showLinkToFileUploadResult:a.opts.showLinkToFileUploadResult,fileManagerSelectionType:a.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:a.opts.proudlyDisplayPoweredByUppy,hideCancelButton:a.opts.hideCancelButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:a.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,isTargetDOMEl:a.isTargetDOMEl,parentElement:a.el,allowedFileTypes:a.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:a.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:a.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:a.opts.showSelectedFiles,showNativePhotoCameraButton:a.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:a.opts.showNativeVideoCameraButton,nativeCameraFacingMode:a.opts.nativeCameraFacingMode,singleFileFullScreen:a.opts.singleFileFullScreen,handleCancelRestore:a.handleCancelRestore,handleRequestThumbnail:a.handleRequestThumbnail,handleCancelThumbnail:a.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:a.handleDragOver,handleDragLeave:a.handleDragLeave,handleDrop:a.handleDrop})},Object.defineProperty(a,Do,{writable:!0,value:function(){(a.opts.plugins||[]).forEach((function(e){var t=a.uppy.getPlugin(e);t?t.mount(a,t):a.uppy.log("[Uppy] Dashboard could not find plugin '".concat(e,"', make sure to uppy.use() the plugins you are specifying"),"warning")}))}}),Object.defineProperty(a,Eo,{writable:!0,value:function(){a.uppy.iteratePlugins(yo(a,xo)[xo])}}),Object.defineProperty(a,xo,{writable:!0,value:function(e){var t;!e||null!=(t=e.opts)&&t.target||!["acquirer","editor"].includes(e.type)||(a.getPluginState().targets.some((function(t){return e.id===t.id}))||e.mount(a,e))}}),a.install=function(){a.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:a.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var e=a.opts,t=e.inline,n=e.closeAfterFinish;if(t&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var r=a.uppy.opts,i=r.allowMultipleUploads,o=r.allowMultipleUploadBatches;(i||o)&&n&&a.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var s=a.opts.target;s&&a.mount(s,a),a.opts.disableStatusBar||a.uppy.use(ie,{id:"".concat(a.id,":StatusBar"),target:a,hideUploadButton:a.opts.hideUploadButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,hideCancelButton:a.opts.hideCancelButton,showProgressDetails:a.opts.showProgressDetails,hideAfterFinish:a.opts.hideProgressAfterFinish,locale:a.opts.locale,doneButtonHandler:a.opts.doneButtonHandler}),a.opts.disableInformer||a.uppy.use(we,{id:"".concat(a.id,":Informer"),target:a}),a.opts.disableThumbnailGenerator||a.uppy.use(Kt,{id:"".concat(a.id,":ThumbnailGenerator"),thumbnailWidth:a.opts.thumbnailWidth,thumbnailHeight:a.opts.thumbnailHeight,thumbnailType:a.opts.thumbnailType,waitForThumbnailsBeforeUpload:a.opts.waitForThumbnailsBeforeUpload,lazy:!a.opts.waitForThumbnailsBeforeUpload}),a.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var l=!!a.darkModeMediaQuery&&a.darkModeMediaQuery.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(l?"on":"off")),a.setDarkModeCapability(l),"auto"===a.opts.theme&&a.darkModeMediaQuery.addListener(a.handleSystemDarkModeChange),yo(a,Do)[Do](),yo(a,Eo)[Eo](),a.initEvents()},a.uninstall=function(){if(!a.opts.disableInformer){var e=a.uppy.getPlugin("".concat(a.id,":Informer"));e&&a.uppy.removePlugin(e)}if(!a.opts.disableStatusBar){var t=a.uppy.getPlugin("".concat(a.id,":StatusBar"));t&&a.uppy.removePlugin(t)}if(!a.opts.disableThumbnailGenerator){var n=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));n&&a.uppy.removePlugin(n)}(a.opts.plugins||[]).forEach((function(e){var t=a.uppy.getPlugin(e);t&&t.unmount()})),"auto"===a.opts.theme&&a.darkModeMediaQuery.removeListener(a.handleSystemDarkModeChange),a.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),a.unmount(),a.removeEvents()},a.id=a.opts.id||"Dashboard",a.title="Dashboard",a.type="orchestrator",a.modalName="uppy-Dashboard-".concat((0,li.A)()),a.defaultLocale=uo;var s,l={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Mi,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){a.uppy.clearUploadedFiles(),a.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return a.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return a.opts=fo(fo({},l),n),a.i18nInit(),a.superFocus=(s=!1,va((function(e,t){var n=ha(e,t),r=n.contains(document.activeElement);if(!r||!s){var i=n.querySelector("[data-uppy-super-focusable]");if(!r||i)if(i)i.focus({preventScroll:!0}),s=!0;else{var a=n.querySelector(da);null==a||a.focus({preventScroll:!0}),s=!1}}}),260)),a.ifFocusedOnUppyRecently=!1,a.makeDashboardInsidesVisibleAnywayTimeout=null,a.removeDragOverClassTimeout=null,a}return(0,l.A)(t,e),(0,a.A)(t)}(d.A);Bo.VERSION="3.7.5";var Io=n(1352),No=n(78655),Uo=Io.instanceOf(No.A),jo=Io.arrayOf(Io.string),Ro=Io.shape({strings:Io.object,pluralize:Io.func}),Mo=Io.shape({id:Io.string.isRequired,name:Io.string.isRequired,placeholder:Io.string}),Lo=Io.oneOfType([Io.arrayOf(Mo),Io.func]),zo=Io.oneOfType([Io.string,Io.number]),Ho={uppy:Uo,inline:Io.bool,plugins:jo,width:zo,height:zo,showProgressDetails:Io.bool,hideUploadButton:Io.bool,hideProgressAfterFinish:Io.bool,note:Io.string,metaFields:Lo,proudlyDisplayPoweredByUppy:Io.bool,disableStatusBar:Io.bool,disableInformer:Io.bool,disableThumbnailGenerator:Io.bool,thumbnailWidth:Io.number,locale:Ro},qo=(n(53921),["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"]),Wo=/^(aria-|data-)/;const Vo=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=(0,ue.A)(e,1)[0];return Wo.test(t)||qo.includes(t)})))};n(78347);function Go(e,t){return Object.keys(e).some((function(n){return!Object.hasOwn(e,n)&&e[n]!==t[n]}))}function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xo(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Yo()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Yo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yo=function(){return!!e})()}var Qo=function(e){function t(){return(0,i.A)(this,t),Xo(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Go(this.props,e)){var t=$o($o({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props.uppy,t=$o($o({id:"react:Dashboard"},this.props),{},{target:this.container});delete t.uppy,e.use(Bo,t),this.plugin=e.getPlugin(t.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",$o({className:"uppy-Container",ref:function(t){e.container=t}},Vo(this.props)))}}])}(u.Component);Qo.propTypes=Ho,Qo.defaultProps={inline:!0};const Jo=Qo;function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ts(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ns()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ns(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ns=function(){return!!e})()}var rs=function(e){function t(){return(0,i.A)(this,t),ts(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.uppy,r=t.open,i=t.onRequestClose;if(e.uppy!==n)this.uninstallPlugin(e),this.installPlugin();else if(Go(this.props,e)){var a=es(es({},this.props),{},{onRequestCloseModal:i});delete a.uppy,this.plugin.setOptions(a)}e.open&&!r?this.plugin.closeModal():!e.open&&r&&this.plugin.openModal()}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.id,n=void 0===t?"react:DashboardModal":t,r=e.uppy,i=e.target,a=e.open,o=e.onRequestClose,s={id:n,target:i,closeModalOnClickOutside:e.closeModalOnClickOutside,disablePageScrollWhenModalOpen:e.disablePageScrollWhenModalOpen,inline:e.inline,plugins:e.plugins,width:e.width,height:e.height,showProgressDetails:e.showProgressDetails,note:e.note,metaFields:e.metaFields,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy,autoOpenFileEditor:e.autoOpenFileEditor,animateOpenClose:e.animateOpenClose,browserBackButtonClose:e.browserBackButtonClose,closeAfterFinish:e.closeAfterFinish,disableStatusBar:e.disableStatusBar,disableInformer:e.disableInformer,disableThumbnailGenerator:e.disableThumbnailGenerator,disableLocalFiles:e.disableLocalFiles,disabled:e.disabled,hideCancelButton:e.hideCancelButton,hidePauseResumeButton:e.hidePauseResumeButton,hideProgressAfterFinish:e.hideProgressAfterFinish,hideRetryButton:e.hideRetryButton,hideUploadButton:e.hideUploadButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,showSelectedFiles:e.showSelectedFiles,waitForThumbnailsBeforeUpload:e.waitForThumbnailsBeforeUpload,fileManagerSelectionType:e.fileManagerSelectionType,theme:e.theme,thumbnailType:e.thumbnailType,thumbnailWidth:e.thumbnailWidth,locale:e.locale,onRequestCloseModal:o};s.target||(s.target=this.container),delete s.uppy,r.use(Bo,s),this.plugin=r.getPlugin(s.id),a&&this.plugin.openModal()}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",es({className:"uppy-Container",ref:function(t){e.container=t}},Vo(this.props)))}}])}(u.Component);rs.propTypes={uppy:Uo.isRequired,target:"undefined"!=typeof window?Io.instanceOf(window.HTMLElement):Io.any,open:Io.bool,onRequestClose:Io.func,closeModalOnClickOutside:Io.bool,disablePageScrollWhenModalOpen:Io.bool,inline:Io.bool,plugins:jo,width:zo,height:zo,showProgressDetails:Io.bool,note:Io.string,metaFields:Lo,proudlyDisplayPoweredByUppy:Io.bool,autoOpenFileEditor:Io.bool,animateOpenClose:Io.bool,browserBackButtonClose:Io.bool,closeAfterFinish:Io.bool,disableStatusBar:Io.bool,disableInformer:Io.bool,disableThumbnailGenerator:Io.bool,disableLocalFiles:Io.bool,disabled:Io.bool,hideCancelButton:Io.bool,hidePauseResumeButton:Io.bool,hideProgressAfterFinish:Io.bool,hideRetryButton:Io.bool,hideUploadButton:Io.bool,showLinkToFileUploadResult:Io.bool,showRemoveButtonAfterComplete:Io.bool,showSelectedFiles:Io.bool,waitForThumbnailsBeforeUpload:Io.bool,fileManagerSelectionType:Io.string,theme:Io.string,thumbnailType:Io.string,thumbnailWidth:Io.number,locale:Ro},rs.defaultProps={metaFields:[],plugins:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,open:void 0,target:void 0,locale:null,onRequestClose:void 0};const is=rs,as={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}};function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,us()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function us(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(us=function(){return!!e})()}var cs=function(e){function t(e,n){var r;(0,i.A)(this,t),(r=ls(this,t,[e,n])).handleDrop=function(){var e=(0,c.A)(p.mark((function e(t){var n,i,a,o;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(r.removeDragOverClassTimeout),r.setPluginState({isDraggingOver:!1}),a=function(e){r.uppy.log(e,"error")},e.next=7,yn(t.dataTransfer,{logDropError:a});case 7:(o=e.sent).length>0&&(r.uppy.log("[DragDrop] Files dropped"),r.addFiles(o)),null==(n=(i=r.opts).onDrop)||n.call(i,t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.type="acquirer",r.id=r.opts.id||"DragDrop",r.title="Drag & Drop",r.defaultLocale=as;return r.opts=ss(ss({},{target:null,inputName:"files[]",width:"100%",height:"100%",note:null}),n),r.i18nInit(),r.isDragDropSupported=ya(),r.removeDragOverClassTimeout=null,r.onInputChange=r.onInputChange.bind(r),r.handleDragOver=r.handleDragOver.bind(r),r.handleDragLeave=r.handleDragLeave.bind(r),r.handleDrop=r.handleDrop.bind(r),r.addFiles=r.addFiles.bind(r),r.render=r.render.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}}}));try{this.uppy.addFiles(n)}catch(r){this.uppy.log(r)}}},{key:"onInputChange",value:function(e){var t=Qt(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null}},{key:"handleDragOver",value:function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=e.dataTransfer.types.some((function(e){return"Files"===e})),i=this.uppy.getState().allowNewUpload;if(!r||!i)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(n=this.opts).onDragOver)||t.call(n,e)}},{key:"handleDragLeave",value:function(e){var t,n,r=this;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((function(){r.setPluginState({isDraggingOver:!1})}),50),null==(t=(n=this.opts).onDragLeave)||t.call(n,e)}},{key:"renderHiddenFileInput",value:function(){var e=this,t=this.uppy.opts.restrictions;return(0,v.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(t){e.fileInputRef=t},name:this.opts.inputName,multiple:1!==t.maxNumberOfFiles,accept:t.allowedFileTypes,onChange:this.onInputChange})}},{key:"renderLabel",value:function(){return(0,v.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,v.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}},{key:"renderNote",value:function(){return(0,v.h)("span",{className:"uppy-DragDrop-note"},this.opts.note)}},{key:"render",value:function(){var e=this,n="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),r={width:this.opts.width,height:this.opts.height};return(0,v.h)("button",{type:"button",className:n,style:r,onClick:function(){return e.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,v.h)("div",{className:"uppy-DragDrop-inner"},t.renderArrowSvg(),this.renderLabel(),this.renderNote()))}},{key:"install",value:function(){var e=this.opts.target;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}],[{key:"renderArrowSvg",value:function(){return(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,v.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}}])}(d.A);function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hs(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,fs()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function fs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fs=function(){return!!e})()}cs.VERSION="3.0.3";var gs=function(e){function t(){return(0,i.A)(this,t),hs(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Go(this.props,e)){var t=ds(ds({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:DragDrop",locale:e.locale,inputName:e.inputName,width:e.width,height:e.height,note:e.note,target:this.container};delete n.uppy,t.use(cs,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",ds({className:"uppy-Container",ref:function(t){e.container=t}},Vo(this.props)))}}])}(u.Component);gs.propTypes={uppy:Uo.isRequired,locale:Ro,inputName:Io.string,width:Io.string,height:Io.string,note:Io.string},gs.defaultProps={locale:null,inputName:"files[]",width:"100%",height:"100%",note:null};const vs=gs;n(94298);function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bs(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,ws()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function ws(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ws=function(){return!!e})()}var Ps={target:"body",fixed:!1,hideAfterFinish:!0},Os=function(e){function t(e,n){var r;return(0,i.A)(this,t),(r=bs(this,t,[e,ms(ms({},Ps),n)])).id=r.opts.id||"ProgressBar",r.title="Progress Bar",r.type="progressindicator",r.render=r.render.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(e){var t=e.totalProgress||0,n=(0===t||100===t)&&this.opts.hideAfterFinish;return(0,v.h)("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},(0,v.h)("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(t,"%")}}),(0,v.h)("div",{className:"uppy-ProgressBar-percentage"},t))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}])}(d.A);function Ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function As(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,_s()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function _s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_s=function(){return!!e})()}Os.VERSION="3.1.0";var Fs=function(e){function t(){return(0,i.A)(this,t),As(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Go(this.props,e)){var t=ks(ks({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:ProgressBar",fixed:e.fixed,hideAfterFinish:e.hideAfterFinish,target:this.container};delete n.uppy,t.use(Os,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",ks({className:"uppy-Container",ref:function(t){e.container=t}},Vo(this.props)))}}])}(u.Component);Fs.propTypes={uppy:Uo.isRequired,fixed:Io.bool,hideAfterFinish:Io.bool},Fs.defaultProps={fixed:!1,hideAfterFinish:!0};const Cs=Fs;const Ts={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function Ds(e){for(var t,n,r=[],i=0,a=Object.values(e);i<a.length;i++){var o=a[i].progress,s=o.preprocess,l=o.postprocess;if(null==n&&(s||l)){var u=s||l;t=u.mode,n=u.message}"determinate"===(null==s?void 0:s.mode)&&r.push(s.value),"determinate"===(null==l?void 0:l.mode)&&r.push(l.value)}return{mode:t,message:n,value:r.reduce((function(e,t){return e+t/r.length}),0)}}var Es=n(33758),xs=n(61643),Bs=function(){return" ".concat("·"," ")};function Is(e){var t=e.newFiles,n=e.isUploadStarted,r=e.recoveredState,i=e.i18n,a=e.uploadState,o=e.isSomeGhost,s=e.startUpload,l=y("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===Ts.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),u=i(t&&n&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return(0,v.h)("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:s,disabled:o,"data-uppy-super-focusable":!0},u)}function Ns(e){var t=e.i18n,n=e.uppy;return(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:function(){return n.retryAll()},"data-uppy-super-focusable":!0},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,v.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function Us(e){var t=e.i18n,n=e.uppy;return(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:function(){return n.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,v.h)("g",{fill:"none",fillRule:"evenodd"},(0,v.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,v.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function js(e){var t=e.isAllPaused,n=e.i18n,r=e.isAllComplete,i=e.resumableUploads,a=e.uppy,o=n(t?"resume":"pause");return(0,v.h)("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){return r?null:i?t?a.resumeAll():a.pauseAll():a.cancelAll()},"data-uppy-super-focusable":!0},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,v.h)("g",{fill:"none",fillRule:"evenodd"},(0,v.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,v.h)("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function Rs(e){var t=e.i18n,n=e.doneButtonHandler;return(0,v.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},t("done"))}function Ms(){return(0,v.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,v.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function Ls(e){var t=e.progress,n=t.value,r=t.mode,i=t.message,a=Math.round(100*n);return(0,v.h)("div",{className:"uppy-StatusBar-content"},(0,v.h)(Ms,null),"determinate"===r?"".concat(a,"% ").concat("·"," "):"",i)}function zs(e){var t=e.i18n,n=e.complete,r=e.numUploads;return(0,v.h)("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:n,smart_count:r}))}function Hs(e){var t=e.i18n,n=e.newFiles,r=e.startUpload,i=y("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,v.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,v.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:n})),(0,v.h)("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r},t("upload")))}var qs=Es((function(e){var t=e.numUploads,n=e.complete,r=e.totalUploadedSize,i=e.totalSize,a=e.totalETA,o=e.i18n,s=t>1;return(0,v.h)("div",{className:"uppy-StatusBar-statusSecondary"},s&&o("filesUploadedOfTotal",{complete:n,smart_count:t}),(0,v.h)("span",{className:"uppy-StatusBar-additionalInfo"},s&&Bs(),o("dataUploadedOfTotal",{complete:xs(r),total:xs(i)}),Bs(),o("xTimeLeft",{time:w(a)})))}),500,{leading:!0,trailing:!0});function Ws(e){var t=e.i18n,n=e.supportsUploadProgress,r=e.totalProgress,i=e.showProgressDetails,a=e.isUploadStarted,o=e.isAllComplete,s=e.isAllPaused,l=e.newFiles,u=e.numUploads,c=e.complete,p=e.totalUploadedSize,d=e.totalSize,h=e.totalETA,f=e.startUpload,g=l&&a;if(!a||o)return null;var y=t(s?"paused":"uploading");return(0,v.h)("div",{className:"uppy-StatusBar-content","aria-label":y,title:y},s?null:(0,v.h)(Ms,null),(0,v.h)("div",{className:"uppy-StatusBar-status"},(0,v.h)("div",{className:"uppy-StatusBar-statusPrimary"},n?"".concat(y,": ").concat(r,"%"):y),s||g||!i?null:n?(0,v.h)(qs,{numUploads:u,complete:c,totalUploadedSize:p,totalSize:d,totalETA:h,i18n:t}):(0,v.h)(zs,{i18n:t,complete:c,numUploads:u}),g?(0,v.h)(Hs,{i18n:t,newFiles:l,startUpload:f}):null))}function Vs(e){var t=e.i18n;return(0,v.h)("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},(0,v.h)("div",{className:"uppy-StatusBar-status"},(0,v.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,v.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function Gs(e){var t=e.error,n=e.i18n,r=e.complete,i=e.numUploads;return(0,v.h)("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},(0,v.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,v.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,v.h)("div",{className:"uppy-StatusBar-status"},(0,v.h)("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),(0,v.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function(){var e="".concat(n("uploadFailed")," \n\n ").concat(t);alert(e)},type:"button"},"?")),(0,v.h)(zs,{i18n:n,complete:r,numUploads:i})))}var Ks=Ts.STATE_ERROR,$s=Ts.STATE_WAITING,Xs=Ts.STATE_PREPROCESSING,Ys=Ts.STATE_UPLOADING,Qs=Ts.STATE_POSTPROCESSING,Js=Ts.STATE_COMPLETE;const Zs={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nl(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,rl()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function rl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rl=function(){return!!e})()}function il(e){var t=0;return e.forEach((function(e){t+=function(e){if(!e.bytesUploaded)return 0;var t=Date.now()-e.uploadStarted;return e.bytesUploaded/(t/1e3)}(e.progress)})),t}function al(e,t,n,r){if(e)return Ts.STATE_ERROR;if(t)return Ts.STATE_COMPLETE;if(n)return Ts.STATE_WAITING;for(var i=Ts.STATE_WAITING,a=Object.keys(r),o=0;o<a.length;o++){var s=r[a[o]].progress;if(s.uploadStarted&&!s.uploadComplete)return Ts.STATE_UPLOADING;s.preprocess&&i!==Ts.STATE_UPLOADING&&(i=Ts.STATE_PREPROCESSING),s.postprocess&&i!==Ts.STATE_UPLOADING&&i!==Ts.STATE_PREPROCESSING&&(i=Ts.STATE_POSTPROCESSING)}return i}var ol=function(e){function t(e,n){var r;(0,i.A)(this,t),(r=nl(this,t,[e,n])).startUpload=function(){if(!r.uppy.getState().recoveredState)return r.uppy.upload().catch((function(){}));r.uppy.emit("restore-confirmed")},r.id=r.opts.id||"StatusBar",r.title="StatusBar",r.type="progressindicator",r.defaultLocale=Zs;return r.opts=tl(tl({},{target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null}),n),r.i18nInit(),r.render=r.render.bind(r),r.install=r.install.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(e){var t=e.capabilities,n=e.files,r=e.allowNewUpload,i=e.totalProgress,a=e.error,o=e.recoveredState,s=this.uppy.getObjectOfFilesPerState(),l=s.newFiles,u=s.startedFiles,c=s.completeFiles,p=s.inProgressNotPausedFiles,d=s.isUploadStarted,h=s.isAllComplete,f=s.isAllErrored,g=s.isAllPaused,m=s.isUploadInProgress,b=s.isSomeGhost,w=o?Object.values(n):l,P=function(e){var t=il(e);if(0===t)return 0;var n=e.reduce((function(e,t){return e+(null==(n=t.progress).bytesTotal?0:n.bytesTotal-n.bytesUploaded);var n}),0);return Math.round(n/t*10)/10}(p),O=!!t.resumableUploads,S=!1!==t.uploadProgress,k=0,A=0;return u.forEach((function(e){k+=e.progress.bytesTotal||0,A+=e.progress.bytesUploaded||0})),function(e){var t=e.newFiles,n=e.allowNewUpload,r=e.isUploadInProgress,i=e.isAllPaused,a=e.resumableUploads,o=e.error,s=e.hideUploadButton,l=e.hidePauseResumeButton,u=e.hideCancelButton,c=e.hideRetryButton,p=e.recoveredState,d=e.uploadState,h=e.totalProgress,f=e.files,g=e.supportsUploadProgress,m=e.hideAfterFinish,b=e.isSomeGhost,w=e.doneButtonHandler,P=e.isUploadStarted,O=e.i18n,S=e.startUpload,k=e.uppy,A=e.isAllComplete,_=e.showProgressDetails,F=e.numUploads,C=e.complete,T=e.totalSize,D=e.totalETA,E=e.totalUploadedSize,x=function(){switch(d){case Qs:case Xs:var e=Ds(f);return"determinate"===e.mode?100*e.value:h;case Ks:return null;case Ys:return g?h:null;default:return h}}(),B=function(){if(p)return!1;switch(d){case $s:return s||0===t;case Js:return m;default:return!1}}(),I=null!=x?x:100,N=!o&&t&&!r&&!i&&n&&!s,U=!u&&d!==$s&&d!==Js,j=a&&!l&&d===Ys,R=o&&!A&&!c,M=w&&d===Js,L=y("uppy-StatusBar-progress",{"is-indeterminate":function(){switch(d){case Qs:case Xs:return"indeterminate"===Ds(f).mode;case Ys:return!g;default:return!1}}()}),z=y("uppy-StatusBar","is-".concat(d),{"has-ghosts":b});return(0,v.h)("div",{className:z,"aria-hidden":B},(0,v.h)("div",{className:L,style:{width:"".concat(I,"%")},role:"progressbar","aria-label":"".concat(I,"%"),"aria-valuetext":"".concat(I,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":x}),function(){switch(d){case Xs:case Qs:return(0,v.h)(Ls,{progress:Ds(f)});case Js:return(0,v.h)(Vs,{i18n:O});case Ks:return(0,v.h)(Gs,{error:o,i18n:O,numUploads:F,complete:C});case Ys:return(0,v.h)(Ws,{i18n:O,supportsUploadProgress:g,totalProgress:h,showProgressDetails:_,isUploadStarted:P,isAllComplete:A,isAllPaused:i,newFiles:t,numUploads:F,complete:C,totalUploadedSize:E,totalSize:T,totalETA:D,startUpload:S});default:return null}}(),(0,v.h)("div",{className:"uppy-StatusBar-actions"},p||N?(0,v.h)(Is,{newFiles:t,isUploadStarted:P,recoveredState:p,i18n:O,isSomeGhost:b,startUpload:S,uploadState:d}):null,R?(0,v.h)(Ns,{i18n:O,uppy:k}):null,j?(0,v.h)(js,{isAllPaused:i,i18n:O,isAllComplete:A,resumableUploads:a,uppy:k}):null,U?(0,v.h)(Us,{i18n:O,uppy:k}):null,M?(0,v.h)(Rs,{i18n:O,doneButtonHandler:w}):null))}({error:a,uploadState:al(a,h,o,e.files||{}),allowNewUpload:r,totalProgress:i,totalSize:k,totalUploadedSize:A,isAllComplete:!1,isAllPaused:g,isAllErrored:f,isUploadStarted:d,isUploadInProgress:m,isSomeGhost:b,recoveredState:o,complete:c.length,newFiles:w.length,numUploads:u.length,totalETA:P,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:O,supportsUploadProgress:S,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var e=this.el;(0,f.A)(e)||(e.dir="ltr")}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}])}(d.A);function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ul(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,cl()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function cl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cl=function(){return!!e})()}ol.VERSION="3.1.0";var pl=function(e){function t(){return(0,i.A)(this,t),ul(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Go(this.props,e)){var t=ll(ll({},this.props),{},{target:this.container});delete t.uppy,this.plugin.setOptions(t)}}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:StatusBar",hideUploadButton:e.hideUploadButton,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showProgressDetails:e.showProgressDetails,hideAfterFinish:e.hideAfterFinish,doneButtonHandler:e.doneButtonHandler,target:this.container};delete n.uppy,t.use(ol,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",ll({className:"uppy-Container",ref:function(t){e.container=t}},Vo(this.props)))}}])}(u.Component);pl.propTypes={uppy:Uo.isRequired,hideUploadButton:Io.bool,hideRetryButton:Io.bool,hidePauseResumeButton:Io.bool,hideCancelButton:Io.bool,showProgressDetails:Io.bool,hideAfterFinish:Io.bool,doneButtonHandler:Io.func},pl.defaultProps={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};const dl=pl,hl={strings:{chooseFiles:"Choose files"}};function fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fl(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vl(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,yl()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function yl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yl=function(){return!!e})()}var ml={pretty:!0,inputName:"files[]"},bl=function(e){function t(e,n){var r;return(0,i.A)(this,t),(r=vl(this,t,[e,gl(gl({},ml),n)])).id=r.opts.id||"FileInput",r.title="File Input",r.type="acquirer",r.defaultLocale=hl,r.i18nInit(),r.render=r.render.bind(r),r.handleInputChange=r.handleInputChange.bind(r),r.handleClick=r.handleClick.bind(r),r}return(0,l.A)(t,e),(0,a.A)(t,[{key:"addFiles",value:function(e){var t=this,n=e.map((function(e){return{source:t.id,name:e.name,type:e.type,data:e}}));try{this.uppy.addFiles(n)}catch(r){this.uppy.log(r)}}},{key:"handleInputChange",value:function(e){this.uppy.log("[FileInput] Something selected through input...");var t=Qt(e.target.files);this.addFiles(t),e.target.value=null}},{key:"handleClick",value:function(){this.input.click()}},{key:"render",value:function(){var e=this,t=this.uppy.opts.restrictions,n=t.allowedFileTypes?t.allowedFileTypes.join(","):void 0;return(0,v.h)("div",{className:"uppy-FileInput-container"},(0,v.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty?{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}:void 0,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:1!==t.maxNumberOfFiles,accept:n,ref:function(t){e.input=t}}),this.opts.pretty&&(0,v.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}},{key:"install",value:function(){var e=this.opts.target;e&&this.mount(e,this)}},{key:"uninstall",value:function(){this.unmount()}}])}(d.A);function wl(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,Pl()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function Pl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pl=function(){return!!e})()}bl.VERSION="3.1.0";var Ol=function(e){function t(){return(0,i.A)(this,t),wl(this,t,arguments)}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.installPlugin()}},{key:"componentDidUpdate",value:function(e){e.uppy!==this.props.uppy&&(this.uninstallPlugin(e),this.installPlugin())}},{key:"componentWillUnmount",value:function(){this.uninstallPlugin()}},{key:"installPlugin",value:function(){var e=this.props,t=e.uppy,n={id:"react:FileInput",locale:e.locale,pretty:e.pretty,inputName:e.inputName,target:this.container};delete n.uppy,t.use(bl,n),this.plugin=t.getPlugin(n.id)}},{key:"uninstallPlugin",value:function(e){void 0===e&&(e=this.props),e.uppy.removePlugin(this.plugin)}},{key:"render",value:function(){var e=this;return(0,u.createElement)("div",{className:"uppy-Container",ref:function(t){e.container=t}})}}])}(u.Component);Ol.propTypes={uppy:Uo.isRequired,locale:Ro,pretty:Io.bool,inputName:Io.string},Ol.defaultProps={locale:void 0,pretty:!0,inputName:"files[]"};const Sl=Ol;function kl(e){if("function"!=typeof e)throw new TypeError("useUppy: expected a function that returns a new Uppy instance");var t=(0,u.useRef)(void 0);if(void 0===t.current&&(t.current=e(),!(t.current instanceof No.A)))throw new TypeError("useUppy: factory function must return an Uppy instance, got ".concat((0,$t.A)(t.current)));return(0,u.useEffect)((function(){return function(){var e;null==(e=t.current)||e.close({reason:"unmount"}),t.current=void 0}}),[t]),t.current}},13656:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(51531),i=n(18180),a=n(58237),o=n(84285);n(52675),n(83237),n(31073),n(16280),n(76918),n(2008),n(51629),n(64346),n(48598),n(44114),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(38781),n(25440),n(90744),n(23500);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var c=0;function p(e){return"__private_"+c+++"_"+e}function d(e,t,n){var r=[];return e.forEach((function(e){return"string"!=typeof e?r.push(e):t[Symbol.split](e).forEach((function(e,t,i){""!==e&&r.push(e),t<i.length-1&&r.push(n)}))})),r}function h(e,t){var n=/\$/g,r=[e];if(null==t)return r;for(var i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];if("_"!==o){var s=t[o];"string"==typeof s&&(s=n[Symbol.replace](s,"$$$$")),r=d(r,new RegExp("%\\{".concat(o,"\\}"),"g"),s)}}return r}var f=function(e){throw new Error("missing string: ".concat(e))},g=p("onMissingKey"),v=p("apply"),y=function(){return(0,o.A)((function e(t,n){(0,a.A)(this,e);var r=(void 0===n?{}:n).onMissingKey,i=void 0===r?f:r;Object.defineProperty(this,v,{value:m}),Object.defineProperty(this,g,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(t)?t.forEach(u(this,v)[v],this):u(this,v)[v](t),u(this,g)[g]=i}),[{key:"translate",value:function(e,t){return this.translateArray(e,t).join("")}},{key:"translateArray",value:function(e,t){var n=this.locale.strings[e];if(null==n&&(u(this,g)[g](e),n=e),"object"===(0,i.A)(n)){if(t&&void 0!==t.smart_count)return h(n[this.locale.pluralize(t.smart_count)],t);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof n)throw new Error("string was not a string");return h(n,t)}}])}();function m(e){if(null!=e&&e.strings){var t=this.locale;Object.assign(this.locale,{strings:l(l({},t.strings),e.strings),pluralize:e.pluralize||t.pluralize})}}},21214:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(51531),i=(n(76918),n(52675),n(2008),n(51629),n(23792),n(44114),n(23288),n(62010),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(27495),n(38781),n(31415),n(47764),n(25440),n(23500),n(62953),n(51494));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){var t="";return e.replace(/[^A-Z0-9]/gi,(function(e){return t+="-".concat(function(e){return e.charCodeAt(0).toString(32)}(e)),"/"}))+t}function l(e,t){if(function(e){return!(!e.isRemote||!e.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}(e))return e.id;var n=(0,i.A)(e);return function(e,t){var n=t||"uppy";return"string"==typeof e.name&&(n+="-".concat(s(e.name.toLowerCase()))),void 0!==e.type&&(n+="-".concat(e.type)),e.meta&&"string"==typeof e.meta.relativePath&&(n+="-".concat(s(e.meta.relativePath.toLowerCase()))),void 0!==e.data.size&&(n+="-".concat(e.data.size)),void 0!==e.data.lastModified&&(n+="-".concat(e.data.lastModified)),n}(o(o({},e),{},{type:n}),t)}},77943:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(8921),n(34782);function r(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}},51494:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(62010);var r=n(77943),i=n(63265);function a(e){var t;if(e.type)return e.type;var n=e.name?null==(t=(0,r.A)(e.name).extension)?void 0:t.toLowerCase():null;return n&&n in i.A?i.A[n]:"application/octet-stream"}},36118:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir}},10826:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(18180);function i(e){return"object"===(0,r.A)(e)&&null!==e&&("nodeType"in e&&e.nodeType===Node.ELEMENT_NODE)}},63265:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},51391:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}}}]);