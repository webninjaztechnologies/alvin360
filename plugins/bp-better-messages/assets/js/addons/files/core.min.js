/*! For license information please see core.min.js.LICENSE.txt */
(this.webpackChunkBetterMessages=this.webpackChunkBetterMessages||[]).push([["node_modules_uppy_core_lib_index_js"],{78029:(e,t,n)=>{"use strict";var r=n(89990);n(16280),n(76918),n(28706),n(2892),n(40150),n(9868),e.exports=function(e){if("number"!=typeof e||Number.isNaN(e))throw new TypeError("Expected a number, got ".concat(r(e)));var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return"".concat((t?"-":"")+e," B");var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var o=n[i];return e>=10||e%1==0?"".concat((t?"-":"")+e.toFixed(0)," ").concat(o):"".concat((t?"-":"")+e.toFixed(1)," ").concat(o)}},35252:(e,t,n)=>{n(34782),n(27495),n(25440);var r=n(79876),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},79876:(e,t,n)=>{n(27495),n(90906);var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},59209:(e,t,n)=>{n(16280),n(76918),n(76031);var r=n(67873),i=n(93224),o=n(43146),s=Math.max,a=Math.min;e.exports=function(e,t,n){var l,u,c,f,d,p,h=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=l,r=u;return l=u=void 0,h=t,f=e.apply(r,n)}function _(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-h>=c}function b(){var e=i();if(_(e))return w(e);d=setTimeout(b,function(e){var n=t-(e-p);return v?a(n,c-(e-h)):n}(e))}function w(e){return d=void 0,y&&l?m(e):(l=u=void 0,f)}function O(){var e=i(),n=_(e);if(l=arguments,u=this,p=e,n){if(void 0===d)return function(e){return h=e,d=setTimeout(b,t),g?m(e):f}(p);if(v)return clearTimeout(d),d=setTimeout(b,t),m(p)}return void 0===d&&(d=setTimeout(b,t)),f}return t=o(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?s(o(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),O.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=p=u=d=void 0},O.flush=function(){return void 0===d?f:w(i())},O}},93224:(e,t,n)=>{var r=n(42785);e.exports=function(){return r.Date.now()}},34034:(e,t,n)=>{n(16280),n(76918);var r=n(59209),i=n(67873);e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}},43146:(e,t,n)=>{n(34782),n(58940),n(27495),n(90906);var r=n(35252),i=n(67873),o=n(78766),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}},21397:(e,t,n)=>{var r=n(29119),i=/[\/\+\.]/;e.exports=function(e,t){function n(t){var n=r(t,e,i);return n&&n.length>=2}return t?n(t.split(";")[0]):n}},70647:(e,t,n)=>{n(28706),n(25276),n(44114),n(79432),e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,n,r,i,o,s,a){var l=function(e){var n=t[e]?t[e]:[],r=e.indexOf(":"),i=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],o=Object.keys(t),s=0,a=o.length;for(;s<a;s++){var l=o[s];if("*"===l&&(n=n.concat(t[l])),2===i.length&&i[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){var r=0,i=t.length;for(;r<i&&t[r];r++)t[r].event=e,t[r].apply(t[r],n)}(e,l,[n,r,i,o,s,a])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,(function r(){n.apply(this,arguments),e.off(t,r)}))},e.off=function(e,t){var n=[];if(e&&t)for(var r=this._fns[e],i=0,o=r?r.length:0;i<o;i++)r[i]!==t&&n.push(r[i]);n.length?this._fns[e]=n:delete this._fns[e]},e}},36480:(e,t,n)=>{"use strict";n.d(t,{FK:()=>O,Ob:()=>W,XX:()=>q,_3:()=>w,fF:()=>i,h:()=>_,uA:()=>S,v2:()=>U});n(51629),n(25276),n(64346),n(44114),n(34782),n(15086),n(26910),n(54554),n(94170),n(62010),n(26099),n(3362),n(27495),n(90906),n(25440),n(48718),n(23500),n(76031);var r,i,o,s,a,l,u,c,f,d,p={},h=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function y(e,t){for(var n in t)e[n]=t[n];return e}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,n){var i,o,s,a={};for(s in t)"key"==s?i=t[s]:"ref"==s?o=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return b(e,a,i,o,null)}function b(e,t,n,r,s){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==s?++o:s,__i:-1,__u:0};return null==s&&null!=i.vnode&&i.vnode(a),a}function w(){return{current:null}}function O(e){return e.children}function S(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function A(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return A(e)}}function P(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!F.__r++||a!==i.debounceRendering)&&((a=i.debounceRendering)||l)(F)}function F(){var e,t,n,r,o,a,l,c;for(s.sort(u);e=s.shift();)e.__d&&(t=s.length,r=void 0,a=(o=(n=e).__v).__e,l=[],c=[],n.__P&&((r=y({},o)).__v=o.__v+1,i.vnode&&i.vnode(r),N(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[a]:null,l,null==a?k(o):a,!!(32&o.__u),c),r.__v=o.__v,r.__.__k[r.__i]=r,R(l,r,c),r.__e!=a&&A(r)),s.length>t&&s.sort(u));F.__r=0}function x(e,t,n,r,i,o,s,a,l,u,c){var f,d,g,v,y,m=r&&r.__k||h,_=t.length;for(n.__d=l,j(n,t,m),l=n.__d,f=0;f<_;f++)null!=(g=n.__k[f])&&"boolean"!=typeof g&&"function"!=typeof g&&(d=-1===g.__i?p:m[g.__i]||p,g.__i=f,N(e,g,d,i,o,s,a,l,u,c),v=g.__e,g.ref&&d.ref!=g.ref&&(d.ref&&z(d.ref,null,g),c.push(g.ref,g.__c||v,g)),null==y&&null!=v&&(y=v),65536&g.__u||d.__k===g.__k?l=E(g,l,e):"function"==typeof g.type&&void 0!==g.__d?l=g.__d:v&&(l=v.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=l,n.__e=y}function j(e,t,n){var r,i,o,s,a,l=t.length,u=n.length,c=u,f=0;for(e.__k=[],r=0;r<l;r++)s=r+f,null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?b(null,i,null,null,null):v(i)?b(O,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?b(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,a=T(i,n,s,c),i.__i=a,o=null,-1!==a&&(c--,(o=n[a])&&(o.__u|=131072)),null==o||null===o.__v?(-1==a&&f--,"function"!=typeof i.type&&(i.__u|=65536)):a!==s&&(a==s-1?f=a-s:a==s+1?f++:a>s?c>l-s?f+=a-s:f--:a<s&&f++,a!==r+f&&(i.__u|=65536))):(o=n[s])&&null==o.key&&o.__e&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=k(o)),L(o,o,!1),n[s]=null,c--);if(c)for(r=0;r<u;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=k(o)),L(o,o))}function E(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=E(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=k(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function U(e,t){return t=t||[],null==e||"boolean"==typeof e||(v(e)?e.some((function(e){U(e,t)})):t.push(e)),t}function T(e,t,n,r){var i=e.key,o=e.type,s=n-1,a=n+1,l=t[n];if(null===l||l&&i==l.key&&o===l.type&&!(131072&l.__u))return n;if(r>(null==l||131072&l.__u?0:1))for(;s>=0||a<t.length;){if(s>=0){if((l=t[s])&&!(131072&l.__u)&&i==l.key&&o===l.type)return s;s--}if(a<t.length){if((l=t[a])&&!(131072&l.__u)&&i==l.key&&o===l.type)return a;a++}}return-1}function M(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||g.test(t)?n:n+"px"}function I(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||M(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||M(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=c,e.addEventListener(t,o?d:f,o)):e.removeEventListener(t,o?d:f,o);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function C(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=c++;else if(t.t<n.u)return;return n(i.event?i.event(t):t)}}}function N(e,t,n,r,o,s,a,l,u,c){var f,d,p,h,g,m,_,b,w,k,A,P,F,j,E,U,T=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(u=!!(32&n.__u),s=[l=t.__e=n.__e]),(f=i.__b)&&f(t);e:if("function"==typeof T)try{if(b=t.props,w="prototype"in T&&T.prototype.render,k=(f=T.contextType)&&r[f.__c],A=f?k?k.props.value:f.__:r,n.__c?_=(d=t.__c=n.__c).__=d.__E:(w?t.__c=d=new T(b,A):(t.__c=d=new S(b,A),d.constructor=T,d.render=B),k&&k.sub(d),d.props=b,d.state||(d.state={}),d.context=A,d.__n=r,p=d.__d=!0,d.__h=[],d._sb=[]),w&&null==d.__s&&(d.__s=d.state),w&&null!=T.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=y({},d.__s)),y(d.__s,T.getDerivedStateFromProps(b,d.__s))),h=d.props,g=d.state,d.__v=t,p)w&&null==T.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),w&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(w&&null==T.getDerivedStateFromProps&&b!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,A),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,A)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=b,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),P=0;P<d._sb.length;P++)d.__h.push(d._sb[P]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,A),w&&null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,g,m)}))}if(d.context=A,d.props=b,d.__P=e,d.__e=!1,F=i.__r,j=0,w){for(d.state=d.__s,d.__d=!1,F&&F(t),f=d.render(d.props,d.state,d.context),E=0;E<d._sb.length;E++)d.__h.push(d._sb[E]);d._sb=[]}else do{d.__d=!1,F&&F(t),f=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++j<25);d.state=d.__s,null!=d.getChildContext&&(r=y(y({},r),d.getChildContext())),w&&!p&&null!=d.getSnapshotBeforeUpdate&&(m=d.getSnapshotBeforeUpdate(h,g)),x(e,v(U=null!=f&&f.type===O&&null==f.key?f.props.children:f)?U:[U],t,n,r,o,s,a,l,u,c),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),_&&(d.__E=d.__=null)}catch(e){if(t.__v=null,u||null!=s){for(t.__u|=u?160:32;l&&8===l.nodeType&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,t.__e=l}else t.__e=n.__e,t.__k=n.__k;i.__e(e,t,n)}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=D(n.__e,t,n,r,o,s,a,u,c);(f=i.diffed)&&f(t)}function R(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)z(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function D(e,t,n,i,o,s,a,l,u){var c,f,d,h,g,y,_,b=n.props,w=t.props,O=t.type;if("svg"===O?o="http://www.w3.org/2000/svg":"math"===O?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=s)for(c=0;c<s.length;c++)if((g=s[c])&&"setAttribute"in g==!!O&&(O?g.localName===O:3===g.nodeType)){e=g,s[c]=null;break}if(null==e){if(null===O)return document.createTextNode(w);e=document.createElementNS(o,O,w.is&&w),s=null,l=!1}if(null===O)b===w||l&&e.data===w||(e.data=w);else{if(s=s&&r.call(e.childNodes),b=n.props||p,!l&&null!=s)for(b={},c=0;c<e.attributes.length;c++)b[(g=e.attributes[c]).name]=g.value;for(c in b)if(g=b[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=g;else if("key"!==c&&!(c in w)){if("value"==c&&"defaultValue"in w||"checked"==c&&"defaultChecked"in w)continue;I(e,c,null,g,o)}for(c in w)g=w[c],"children"==c?h=g:"dangerouslySetInnerHTML"==c?f=g:"value"==c?y=g:"checked"==c?_=g:"key"===c||l&&"function"!=typeof g||b[c]===g||I(e,c,g,b[c],o);if(f)l||d&&(f.__html===d.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(d&&(e.innerHTML=""),x(e,v(h)?h:[h],t,n,i,"foreignObject"===O?"http://www.w3.org/1999/xhtml":o,s,a,s?s[0]:n.__k&&k(n,0),l,u),null!=s)for(c=s.length;c--;)null!=s[c]&&m(s[c]);l||(c="value",void 0!==y&&(y!==e[c]||"progress"===O&&!y||"option"===O&&y!==b[c])&&I(e,c,y,b[c],o),c="checked",void 0!==_&&_!==e[c]&&I(e,c,_,b[c],o))}return e}function z(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,n)}}function L(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||z(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&L(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||m(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function B(e,t,n){return this.constructor(e,n)}function q(e,t,n){var o,s,a,l;i.__&&i.__(e,t),s=(o="function"==typeof n)?null:n&&n.__k||t.__k,a=[],l=[],N(t,e=(!o&&n||t).__k=_(O,null,[e]),s||p,p,t.namespaceURI,!o&&n?[n]:s?null:t.firstChild?r.call(t.childNodes):null,a,!o&&n?n:s?s.__e:t.firstChild,o,l),R(a,e,l)}function W(e,t,n){var i,o,s,a,l=y({},e.props);for(s in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==s?i=t[s]:"ref"==s?o=t[s]:l[s]=void 0===t[s]&&void 0!==a?a[s]:t[s];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),b(e.type,l,i||e.key,o||e.ref,null)}r=h.slice,i={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},o=0,S.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof e&&(e=e(y({},n),this.props)),e&&y(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),P(this))},S.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),P(this))},S.prototype.render=O,s=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},F.__r=0,c=0,f=C(!1),d=C(!0)},29119:(e,t,n)=>{"use strict";var r=n(89990);function i(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}n(25276),n(54554),n(27495),n(71761),n(90744),i.prototype.match=function(e){var t,n,i=!0,o=this.parts,s=o.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;i&&t<s;t++)"*"!==o[t]&&(i=t<n.length&&o[t]===n[t]);i=i&&n}else i=!1;else if("function"==typeof e.splice)for(i=[],t=e.length;t--;)this.match(e[t])&&(i[i.length]=e[t]);else if("object"==r(e))for(var a in i={},e)this.match(a)&&(i[a]=e[a]);return i},e.exports=function(e,t,n){var r=new i(e,n||/[\/\.]/);return void 0!==t?r.match(t):r}},4294:(e,t,n)=>{"use strict";var r=n(46518),i=n(97751),o=n(18745),s=n(79039),a=n(14601),l="AggregateError",u=i(l),c=!s((function(){return 1!==u([1]).errors[0]}))&&s((function(){return 7!==u([1],l,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:c},{AggregateError:a(l,(function(e){return function(t,n){return o(e,this,arguments)}}),c,!0)})},17145:(e,t,n)=>{"use strict";var r=n(46518),i=n(1625),o=n(42787),s=n(52967),a=n(77740),l=n(2360),u=n(66699),c=n(6980),f=n(77584),d=n(80747),p=n(72652),h=n(32603),g=n(78227)("toStringTag"),v=Error,y=[].push,m=function(e,t){var n,r=i(_,this);s?n=s(new v,r?o(this):_):(n=r?this:l(_),u(n,g,"Error")),void 0!==t&&u(n,"message",h(t)),d(n,m,n.stack,1),arguments.length>2&&f(n,arguments[2]);var a=[];return p(e,y,{that:a}),u(n,"errors",a),n};s?s(m,v):a(m,v,{name:!0});var _=m.prototype=l(v.prototype,{constructor:c(1,m),message:c(1,""),name:c(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:m})},30067:(e,t,n)=>{"use strict";n(17145)},78350:(e,t,n)=>{"use strict";var r=n(46518),i=n(70259),o=n(79306),s=n(48981),a=n(26198),l=n(1469);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=s(this),r=a(n);return o(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},30237:(e,t,n)=>{"use strict";n(6469)("flatMap")},78347:(e,t,n)=>{"use strict";n(46518)({target:"Object",stat:!0},{hasOwn:n(39297)})},83237:(e,t,n)=>{"use strict";n(70511)("replace")},31073:(e,t,n)=>{"use strict";n(70511)("split")},32744:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(23500);var r=n(51531),i=n(58237),o=n(84285),s=(n(16280),n(76918),n(94170),n(13656));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){return(0,o.A)((function e(t,n){(0,i.A)(this,e),this.uppy=t,this.opts=null!=n?n:{}}),[{key:"getPluginState",value:function(){var e=this.uppy.getState().plugins;return(null==e?void 0:e[this.id])||{}}},{key:"setPluginState",value:function(e){if(e){var t=this.uppy.getState().plugins;this.uppy.setState({plugins:l(l({},t),{},(0,r.A)({},this.id,l(l({},t[this.id]),e)))})}}},{key:"setOptions",value:function(e){this.opts=l(l({},this.opts),e),this.setPluginState(void 0),this.i18nInit()}},{key:"i18nInit",value:function(){var e=new s.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}},{key:"addTarget",value:function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"update",value:function(e){}},{key:"afterUpdate",value:function(){}}])}()},73848:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(58237),i=n(84285),o=n(68119),s=n(36858),a=n(31061),l=n(46983),u=(n(16280),n(76918),n(28706),n(84185),n(26099),n(3362),n(60825),n(36480)),c=n(10826);const f=function(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):(0,c.A)(e)?e:null};var d=n(36118),p=n(32744);function h(e,t,n){return t=(0,s.A)(t),(0,o.A)(e,g()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function v(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var y=0;function m(e){return"__private_"+y+++"_"+e}var _=m("updateUI");const b=function(e){function t(){var e;return(0,r.A)(this,t),e=h(this,t,arguments),Object.defineProperty(e,_,{writable:!0,value:void 0}),e}return(0,a.A)(t,e),(0,i.A)(t,[{key:"getTargetPlugin",value:function(e){var n;if("function"==typeof(null==e?void 0:e.addTarget))(n=e)instanceof t||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:t}}));else if("function"==typeof e){var r=e;this.uppy.iteratePlugins((function(e){e instanceof r&&(n=e)}))}return n}},{key:"mount",value:function(e,t){var n,r,i,o=this,s=t.id,a=f(e);if(a){this.isTargetDOMEl=!0;var c=document.createElement("div");return c.classList.add("uppy-Root"),v(this,_)[_]=(n=function(e){o.uppy.getPlugin(o.id)&&((0,u.XX)(o.render(e),c),o.afterUpdate())},i=null,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r=t,i||(i=Promise.resolve().then((function(){return i=null,n.apply(void 0,(0,l.A)(r))}))),i}),this.uppy.log("Installing ".concat(s," to a DOM element '").concat(e,"'")),this.opts.replaceTargetContent&&(a.innerHTML=""),(0,u.XX)(this.render(this.uppy.getState()),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||(0,d.A)(c)||"ltr",this.onMount(),this.el}var p=this.getTargetPlugin(e);if(p)return this.uppy.log("Installing ".concat(s," to ").concat(p.id)),this.parent=p,this.el=p.addTarget(t),this.onMount(),this.el;this.uppy.log("Not installing ".concat(s));var h="Invalid target option given to ".concat(s,".");throw h+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(h)}},{key:"render",value:function(e){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(e){var t,n;null!=this.el&&(null==(t=(n=v(this,_))[_])||t.call(n,e))}},{key:"unmount",value:function(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}])}(p.A)},78655:(e,t,n)=>{"use strict";n.d(t,{A:()=>Me});var r=n(18443),i=n(46983),o=n(18180),s=n(80241),a=n(51531),l=n(58237),u=n(84285),c=n(61792),f=(n(16280),n(52675),n(89463),n(2259),n(76918),n(30067),n(4294),n(28706),n(2008),n(50113),n(48980),n(46449),n(78350),n(51629),n(23418),n(25276),n(64346),n(23792),n(48598),n(62062),n(44114),n(72712),n(34782),n(15086),n(54554),n(93514),n(30237),n(59089),n(23288),n(94170),n(62010),n(36033),n(25428),n(59904),n(67945),n(84185),n(5506),n(53921),n(78347),n(79432),n(83851),n(81278),n(26099),n(16034),n(3362),n(27495),n(90906),n(38781),n(31415),n(47764),n(42762),n(23500),n(62953),n(76031),n(13656)),d=n(70647),p=n(51391),h=n(34034);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var m=0;function _(e){return"__private_"+m+++"_"+e}var b=_("callbacks"),w=_("publish"),O=function(){return(0,u.A)((function e(){(0,l.A)(this,e),Object.defineProperty(this,w,{value:S}),this.state={},Object.defineProperty(this,b,{writable:!0,value:new Set})}),[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){var t=v({},this.state),n=v(v({},this.state),e);this.state=n,y(this,w)[w](t,n,e)}},{key:"subscribe",value:function(e){var t=this;return y(this,b)[b].add(e),function(){y(t,b)[b].delete(e)}}}])}();function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];y(this,b)[b].forEach((function(e){e.apply(void 0,t)}))}O.VERSION="3.2.2";const k=O;var A=n(51494),P=n(77943),F=n(21214);n(58940);function x(e){if(null==e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split(".",2),r=parseInt(n[0],10),i=parseInt(n[1],10);return r<15||15===r&&i<15063||(r>18||18===r&&i>=18218)}var j=n(77001),E=(n(60825),n(68119)),U=n(36858),T=n(31061),M=n(81700),I=(n(74423),n(21699),n(25440),n(78029)),C=n(21397);function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return R(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n){return t=(0,U.A)(t),(0,E.A)(e,z()?Reflect.construct(t,n||[],(0,U.A)(e).constructor):t.apply(e,n))}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z=function(){return!!e})()}var L={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},B=function(e){function t(e,n){var r,i;return(0,l.A)(this,t),(r=D(this,t,[e])).isRestriction=!0,r.isUserFacing=null==(i=null==n?void 0:n.isUserFacing)||i,null!=n&&n.file&&(r.file=n.file),r}return(0,T.A)(t,e),(0,u.A)(t)}((0,M.A)(Error)),q=function(){return(0,u.A)((function e(t,n){(0,l.A)(this,e),this.i18n=n,this.getOpts=function(){var e,n=t();if(null!=(null==(e=n.restrictions)?void 0:e.allowedFileTypes)&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}),[{key:"validateAggregateRestrictions",value:function(e,t){var n=this.getOpts().restrictions,r=n.maxTotalFileSize,i=n.maxNumberOfFiles;if(i&&e.filter((function(e){return!e.isGhost})).length+t.length>i)throw new B("".concat(this.i18n("youCanOnlyUploadX",{smart_count:i})));if(r){var o,s=e.reduce((function(e,t){var n;return e+(null!=(n=t.size)?n:0)}),0),a=N(t);try{for(a.s();!(o=a.n()).done;){var l=o.value;if(null!=l.size&&(s+=l.size)>r)throw new B(this.i18n("exceedsSize",{size:I(r),file:l.name}))}}catch(u){a.e(u)}finally{a.f()}}}},{key:"validateSingleFile",value:function(e){var t=this.getOpts().restrictions,n=t.maxFileSize,r=t.minFileSize,i=t.allowedFileTypes;if(i&&!i.some((function(t){return t.includes("/")?!!e.type&&C(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase()}))){var o=i.join(", ");throw new B(this.i18n("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(n&&null!=e.size&&e.size>n)throw new B(this.i18n("exceedsSize",{size:I(n),file:e.name}),{file:e});if(r&&null!=e.size&&e.size<r)throw new B(this.i18n("inferiorSize",{size:I(r)}),{file:e})}},{key:"validate",value:function(e,t){var n=this;t.forEach((function(e){n.validateSingleFile(e)})),this.validateAggregateRestrictions(e,t)}},{key:"validateMinNumberOfFiles",value:function(e){var t=this.getOpts().restrictions.minNumberOfFiles;if(t&&Object.keys(e).length<t)throw new B(this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))}},{key:"getMissingRequiredMetaFields",value:function(e){var t,n=new B(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),r=[],i=N(this.getOpts().restrictions.requiredMetaFields);try{for(i.s();!(t=i.n()).done;){var o=t.value;Object.hasOwn(e.meta,o)&&""!==e.meta[o]||r.push(o)}}catch(s){i.e(s)}finally{i.f()}return{missingFields:r,error:n}}}])}();const W={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};function $(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var V=0;function K(e){return"__private_"+V+++"_"+e}var Z={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},J=K("plugins"),Q=K("restricter"),ee=K("storeUnsubscribe"),te=K("emitter"),ne=K("preProcessors"),re=K("uploaders"),ie=K("postProcessors"),oe=K("informAndEmit"),se=K("checkRequiredMetaFieldsOnFile"),ae=K("checkRequiredMetaFields"),le=K("assertNewUploadAllowed"),ue=K("transformFile"),ce=K("startIfAutoProceed"),fe=K("checkAndUpdateFileState"),de=K("addListeners"),pe=K("updateOnlineStatus"),he=K("requestClientById"),ge=K("createUpload"),ve=K("getUpload"),ye=K("removeUpload"),me=K("runUpload"),_e=function(e,t){return(0,u.A)((function e(t){var n=this;(0,l.A)(this,e),Object.defineProperty(this,me,{value:Ue}),Object.defineProperty(this,ye,{value:Ee}),Object.defineProperty(this,ve,{value:je}),Object.defineProperty(this,ge,{value:xe}),Object.defineProperty(this,de,{value:Fe}),Object.defineProperty(this,fe,{value:Pe}),Object.defineProperty(this,ce,{value:Ae}),Object.defineProperty(this,ue,{value:ke}),Object.defineProperty(this,le,{value:Se}),Object.defineProperty(this,ae,{value:Oe}),Object.defineProperty(this,se,{value:we}),Object.defineProperty(this,oe,{value:be}),Object.defineProperty(this,J,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:void 0}),Object.defineProperty(this,te,{writable:!0,value:d()}),Object.defineProperty(this,ne,{writable:!0,value:new Set}),Object.defineProperty(this,re,{writable:!0,value:new Set}),Object.defineProperty(this,ie,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=h((function(e,t){var r=n.getFile(null==e?void 0:e.id);if(null!=e&&r)if(100!==r.progress.percentage){var i=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;n.setFileState(e.id,{progress:G(G({},r.progress),{},{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:i?Math.round(t.bytesUploaded/t.bytesTotal*100):0})}),n.calculateTotalProgress()}else n.log("Not setting progress for a file that has been already uploaded: ".concat(e.id));else n.log("Not setting progress for a file that has been removed: ".concat(null==e?void 0:e.id))}),500,{leading:!0,trailing:!0}),Object.defineProperty(this,pe,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,he,{writable:!0,value:new Map}),this.defaultLocale=W;var r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:L,meta:{},onBeforeFileAdded:function(e,t){return!Object.hasOwn(t,e.id)},onBeforeUpload:function(e){return e},store:new k,logger:j.I,infoTimeout:5e3},i=G(G({},r),t);this.opts=G(G({},i),{},{restrictions:G(G({},r.restrictions),t&&t.restrictions)}),t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=j.w),this.log("Using Core v".concat(e.VERSION)),this.i18nInit(),this.store=this.opts.store,this.setState(G(G({},Z),{},{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:x(),individualCancellation:!0,resumableUploads:!1},meta:G({},this.opts.meta),info:[]})),Y(this,Q)[Q]=new q((function(){return n.opts}),this.i18n),Y(this,ee)[ee]=this.store.subscribe((function(e,t,r){n.emit("state-update",e,t,r),n.updateAll(t)})),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),Y(this,de)[de]()}),[{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=Y(this,te)[te]).emit.apply(t,[e].concat(r))}},{key:"on",value:function(e,t){return Y(this,te)[te].on(e,t),this}},{key:"once",value:function(e,t){return Y(this,te)[te].once(e,t),this}},{key:"off",value:function(e,t){return Y(this,te)[te].off(e,t),this}},{key:"updateAll",value:function(e){this.iteratePlugins((function(t){t.update(e)}))}},{key:"setState",value:function(e){this.store.setState(e)}},{key:"getState",value:function(){return this.store.getState()}},{key:"patchFilesState",value:function(e){var t=this.getState().files;this.setState({files:G(G({},t),Object.fromEntries(Object.entries(e).map((function(e){var n=(0,s.A)(e,2),r=n[0],i=n[1];return[r,G(G({},t[r]),i)]}))))})}},{key:"setFileState",value:function(e,t){if(!this.getState().files[e])throw new Error("Canâ€™t set state for ".concat(e," (the file could have been removed)"));this.patchFilesState((0,a.A)({},e,t))}},{key:"i18nInit",value:function(){var e=this,t=new f.A([this.defaultLocale,this.opts.locale],{onMissingKey:function(t){return e.log("Missing i18n string: ".concat(t),"error")}});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}},{key:"setOptions",value:function(e){this.opts=G(G(G({},this.opts),e),{},{restrictions:G(G({},this.opts.restrictions),null==e?void 0:e.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((function(t){t.setOptions(e)})),this.setState(void 0)}},{key:"resetProgress",value:function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t=G({},this.getState().files),n={};Object.keys(t).forEach((function(r){n[r]=G(G({},t[r]),{},{progress:G(G({},t[r].progress),e)})})),this.setState(G({files:n},Z)),this.emit("reset-progress")}},{key:"clearUploadedFiles",value:function(){this.setState(G(G({},Z),{},{files:{}}))}},{key:"addPreProcessor",value:function(e){Y(this,ne)[ne].add(e)}},{key:"removePreProcessor",value:function(e){return Y(this,ne)[ne].delete(e)}},{key:"addPostProcessor",value:function(e){Y(this,ie)[ie].add(e)}},{key:"removePostProcessor",value:function(e){return Y(this,ie)[ie].delete(e)}},{key:"addUploader",value:function(e){Y(this,re)[re].add(e)}},{key:"removeUploader",value:function(e){return Y(this,re)[re].delete(e)}},{key:"setMeta",value:function(e){var t=G(G({},this.getState().meta),e),n=G({},this.getState().files);Object.keys(n).forEach((function(t){n[t]=G(G({},n[t]),{},{meta:G(G({},n[t].meta),e)})})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})}},{key:"setFileMeta",value:function(e,t){var n=G({},this.getState().files);if(n[e]){var r=G(G({},n[e].meta),t);n[e]=G(G({},n[e]),{},{meta:r}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that has been removed: ",e)}},{key:"getFile",value:function(e){return this.getState().files[e]}},{key:"getFiles",value:function(){var e=this.getState().files;return Object.values(e)}},{key:"getFilesByIds",value:function(e){var t=this;return e.map((function(e){return t.getFile(e)}))}},{key:"getObjectOfFilesPerState",value:function(){var e=this.getState(),t=e.files,n=e.totalProgress,r=e.error,i=Object.values(t),o=i.filter((function(e){var t=e.progress;return!t.uploadComplete&&t.uploadStarted})),s=i.filter((function(e){return!e.progress.uploadStarted})),a=i.filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess})),l=i.filter((function(e){return e.progress.uploadStarted})),u=i.filter((function(e){return e.isPaused})),c=i.filter((function(e){return e.progress.uploadComplete})),f=i.filter((function(e){return e.error})),d=o.filter((function(e){return!e.isPaused})),p=i.filter((function(e){return e.progress.preprocess||e.progress.postprocess}));return{newFiles:s,startedFiles:a,uploadStartedFiles:l,pausedFiles:u,completeFiles:c,erroredFiles:f,inProgressFiles:o,inProgressNotPausedFiles:d,processingFiles:p,isUploadStarted:l.length>0,isAllComplete:100===n&&c.length===i.length&&0===p.length,isAllErrored:!!r&&f.length===i.length,isAllPaused:0!==o.length&&u.length===o.length,isUploadInProgress:o.length>0,isSomeGhost:i.some((function(e){return e.isGhost}))}}},{key:"validateRestrictions",value:function(e,t){void 0===t&&(t=this.getFiles());try{Y(this,Q)[Q].validate(t,[e])}catch(n){return n}return null}},{key:"checkIfFileAlreadyExists",value:function(e){var t=this.getState().files;return!(!t[e]||t[e].isGhost)}},{key:"addFile",value:function(e){Y(this,le)[le](e);var t=Y(this,fe)[fe]([e]),n=t.nextFilesState,r=t.validFilesToAdd,i=t.errors,o=i.filter((function(e){return e.isRestriction}));if(Y(this,oe)[oe](o),i.length>0)throw i[0];this.setState({files:n});var a=(0,s.A)(r,1)[0];return this.emit("file-added",a),this.emit("files-added",r),this.log("Added file: ".concat(a.name,", ").concat(a.id,", mime type: ").concat(a.type)),Y(this,ce)[ce](),a.id}},{key:"addFiles",value:function(e){var t=this;Y(this,le)[le]();var n=Y(this,fe)[fe](e),r=n.nextFilesState,i=n.validFilesToAdd,o=n.errors,s=o.filter((function(e){return e.isRestriction}));Y(this,oe)[oe](s);var a=o.filter((function(e){return!e.isRestriction}));if(a.length>0){var l="Multiple errors occurred while adding files:\n";if(a.forEach((function(e){l+="\n * ".concat(e.message)})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:a.length}),details:l},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(a,l);var u=new Error(l);throw u.errors=a,u}this.setState({files:r}),i.forEach((function(e){t.emit("file-added",e)})),this.emit("files-added",i),i.length>5?this.log("Added batch of ".concat(i.length," files")):Object.values(i).forEach((function(e){t.log("Added file: ".concat(e.name,"\n id: ").concat(e.id,"\n type: ").concat(e.type))})),i.length>0&&Y(this,ce)[ce]()}},{key:"removeFiles",value:function(e,t){var n=this,r=this.getState(),i=r.files,o=r.currentUploads,s=G({},i),a=G({},o),l=Object.create(null);function u(e){return void 0===l[e]}e.forEach((function(e){i[e]&&(l[e]=i[e],delete s[e])})),Object.keys(a).forEach((function(e){var t=o[e].fileIDs.filter(u);if(0!==t.length){var r=n.getState().capabilities;if(t.length!==o[e].fileIDs.length&&!r.individualCancellation)throw new Error("individualCancellation is disabled");a[e]=G(G({},o[e]),{},{fileIDs:t})}else delete a[e]}));var c={currentUploads:a,files:s};0===Object.keys(s).length&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),this.calculateTotalProgress();var f=Object.keys(l);f.forEach((function(e){n.emit("file-removed",l[e],t)})),f.length>5?this.log("Removed ".concat(f.length," files")):this.log("Removed files: ".concat(f.join(", ")))}},{key:"removeFile",value:function(e,t){this.removeFiles([e],t)}},{key:"pauseResume",value:function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).progress.uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}}},{key:"pauseAll",value:function(){var e=G({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=G(G({},e[t]),{},{isPaused:!0});e[t]=n})),this.setState({files:e}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var e=G({},this.getState().files);Object.keys(e).filter((function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted})).forEach((function(t){var n=G(G({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e}),this.emit("resume-all")}},{key:"retryAll",value:function(){var e=G({},this.getState().files),t=Object.keys(e).filter((function(t){return e[t].error}));if(t.forEach((function(t){var n=G(G({},e[t]),{},{isPaused:!1,error:null});e[t]=n})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});var n=Y(this,ge)[ge](t,{forceAllowNewUpload:!0});return Y(this,me)[me](n)}},{key:"cancelAll",value:function(e){var t=(void 0===e?{}:e).reason,n=void 0===t?"user":t;if(this.emit("cancel-all",{reason:n}),"user"===n){var r=this.getState().files,i=Object.keys(r);i.length&&this.removeFiles(i,"cancel-all"),this.setState(Z)}}},{key:"retryUpload",value:function(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);var t=Y(this,ge)[ge]([e],{forceAllowNewUpload:!0});return Y(this,me)[me](t)}},{key:"logout",value:function(){this.iteratePlugins((function(e){var t;null==(t=e.provider)||null==t.logout||t.logout()}))}},{key:"calculateTotalProgress",value:function(){var e=this.getFiles().filter((function(e){return e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess}));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter((function(e){return null!=e.progress.bytesTotal})),n=e.filter((function(e){return null==e.progress.bytesTotal}));if(0!==t.length){var r=t.reduce((function(e,t){var n;return e+(null!=(n=t.progress.bytesTotal)?n:0)}),0),i=r/t.length;r+=i*n.length;var o=0;t.forEach((function(e){o+=e.progress.bytesUploaded})),n.forEach((function(e){o+=i*(e.progress.percentage||0)/100}));var s=0===r?0:Math.round(o/r*100);s>100&&(s=100),this.setState({totalProgress:s}),this.emit("progress",s)}else{var a=100*e.length,l=n.reduce((function(e,t){return e+t.progress.percentage}),0),u=Math.round(l/a*100);this.setState({totalProgress:u})}}},{key:"updateOnlineStatus",value:function(){var e;null==(e=window.navigator.onLine)||e?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(e,t){if("function"!=typeof e){var n="Expected a plugin class, but got ".concat(null===e?"null":(0,o.A)(e),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var r=new e(this,t),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");var s=this.getPlugin(i);if(s){var a="Already found a plugin named '".concat(s.id,"'. ")+"Tried to use: '".concat(i,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(a)}return e.VERSION&&this.log("Using ".concat(i," v").concat(e.VERSION)),r.type in Y(this,J)[J]?Y(this,J)[J][r.type].push(r):Y(this,J)[J][r.type]=[r],r.install(),this.emit("plugin-added",r),this}},{key:"getPlugin",value:function(e){for(var t=0,n=Object.values(Y(this,J)[J]);t<n.length;t++){var r=n[t].find((function(t){return t.id===e}));if(null!=r)return r}}},{key:e,value:function(e){return Y(this,J)[J][e]}},{key:"iteratePlugins",value:function(e){Object.values(Y(this,J)[J]).flat(1).forEach(e)}},{key:"removePlugin",value:function(e){this.log("Removing plugin ".concat(e.id)),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=Y(this,J)[J][e.type],n=t.findIndex((function(t){return t.id===e.id}));-1!==n&&t.splice(n,1);var r={plugins:G(G({},this.getState().plugins),{},(0,a.A)({},e.id,void 0))};this.setState(r)}},{key:"close",value:function(e){var t=this,n=(void 0===e?{}:e).reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:n}),Y(this,ee)[ee](),this.iteratePlugins((function(e){t.removePlugin(e)})),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",Y(this,pe)[pe]),window.removeEventListener("offline",Y(this,pe)[pe]))}},{key:"hideInfo",value:function(){var e=this.getState().info;this.setState({info:e.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(e,t,n){var r=this;void 0===t&&(t="info"),void 0===n&&(n=3e3);var s="object"===(0,o.A)(e);this.setState({info:[].concat((0,i.A)(this.getState().info),[{type:t,message:s?e.message:e,details:s?e.details:null}])}),setTimeout((function(){return r.hideInfo()}),n),this.emit("info-visible")}},{key:"log",value:function(e,t){var n=this.opts.logger;switch(t){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e)}}},{key:"registerRequestClient",value:function(e,t){Y(this,he)[he].set(e,t)}},{key:"getRequestClientForFile",value:function(e){if(!e.remote)throw new Error("Tried to get RequestClient for a non-remote file ".concat(e.id));var t=Y(this,he)[he].get(e.remote.requestClientId);if(null==t)throw new Error('requestClientId "'.concat(e.remote.requestClientId,'" not registered for file "').concat(e.id,'"'));return t}},{key:"restore",value:function(e){return this.log('Core: attempting to restore upload "'.concat(e,'"')),this.getState().currentUploads[e]?Y(this,me)[me](e):(Y(this,ye)[ye](e),Promise.reject(new Error("Nonexistent upload")))}},{key:t,value:function(){var e;return(e=Y(this,ge))[ge].apply(e,arguments)}},{key:"addResultData",value:function(e,t){if(Y(this,ve)[ve](e)){var n=this.getState().currentUploads,r=G(G({},n[e]),{},{result:G(G({},n[e].result),t)});this.setState({currentUploads:G(G({},n),{},(0,a.A)({},e,r))})}else this.log("Not setting result for an upload that has been removed: ".concat(e))}},{key:"upload",value:function(){var e,t=this;null!=(e=Y(this,J)[J].uploader)&&e.length||this.log("No uploader type plugins are used","warning");var n=this.getState().files,r=this.opts.onBeforeUpload(n);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"===(0,o.A)(r)&&(n=r,this.setState({files:n})),Promise.resolve().then((function(){return Y(t,Q)[Q].validateMinNumberOfFiles(n)})).catch((function(e){throw Y(t,oe)[oe]([e]),e})).then((function(){if(!Y(t,ae)[ae](n))throw new B(t.i18n("missingRequiredMetaField"))})).catch((function(e){throw e})).then((function(){var e=t.getState().currentUploads,r=Object.values(e).flatMap((function(e){return e.fileIDs})),i=[];Object.keys(n).forEach((function(e){var n=t.getFile(e);n.progress.uploadStarted||-1!==r.indexOf(e)||i.push(n.id)}));var o=Y(t,ge)[ge](i);return Y(t,me)[me](o)})).catch((function(e){throw t.emit("error",e),t.log(e,"error"),e})))}}])}(Symbol.for("uppy test: getPlugins"),Symbol.for("uppy test: createUpload"));function be(e){var t,n=this,r=$(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isRestriction?this.emit("restriction-failed",i.file,i):this.emit("error",i,i.file),this.log(i,"warning")}}catch(l){r.e(l)}finally{r.f()}var o=e.filter((function(e){return e.isUserFacing})),s=o.slice(0,4),a=o.slice(4);s.forEach((function(e){var t=e.message,r=e.details,i=void 0===r?"":r;n.info({message:t,details:i},"error",n.opts.infoTimeout)})),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})}function we(e){var t=Y(this,Q)[Q].getMissingRequiredMetaFields(e),n=t.missingFields,r=t.error;return!(n.length>0)||(this.setFileState(e.id,{missingRequiredMetaFields:n}),this.log(r.message),this.emit("restriction-failed",e,r),!1)}function Oe(e){for(var t=!0,n=0,r=Object.values(e);n<r.length;n++){var i=r[n];Y(this,se)[se](i)||(t=!1)}return t}function Se(e){if(!1===this.getState().allowNewUpload){var t=new B(this.i18n("noMoreFilesAllowed"),{file:e});throw Y(this,oe)[oe]([t]),t}}function ke(e){var t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=(0,A.A)(t),r=function(e,t){return t.name?t.name:"image"===e.split("/")[0]?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}(n,t),i=(0,P.A)(r).extension,o=(0,F.N)(t),s=t.meta||{};s.name=r,s.type=n;var a=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:o,name:r,extension:i||"",meta:G(G({},this.getState().meta),s),type:n,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:a,uploadComplete:!1,uploadStarted:null},size:a,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote||"",preview:t.preview}}function Ae(){var e=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((function(){e.scheduledAutoProceed=null,e.upload().catch((function(t){t.isRestriction||e.log(t.stack||t.message||t)}))}),4))}function Pe(e){var t,n=this.getState().files,r=G({},n),i=[],s=[],a=$(e);try{for(a.s();!(t=a.n()).done;){var l=t.value;try{var u,c=Y(this,ue)[ue](l),f=null==(u=n[c.id])?void 0:u.isGhost;if(f)c=G(G({},n[c.id]),{},{isGhost:!1,data:l.data}),this.log("Replaced the blob in the restored ghost file: ".concat(c.name,", ").concat(c.id));var d=this.opts.onBeforeFileAdded(c,r);if(!d&&this.checkIfFileAlreadyExists(c.id))throw new B(this.i18n("noDuplicates",{fileName:c.name}),{file:l});if(!1===d&&!f)throw new B("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});"object"===(0,o.A)(d)&&null!==d&&(c=d),Y(this,Q)[Q].validateSingleFile(c),r[c.id]=c,i.push(c)}catch(p){s.push(p)}}}catch(p){a.e(p)}finally{a.f()}try{Y(this,Q)[Q].validateAggregateRestrictions(Object.values(n),i)}catch(p){return s.push(p),{nextFilesState:n,validFilesToAdd:[],errors:s}}return{nextFilesState:r,validFilesToAdd:i,errors:s}}function Fe(){var e=this,t=function(t,n,r){var i=t.message||"Unknown error";t.details&&(i+=" ".concat(t.details)),e.setState({error:i}),null!=n&&n.id in e.getState().files&&e.setFileState(n.id,{error:i,response:r})};this.on("error",t),this.on("upload-error",(function(n,r,i){if(t(r,n,i),"object"===(0,o.A)(r)&&r.message){var s;e.log(r.message,"error");var a=new Error(e.i18n("failedToUpload",{file:null!=(s=null==n?void 0:n.name)?s:""}));a.isUserFacing=!0,a.details=r.message,r.details&&(a.details+=" ".concat(r.details)),Y(e,oe)[oe]([a])}else Y(e,oe)[oe]([r])}));var n=null;this.on("upload-stalled",(function(t,r){var i=t.message,o=r.map((function(e){return e.meta.name})).join(", ");n||(e.info({message:i,details:o},"warning",e.opts.infoTimeout),n=setTimeout((function(){n=null}),e.opts.infoTimeout)),e.log("".concat(i," ").concat(o).trim(),"warning")})),this.on("upload",(function(){e.setState({error:null})}));this.on("upload-start",(function(t){t.forEach((function(t){e.emit("upload-started",t)})),function(t){var n=t.filter((function(t){var n=null!=t&&e.getFile(t.id);return n||e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id)),n})),r=Object.fromEntries(n.map((function(e){return[e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}]})));e.patchFilesState(r)}(t)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(function(t,n){if(null!=t&&e.getFile(t.id)){var r=e.getFile(t.id).progress;e.setFileState(t.id,{progress:G(G({},r),{},{postprocess:Y(e,ie)[ie].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),null==t.size&&e.setFileState(t.id,{size:n.bytesUploaded||r.bytesTotal}),e.calculateTotalProgress()}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:G(G({},e.getFile(t.id).progress),{},{preprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("preprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=G({},e.getState().files);n[t.id]=G(G({},n[t.id]),{},{progress:G({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-progress",(function(t,n){null!=t&&e.getFile(t.id)?e.setFileState(t.id,{progress:G(G({},e.getState().files[t.id].progress),{},{postprocess:n})}):e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("postprocess-complete",(function(t){if(null!=t&&e.getFile(t.id)){var n=G({},e.getState().files);n[t.id]=G(G({},n[t.id]),{},{progress:G({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))})),this.on("restored",(function(){e.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(function(t){t&&Y(e,se)[se](t)})),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",Y(this,pe)[pe]),window.addEventListener("offline",Y(this,pe)[pe]),setTimeout(Y(this,pe)[pe],3e3))}function xe(e,t){void 0===t&&(t={});var n=t.forceAllowNewUpload,r=void 0!==n&&n,i=this.getState(),o=i.allowNewUpload,s=i.currentUploads;if(!o&&!r)throw new Error("Cannot create a new upload: already uploading.");var l=(0,p.A)();return this.emit("upload",{id:l,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:G(G({},s),{},(0,a.A)({},l,{fileIDs:e,step:0,result:{}}))}),l}function je(e){return this.getState().currentUploads[e]}function Ee(e){var t=G({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})}function Ue(e){return Te.apply(this,arguments)}function Te(){return(Te=(0,r.A)(c.mark((function e(t){var n,r,o,s,l,u,f,d,p,h,g=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=function(){return g.getState().currentUploads[t]})(),o=[].concat((0,i.A)(Y(this,ne)[ne]),(0,i.A)(Y(this,re)[re]),(0,i.A)(Y(this,ie)[ie])),e.prev=3,s=r.step||0;case 5:if(!(s<o.length)){e.next=17;break}if(r){e.next=8;break}return e.abrupt("break",17);case 8:return l=o[s],this.setState({currentUploads:G(G({},this.getState().currentUploads),{},(0,a.A)({},t,G(G({},r),{},{step:s})))}),u=r.fileIDs,e.next=13,l(u,t);case 13:r=n();case 14:s++,e.next=5;break;case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(3),Y(this,ye)[ye](t),e.t0;case 23:return r&&(r.fileIDs.forEach((function(e){var t=g.getFile(e);t&&t.progress.postprocess&&g.emit("postprocess-complete",t)})),f=r.fileIDs.map((function(e){return g.getFile(e)})),d=f.filter((function(e){return!e.error})),p=f.filter((function(e){return e.error})),this.addResultData(t,{successful:d,failed:p,uploadID:t}),r=n()),r&&(h=r.result,this.emit("complete",h),Y(this,ye)[ye](t)),null==h&&this.log("Not setting result for an upload that has been removed: ".concat(t)),e.abrupt("return",h);case 27:case"end":return e.stop()}}),e,this,[[3,19]])})))).apply(this,arguments)}_e.VERSION="3.9.3";const Me=_e},26656:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BasePlugin:()=>o.A,UIPlugin:()=>i.A,Uppy:()=>r.A,debugLogger:()=>s.w,default:()=>r.A});var r=n(78655),i=n(73848),o=n(32744),s=n(77001)},77001:(e,t,n)=>{"use strict";n.d(t,{w:()=>s,I:()=>o});n(28706),n(76918),n(23288),n(26099),n(38781);function r(e){return e<10?"0".concat(e):e.toString()}function i(){var e=new Date,t=r(e.getHours()),n=r(e.getMinutes()),i=r(e.getSeconds());return"".concat(t,":").concat(n,":").concat(i)}var o={debug:function(){},warn:function(){},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}},s={debug:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).debug.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},warn:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))},error:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["[Uppy] [".concat(i(),"]")].concat(n))}}},13656:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(51531),i=n(18180),o=n(58237),s=n(84285);n(52675),n(83237),n(31073),n(16280),n(76918),n(2008),n(51629),n(64346),n(48598),n(44114),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(38781),n(25440),n(90744),n(23500);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var c=0;function f(e){return"__private_"+c+++"_"+e}function d(e,t,n){var r=[];return e.forEach((function(e){return"string"!=typeof e?r.push(e):t[Symbol.split](e).forEach((function(e,t,i){""!==e&&r.push(e),t<i.length-1&&r.push(n)}))})),r}function p(e,t){var n=/\$/g,r=[e];if(null==t)return r;for(var i=0,o=Object.keys(t);i<o.length;i++){var s=o[i];if("_"!==s){var a=t[s];"string"==typeof a&&(a=n[Symbol.replace](a,"$$$$")),r=d(r,new RegExp("%\\{".concat(s,"\\}"),"g"),a)}}return r}var h=function(e){throw new Error("missing string: ".concat(e))},g=f("onMissingKey"),v=f("apply"),y=function(){return(0,s.A)((function e(t,n){(0,o.A)(this,e);var r=(void 0===n?{}:n).onMissingKey,i=void 0===r?h:r;Object.defineProperty(this,v,{value:m}),Object.defineProperty(this,g,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(t)?t.forEach(u(this,v)[v],this):u(this,v)[v](t),u(this,g)[g]=i}),[{key:"translate",value:function(e,t){return this.translateArray(e,t).join("")}},{key:"translateArray",value:function(e,t){var n=this.locale.strings[e];if(null==n&&(u(this,g)[g](e),n=e),"object"===(0,i.A)(n)){if(t&&void 0!==t.smart_count)return p(n[this.locale.pluralize(t.smart_count)],t);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof n)throw new Error("string was not a string");return p(n,t)}}])}();function m(e){if(null!=e&&e.strings){var t=this.locale;Object.assign(this.locale,{strings:l(l({},t.strings),e.strings),pluralize:e.pluralize||t.pluralize})}}},21214:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(51531),i=(n(76918),n(52675),n(2008),n(51629),n(23792),n(44114),n(23288),n(62010),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(27495),n(38781),n(31415),n(47764),n(25440),n(23500),n(62953),n(51494));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){var t="";return e.replace(/[^A-Z0-9]/gi,(function(e){return t+="-".concat(function(e){return e.charCodeAt(0).toString(32)}(e)),"/"}))+t}function l(e,t){if(function(e){return!(!e.isRemote||!e.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}(e))return e.id;var n=(0,i.A)(e);return function(e,t){var n=t||"uppy";return"string"==typeof e.name&&(n+="-".concat(a(e.name.toLowerCase()))),void 0!==e.type&&(n+="-".concat(e.type)),e.meta&&"string"==typeof e.meta.relativePath&&(n+="-".concat(a(e.meta.relativePath.toLowerCase()))),void 0!==e.data.size&&(n+="-".concat(e.data.size)),void 0!==e.data.lastModified&&(n+="-".concat(e.data.lastModified)),n}(s(s({},e),{},{type:n}),t)}},77943:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(8921),n(34782);function r(e){var t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}},51494:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(62010);var r=n(77943),i=n(63265);function o(e){var t;if(e.type)return e.type;var n=e.name?null==(t=(0,r.A)(e.name).extension)?void 0:t.toLowerCase():null;return n&&n in i.A?i.A[n]:"application/octet-stream"}},36118:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir}},10826:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(18180);function i(e){return"object"===(0,r.A)(e)&&null!==e&&("nodeType"in e&&e.nodeType===Node.ELEMENT_NODE)}},63265:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},51391:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e}}}]);