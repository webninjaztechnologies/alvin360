jQuery(document).ready(function($){function showLoader(){$('#page_loader').css('opacity',1)}
function hideLoader(){$('#page_loader').css('opacity',0)}
const $fileInput=$('#profilePic');const $fileNameDisplay=$('#profilepicID');const $profilePicLabel=$('#profilePicLabel');const $uploadInput=$('#browserFile');const $uploadDisplay=$('#browserID');const $browserFileLabel=$('#browserFileLabel');$fileInput.on('change',function(){const files=$fileInput.prop('files');if(files.length>0){const fileName=files[0].name;$fileNameDisplay.html(`${fileName}`);$profilePicLabel.text('UPLOAD SUCCESSFULLY')}else{$fileNameDisplay.text('');$profilePicLabel.text('UPLOAD PROFILE PICTURE')}});$uploadInput.on('change',function(){const files=$uploadInput.prop('files');if(files.length>0){const fileName=files[0].name;$uploadDisplay.html(`${fileName}&nbsp;&nbsp;X`);$browserFileLabel.text('UPLOAD SUCCESSFULLY')}else{$uploadDisplay.text('');$browserFileLabel.text('UPLOAD YOUR PORTFOLIO')}});$('#uploadImage1').on('click',function(){$fileInput.trigger('click')});$('#uploadImage2').on('click',function(){$uploadInput.trigger('click')});$('#phone_number').on('keypress',function(e){var input=$(this).val();input=input.replace(/\D/g,'');if(input.length>=10){e.preventDefault()}});$('#phone_number').on('keyup',function(){var input=$(this).val();input=input.replace(/\D/g,'');var formattedInput='';if(input.length>0){formattedInput+='('+input.substring(0,3)}
if(input.length>3){formattedInput+=') '+input.substring(3,6)}
if(input.length>6){formattedInput+=' '+input.substring(6,10)}
$(this).val(formattedInput)});$(document).ready(function(){$('#invitation-heading').hover(function(){console.log('inside');$('#tooltip-block-heading').show()},function(){console.log('outside');$('#tooltip-block-heading').hide()});$('#hover-for-email').hover(function(){$('#tooltip-block-email').show()},function(){$('#tooltip-block-email').hide()});$('#hover-for-incitatincode').hover(function(){$('#tooltip-block-invitatincode').show()},function(){$('#tooltip-block-invitatincode').hide()});$('#user-information-heading').hover(function(){$('#tooltip-user-heading').show()},function(){$('#tooltip-user-heading').hide()});$('#hover-for-firstname').hover(function(){$('#tooltip-user-firstname').show()},function(){$('#tooltip-user-firstname').hide()});$('#hover-for-lastname').hover(function(){$('#tooltip-user-lastname').show()},function(){$('#tooltip-user-lastname').hide()});$('#hover-for-username').hover(function(){$('#tooltip-user-username').show()},function(){$('#tooltip-user-username').hide()});$('#hover-for-phonenumber').hover(function(){$('#tooltip-user-phonenumber').show()},function(){$('#tooltip-user-phonenumber').hide()});$('#hover-for-password').hover(function(){$('#tooltip-user-password').show()},function(){$('#tooltip-user-password').hide()});$('#hover-for-confirm-pass').hover(function(){$('#tooltip-user-confirmpassword').show()},function(){$('#tooltip-user-confirmpassword').hide()})});jQuery(document).ready(function($){$('.user-carousel').slick({slidesToShow:4,slidesToScroll:1,autoplay:!0,autoplaySpeed:2000,dots:!1,arrows:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}}]})});const fileInput=document.getElementById('file-upload');const fileLabel=document.getElementById('file-upload-label');const fileNameDisplay=document.getElementById('file-upload-name');fileInput.addEventListener('change',function(){const files=fileInput.files;if(files.length>0){const fileName=files[0].name;fileNameDisplay.textContent=`${fileName}`;fileLabel.textContent='UPLOADED'}else{fileNameDisplay.textContent='';fileLabel.textContent='UPLOAD FILE'}});if(typeof gamipress_ajax_object==='undefined'){console.error('gamipress_ajax_object is not defined')}
let currentStep=1;let totalPoints=0;function nextStep(step){currentStep=step+1;totalPoints+=20;const pointsDisplayElement=document.getElementById(`pointsStep${currentStep}`);if(pointsDisplayElement){pointsDisplayElement.innerText=totalPoints}
if(step>=1&&step<4){alert(`You have earned ${totalPoints} points so far!`)}
jQuery.ajax({url:gamipress_ajax_object.ajaxurl,type:'POST',data:{action:'award_points',points:totalPoints,nonce:gamipress_ajax_object.nonce},success:function(response){if(response.success){console.log('Points awarded successfully')}else{console.log('Failed to award points')}},error:function(xhr,status,error){console.error('AJAX Error:',status,error)}})}
console.log('hello page');$('#validate_invitation_code').on('click',function(event){event.preventDefault();localStorage.clear();let emailAddress=$('#user_email').val();let invitationCodeField=$('#invitation_code');let invitationCode=invitationCodeField.length?invitationCodeField.val():null;console.log('Email Address:',emailAddress);console.log('Invitation Code:',invitationCode);const invitationCodeEnabled=document.getElementById('invitation_code_enabled').value==='enable';if(!emailAddress||(invitationCodeEnabled&&!invitationCode)){alert("Please fill in all required fields.");return}
showLoader();$.ajax({url:ajax_object.ajax_url,type:'post',data:{action:'validate_invitation_code',emailAddress:emailAddress,invitationCode:invitationCodeEnabled?invitationCode:null},success:function(response){hideLoader();try{response=JSON.parse(response);if(response.success===!0){console.log('Success:',response.message);localStorage.setItem('emailAddress',emailAddress);$('#usr-email').html(emailAddress);$('#code-validation-container').hide();$("#personal-details-container").show();nextStep(1)}else{alert(response.message)}}catch(e){console.error('Error parsing JSON response:',e);alert('An unexpected error occurred. Please try again.')}},error:function(xhr,status,error){hideLoader();console.error('AJAX Error:',status,error);alert('An error occurred while processing your request. Please try again.')}})});$("#submit_details-btn").on('click',function(event){event.preventDefault();let emailAddress=localStorage.getItem('emailAddress');let usrName=$('#username').val();let phoneNumber=$('#phone_number').val();let password=$('#password').val();let confirmPassword=$('#cnfrm_pswrd').val();let lastName=$('#last_name').val();let firstName=$('#first_name').val();if(!emailAddress||!usrName||!phoneNumber||!password||!confirmPassword||!lastName||!firstName){alert("Please fill in all required fields");return}
if(password!==confirmPassword){alert('Password is not match.');return}
showLoader();$.ajax({url:ajax_object.ajax_url,type:'post',data:{action:'register_new_artist',emailAddress:emailAddress,usrName:usrName,phoneNumber:phoneNumber,password:password,confirmPassword:confirmPassword,firstName:firstName,lastName:lastName,},success:function(response){hideLoader();if(response.success===!0){var userId=response.data.user_id;console.log('userId: ',userId);$("#crnt_usr_id").val(userId);$("#personal-details-container").hide();$('#select-group-container').show();nextStep(2)}else{let data=response.data;alert(data.message)}
console.log(response)},error:function(error){hideLoader();alert(error.message);console.log(error)}})});$('#add_to_group_btn').on('click',function(event){event.preventDefault();let userID=$('#crnt_usr_id').val();let groupID;var selectedGroups=[];$('input[name="groups[]"]:checked').each(function(){selectedGroups.push($(this).val())});console.log(selectedGroups);if(!selectedGroups){alert("Please select a group alert1");return}
showLoader();$.ajax({url:ajax_object.ajax_url,type:'post',data:{action:'join_buddypress_groups',group_ids:selectedGroups,user_id:userID},success:function(response){hideLoader();if(response.success===!0){$('#select-group-container').hide();$('#upload-file-container').show();nextStep(3)}else{let data=response.data;alert(data.message)}
console.log(response)},error:function(error){hideLoader();console.log(error)}})});$('#create-story-form').on('submit',function(event){event.preventDefault();var formData=new FormData(this);formData.append('action','handle_nightlife360_form_submission');let img=$('#file-upload').val();console.log(img);showLoader();$.ajax({url:ajax_object.ajax_url,type:'POST',data:formData,contentType:!1,processData:!1,success:function(response){hideLoader();console.log(response);if(response.success===!0){nextStep(5);alert(`You have earned ${totalPoints} points so far!`);$("#featured-story-container").hide();$('#thankyou-page-container').show()}else{alert("Error occurred while creating story: "+response.data.message)}},error:function(xhr,status,error){hideLoader();console.error('AJAX Error:',status,error);alert('An error occurred while submitting the form. Please try again.')}})});$("#affiliate_artist_btn").on('click',function(event){event.preventDefault();let artistName=$('#artist-name').val();let artistEmail=$('#artist-email').val();let affiliateID=$('#affiliate-id').val();if(!artistName||!artistEmail){alert("Please fill required field.");return}
$.ajax({url:ajax_object.ajax_url,type:'post',data:{action:'handle_affiliate_form',artistName:artistName,artistEmail:artistEmail,affiliateID:affiliateID},success:function(response){console.log(response);alert(response)},error:function(error){console.log(error);alert(error)}})});$('#add_profile_bio_form').on('submit',function(event){event.preventDefault();let formData=new FormData(this);formData.append('action','add_profile_image_bio_action');showLoader();$.ajax({url:ajax_object.ajax_url,type:'post',data:formData,contentType:!1,processData:!1,success:function(response){hideLoader();console.log("inside 4th");nextStep(4);console.log("outside 4th");$('#upload-file-container').hide();$('#featured-story-container').show();alert(`You have earned ${totalPoints} points so far!`)},error:function(error){hideLoader();alert("Unexpected error occured. Please try after some time.")}})})
$('input').each(function(){$(this).on('focus',function(){$(this).attr('autocomplete','off')})})})
;